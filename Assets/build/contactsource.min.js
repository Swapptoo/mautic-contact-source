"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},windowIsDefined="object"===("undefined"==typeof window?"undefined":_typeof(window));function levenshtein(t,e){var i;if(0===t.length)return e.length;if(0===e.length)return t.length;t.length>e.length&&(i=t,t=e,e=i);var n,s,r,o=t.length,a=e.length,l=Array(o);for(n=0;n<=o;n++)l[n]=n;for(n=1;n<=a;n++)for(r=n,s=1;s<=o;s++)i=l[s-1],l[s-1]=r,r=e[n-1]===t[s-1]?i:Math.min(i+1,Math.min(r+1,l[s]+1));return r}!function(t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports){var e;try{e=require("jquery")}catch(t){e=null}module.exports=t(e)}else window&&(window.Slider=t(window.jQuery))}(function(t){var e,i="slider",n="bootstrapSlider";return windowIsDefined&&!window.console&&(window.console={}),windowIsDefined&&!window.console.log&&(window.console.log=function(){}),windowIsDefined&&!window.console.warn&&(window.console.warn=function(){}),function(t){function e(){}var i=Array.prototype.slice;!function(t){if(t){var n="undefined"==typeof console?e:function(t){console.error(t)};t.bridget=function(e,s){var r,o,a;(a=s).prototype.option||(a.prototype.option=function(e){t.isPlainObject(e)&&(this.options=t.extend(!0,this.options,e))}),r=e,o=s,t.fn[r]=function(e){if("string"==typeof e){for(var s=i.call(arguments,1),a=0,l=this.length;l>a;a++){var d=this[a],h=t.data(d,r);if(h)if(t.isFunction(h[e])&&"_"!==e.charAt(0)){var u=h[e].apply(h,s);if(void 0!==u&&u!==h)return u}else n("no such method '"+e+"' for "+r+" instance");else n("cannot call methods on "+r+" prior to initialization; attempted to call '"+e+"'")}return this}var c=this.map(function(){var i=t.data(this,r);return i?(i.option(e),i._init()):(i=new o(this,e),t.data(this,r,i)),t(this)});return!c||c.length>1?c:c[0]}},t.bridget}}(t)}(t),function(t){function s(e,i){function n(t,e){var i="data-slider-"+e.replace(/_/g,"-"),n=t.getAttribute(i);try{return JSON.parse(n)}catch(t){return n}}this._state={value:null,enabled:null,offset:null,size:null,percentage:null,inDrag:!1,over:!1},this.ticksCallbackMap={},this.handleCallbackMap={},"string"==typeof e?this.element=document.querySelector(e):e instanceof HTMLElement&&(this.element=e),i=i||{};for(var s=Object.keys(this.defaultOptions),r=0;r<s.length;r++){var a=s[r],l=i[a];l=null!==(l=void 0!==l?l:n(this.element,a))?l:this.defaultOptions[a],this.options||(this.options={}),this.options[a]=l}"auto"===this.options.rtl&&(this.options.rtl="rtl"===window.getComputedStyle(this.element).direction),"vertical"!==this.options.orientation||"top"!==this.options.tooltip_position&&"bottom"!==this.options.tooltip_position?"horizontal"!==this.options.orientation||"left"!==this.options.tooltip_position&&"right"!==this.options.tooltip_position||(this.options.tooltip_position="top"):this.options.rtl?this.options.tooltip_position="left":this.options.tooltip_position="right";var d,h,u,c,p,f=this.element.style.width,m=!1,g=this.element.parentNode;if(this.sliderElem)m=!0;else{this.sliderElem=document.createElement("div"),this.sliderElem.className="slider";var b=document.createElement("div");b.className="slider-track",(h=document.createElement("div")).className="slider-track-low",(d=document.createElement("div")).className="slider-selection",(u=document.createElement("div")).className="slider-track-high",(c=document.createElement("div")).className="slider-handle min-slider-handle",c.setAttribute("role","slider"),c.setAttribute("aria-valuemin",this.options.min),c.setAttribute("aria-valuemax",this.options.max),(p=document.createElement("div")).className="slider-handle max-slider-handle",p.setAttribute("role","slider"),p.setAttribute("aria-valuemin",this.options.min),p.setAttribute("aria-valuemax",this.options.max),b.appendChild(h),b.appendChild(d),b.appendChild(u),this.rangeHighlightElements=[];var y=this.options.rangeHighlights;if(Array.isArray(y)&&y.length>0)for(var v=0;v<y.length;v++){var _=document.createElement("div"),w=y[v].class||"";_.className="slider-rangeHighlight slider-selection "+w,this.rangeHighlightElements.push(_),b.appendChild(_)}var x=Array.isArray(this.options.labelledby);if(x&&this.options.labelledby[0]&&c.setAttribute("aria-labelledby",this.options.labelledby[0]),x&&this.options.labelledby[1]&&p.setAttribute("aria-labelledby",this.options.labelledby[1]),!x&&this.options.labelledby&&(c.setAttribute("aria-labelledby",this.options.labelledby),p.setAttribute("aria-labelledby",this.options.labelledby)),this.ticks=[],Array.isArray(this.options.ticks)&&this.options.ticks.length>0){for(this.ticksContainer=document.createElement("div"),this.ticksContainer.className="slider-tick-container",r=0;r<this.options.ticks.length;r++){var C=document.createElement("div");if(C.className="slider-tick",this.options.ticks_tooltip){var T=this._addTickListener(),S=T.addMouseEnter(this,C,r),k=T.addMouseLeave(this,C);this.ticksCallbackMap[r]={mouseEnter:S,mouseLeave:k}}this.ticks.push(C),this.ticksContainer.appendChild(C)}d.className+=" tick-slider-selection"}if(this.tickLabels=[],Array.isArray(this.options.ticks_labels)&&this.options.ticks_labels.length>0)for(this.tickLabelContainer=document.createElement("div"),this.tickLabelContainer.className="slider-tick-label-container",r=0;r<this.options.ticks_labels.length;r++){var I=document.createElement("div"),D=0===this.options.ticks_positions.length,A=this.options.reversed&&D?this.options.ticks_labels.length-(r+1):r;I.className="slider-tick-label",I.innerHTML=this.options.ticks_labels[A],this.tickLabels.push(I),this.tickLabelContainer.appendChild(I)}var E=function(t){var e=document.createElement("div");e.className="tooltip-arrow";var i=document.createElement("div");i.className="tooltip-inner",t.appendChild(e),t.appendChild(i)},F=document.createElement("div");F.className="tooltip tooltip-main",F.setAttribute("role","presentation"),E(F);var N=document.createElement("div");N.className="tooltip tooltip-min",N.setAttribute("role","presentation"),E(N);var L=document.createElement("div");L.className="tooltip tooltip-max",L.setAttribute("role","presentation"),E(L),this.sliderElem.appendChild(b),this.sliderElem.appendChild(F),this.sliderElem.appendChild(N),this.sliderElem.appendChild(L),this.tickLabelContainer&&this.sliderElem.appendChild(this.tickLabelContainer),this.ticksContainer&&this.sliderElem.appendChild(this.ticksContainer),this.sliderElem.appendChild(c),this.sliderElem.appendChild(p),g.insertBefore(this.sliderElem,this.element),this.element.style.display="none"}if(t&&(this.$element=t(this.element),this.$sliderElem=t(this.sliderElem)),this.eventToCallbackMap={},this.sliderElem.id=this.options.id,this.touchCapable="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,this.touchX=0,this.touchY=0,this.tooltip=this.sliderElem.querySelector(".tooltip-main"),this.tooltipInner=this.tooltip.querySelector(".tooltip-inner"),this.tooltip_min=this.sliderElem.querySelector(".tooltip-min"),this.tooltipInner_min=this.tooltip_min.querySelector(".tooltip-inner"),this.tooltip_max=this.sliderElem.querySelector(".tooltip-max"),this.tooltipInner_max=this.tooltip_max.querySelector(".tooltip-inner"),o[this.options.scale]&&(this.options.scale=o[this.options.scale]),!0===m&&(this._removeClass(this.sliderElem,"slider-horizontal"),this._removeClass(this.sliderElem,"slider-vertical"),this._removeClass(this.sliderElem,"slider-rtl"),this._removeClass(this.tooltip,"hide"),this._removeClass(this.tooltip_min,"hide"),this._removeClass(this.tooltip_max,"hide"),["left","right","top","width","height"].forEach(function(t){this._removeProperty(this.trackLow,t),this._removeProperty(this.trackSelection,t),this._removeProperty(this.trackHigh,t)},this),[this.handle1,this.handle2].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top")},this),[this.tooltip,this.tooltip_min,this.tooltip_max].forEach(function(t){this._removeProperty(t,"left"),this._removeProperty(t,"right"),this._removeProperty(t,"top"),this._removeClass(t,"right"),this._removeClass(t,"left"),this._removeClass(t,"top")},this)),"vertical"===this.options.orientation?(this._addClass(this.sliderElem,"slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight"):(this._addClass(this.sliderElem,"slider-horizontal"),this.sliderElem.style.width=f,this.options.orientation="horizontal",this.options.rtl?this.stylePos="right":this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth"),this.options.rtl&&this._addClass(this.sliderElem,"slider-rtl"),this._setTooltipPosition(),Array.isArray(this.options.ticks)&&this.options.ticks.length>0&&(this.options.max=Math.max.apply(Math,this.options.ticks),this.options.min=Math.min.apply(Math,this.options.ticks)),Array.isArray(this.options.value)?(this.options.range=!0,this._state.value=this.options.value):this.options.range?this._state.value=[this.options.value,this.options.max]:this._state.value=this.options.value,this.trackLow=h||this.trackLow,this.trackSelection=d||this.trackSelection,this.trackHigh=u||this.trackHigh,"none"===this.options.selection?(this._addClass(this.trackLow,"hide"),this._addClass(this.trackSelection,"hide"),this._addClass(this.trackHigh,"hide")):("after"===this.options.selection||"before"===this.options.selection)&&(this._removeClass(this.trackLow,"hide"),this._removeClass(this.trackSelection,"hide"),this._removeClass(this.trackHigh,"hide")),this.handle1=c||this.handle1,this.handle2=p||this.handle2,!0===m)for(this._removeClass(this.handle1,"round triangle"),this._removeClass(this.handle2,"round triangle hide"),r=0;r<this.ticks.length;r++)this._removeClass(this.ticks[r],"round triangle hide");if(-1!==["round","triangle","custom"].indexOf(this.options.handle))for(this._addClass(this.handle1,this.options.handle),this._addClass(this.handle2,this.options.handle),r=0;r<this.ticks.length;r++)this._addClass(this.ticks[r],this.options.handle);if(this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this.setValue(this._state.value),this.handle1Keydown=this._keydown.bind(this,0),this.handle1.addEventListener("keydown",this.handle1Keydown,!1),this.handle2Keydown=this._keydown.bind(this,1),this.handle2.addEventListener("keydown",this.handle2Keydown,!1),this.mousedown=this._mousedown.bind(this),this.touchstart=this._touchstart.bind(this),this.touchmove=this._touchmove.bind(this),this.touchCapable){var O=!1;try{var R=Object.defineProperty({},"passive",{get:function(){O=!0}});window.addEventListener("test",null,R)}catch(t){}var B=!!O&&{passive:!0};this.sliderElem.addEventListener("touchstart",this.touchstart,B),this.sliderElem.addEventListener("touchmove",this.touchmove,B)}if(this.sliderElem.addEventListener("mousedown",this.mousedown,!1),this.resize=this._resize.bind(this),window.addEventListener("resize",this.resize,!1),"hide"===this.options.tooltip)this._addClass(this.tooltip,"hide"),this._addClass(this.tooltip_min,"hide"),this._addClass(this.tooltip_max,"hide");else if("always"===this.options.tooltip)this._showTooltip(),this._alwaysShowTooltip=!0;else{if(this.showTooltip=this._showTooltip.bind(this),this.hideTooltip=this._hideTooltip.bind(this),this.options.ticks_tooltip){var P=this._addTickListener(),j=P.addMouseEnter(this,this.handle1),H=P.addMouseLeave(this,this.handle1);this.handleCallbackMap.handle1={mouseEnter:j,mouseLeave:H},j=P.addMouseEnter(this,this.handle2),H=P.addMouseLeave(this,this.handle2),this.handleCallbackMap.handle2={mouseEnter:j,mouseLeave:H}}else this.sliderElem.addEventListener("mouseenter",this.showTooltip,!1),this.sliderElem.addEventListener("mouseleave",this.hideTooltip,!1);this.handle1.addEventListener("focus",this.showTooltip,!1),this.handle1.addEventListener("blur",this.hideTooltip,!1),this.handle2.addEventListener("focus",this.showTooltip,!1),this.handle2.addEventListener("blur",this.hideTooltip,!1)}this.options.enabled?this.enable():this.disable()}var r=function(t){return"Invalid input value '"+t+"' passed in"},o={linear:{toValue:function(t){var e=t/100*(this.options.max-this.options.min),i=!0;if(this.options.ticks_positions.length>0){for(var n,s,r,o=0,a=1;a<this.options.ticks_positions.length;a++)if(t<=this.options.ticks_positions[a]){n=this.options.ticks[a-1],r=this.options.ticks_positions[a-1],s=this.options.ticks[a],o=this.options.ticks_positions[a];break}e=n+(t-r)/(o-r)*(s-n),i=!1}var l=(i?this.options.min:0)+Math.round(e/this.options.step)*this.options.step;return l<this.options.min?this.options.min:l>this.options.max?this.options.max:l},toPercentage:function(t){if(this.options.max===this.options.min)return 0;if(this.options.ticks_positions.length>0){for(var e,i,n,s=0,r=0;r<this.options.ticks.length;r++)if(t<=this.options.ticks[r]){e=r>0?this.options.ticks[r-1]:0,n=r>0?this.options.ticks_positions[r-1]:0,i=this.options.ticks[r],s=this.options.ticks_positions[r];break}if(r>0)return n+(t-e)/(i-e)*(s-n)}return 100*(t-this.options.min)/(this.options.max-this.options.min)}},logarithmic:{toValue:function(t){var e=0===this.options.min?0:Math.log(this.options.min),i=Math.log(this.options.max),n=Math.exp(e+(i-e)*t/100);return Math.round(n)===this.options.max?this.options.max:(n=this.options.min+Math.round((n-this.options.min)/this.options.step)*this.options.step)<this.options.min?this.options.min:n>this.options.max?this.options.max:n},toPercentage:function(t){if(this.options.max===this.options.min)return 0;var e=Math.log(this.options.max),i=0===this.options.min?0:Math.log(this.options.min);return 100*((0===t?0:Math.log(t))-i)/(e-i)}}};if((e=function(t,e){return s.call(this,t,e),this}).prototype={_init:function(){},constructor:e,defaultOptions:{id:"",min:0,max:10,step:1,precision:0,orientation:"horizontal",value:5,range:!1,selection:"before",tooltip:"show",tooltip_split:!1,handle:"round",reversed:!1,rtl:"auto",enabled:!0,formatter:function(t){return Array.isArray(t)?t[0]+" : "+t[1]:t},natural_arrow_keys:!1,ticks:[],ticks_positions:[],ticks_labels:[],ticks_snap_bounds:0,ticks_tooltip:!1,scale:"linear",focus:!1,tooltip_position:null,labelledby:null,rangeHighlights:[]},getElement:function(){return this.sliderElem},getValue:function(){return this.options.range?this._state.value:this._state.value[0]},setValue:function(t,e,i){t||(t=0);var n=this.getValue();this._state.value=this._validateInputValue(t);var s=this._applyPrecision.bind(this);this.options.range?(this._state.value[0]=s(this._state.value[0]),this._state.value[1]=s(this._state.value[1]),this._state.value[0]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[0])),this._state.value[1]=Math.max(this.options.min,Math.min(this.options.max,this._state.value[1]))):(this._state.value=s(this._state.value),this._state.value=[Math.max(this.options.min,Math.min(this.options.max,this._state.value))],this._addClass(this.handle2,"hide"),"after"===this.options.selection?this._state.value[1]=this.options.max:this._state.value[1]=this.options.min),this.options.max>this.options.min?this._state.percentage=[this._toPercentage(this._state.value[0]),this._toPercentage(this._state.value[1]),100*this.options.step/(this.options.max-this.options.min)]:this._state.percentage=[0,0,100],this._layout();var r=this.options.range?this._state.value:this._state.value[0];return this._setDataVal(r),!0===e&&this._trigger("slide",r),n!==r&&!0===i&&this._trigger("change",{oldValue:n,newValue:r}),this},destroy:function(){this._removeSliderEventHandlers(),this.sliderElem.parentNode.removeChild(this.sliderElem),this.element.style.display="",this._cleanUpEventCallbacksMap(),this.element.removeAttribute("data"),t&&(this._unbindJQueryEventHandlers(),this.$element.removeData("slider"))},disable:function(){return this._state.enabled=!1,this.handle1.removeAttribute("tabindex"),this.handle2.removeAttribute("tabindex"),this._addClass(this.sliderElem,"slider-disabled"),this._trigger("slideDisabled"),this},enable:function(){return this._state.enabled=!0,this.handle1.setAttribute("tabindex",0),this.handle2.setAttribute("tabindex",0),this._removeClass(this.sliderElem,"slider-disabled"),this._trigger("slideEnabled"),this},toggle:function(){return this._state.enabled?this.disable():this.enable(),this},isEnabled:function(){return this._state.enabled},on:function(t,e){return this._bindNonQueryEventHandler(t,e),this},off:function(e,i){t?(this.$element.off(e,i),this.$sliderElem.off(e,i)):this._unbindNonQueryEventHandler(e,i)},getAttribute:function(t){return t?this.options[t]:this.options},setAttribute:function(t,e){return this.options[t]=e,this},refresh:function(){return this._removeSliderEventHandlers(),s.call(this,this.element,this.options),t&&t.data(this.element,"slider",this),this},relayout:function(){return this._resize(),this._layout(),this},_removeSliderEventHandlers:function(){if(this.handle1.removeEventListener("keydown",this.handle1Keydown,!1),this.handle2.removeEventListener("keydown",this.handle2Keydown,!1),this.options.ticks_tooltip){for(var t=this.ticksContainer.getElementsByClassName("slider-tick"),e=0;e<t.length;e++)t[e].removeEventListener("mouseenter",this.ticksCallbackMap[e].mouseEnter,!1),t[e].removeEventListener("mouseleave",this.ticksCallbackMap[e].mouseLeave,!1);this.handle1.removeEventListener("mouseenter",this.handleCallbackMap.handle1.mouseEnter,!1),this.handle2.removeEventListener("mouseenter",this.handleCallbackMap.handle2.mouseEnter,!1),this.handle1.removeEventListener("mouseleave",this.handleCallbackMap.handle1.mouseLeave,!1),this.handle2.removeEventListener("mouseleave",this.handleCallbackMap.handle2.mouseLeave,!1)}this.handleCallbackMap=null,this.ticksCallbackMap=null,this.showTooltip&&(this.handle1.removeEventListener("focus",this.showTooltip,!1),this.handle2.removeEventListener("focus",this.showTooltip,!1)),this.hideTooltip&&(this.handle1.removeEventListener("blur",this.hideTooltip,!1),this.handle2.removeEventListener("blur",this.hideTooltip,!1)),this.showTooltip&&this.sliderElem.removeEventListener("mouseenter",this.showTooltip,!1),this.hideTooltip&&this.sliderElem.removeEventListener("mouseleave",this.hideTooltip,!1),this.sliderElem.removeEventListener("touchstart",this.touchstart,!1),this.sliderElem.removeEventListener("touchmove",this.touchmove,!1),this.sliderElem.removeEventListener("mousedown",this.mousedown,!1),window.removeEventListener("resize",this.resize,!1)},_bindNonQueryEventHandler:function(t,e){void 0===this.eventToCallbackMap[t]&&(this.eventToCallbackMap[t]=[]),this.eventToCallbackMap[t].push(e)},_unbindNonQueryEventHandler:function(t,e){var i=this.eventToCallbackMap[t];if(void 0!==i)for(var n=0;n<i.length;n++)if(i[n]===e){i.splice(n,1);break}},_cleanUpEventCallbacksMap:function(){for(var t=Object.keys(this.eventToCallbackMap),e=0;e<t.length;e++){var i=t[e];delete this.eventToCallbackMap[i]}},_showTooltip:function(){!1===this.options.tooltip_split?(this._addClass(this.tooltip,"in"),this.tooltip_min.style.display="none",this.tooltip_max.style.display="none"):(this._addClass(this.tooltip_min,"in"),this._addClass(this.tooltip_max,"in"),this.tooltip.style.display="none"),this._state.over=!0},_hideTooltip:function(){!1===this._state.inDrag&&!0!==this.alwaysShowTooltip&&(this._removeClass(this.tooltip,"in"),this._removeClass(this.tooltip_min,"in"),this._removeClass(this.tooltip_max,"in")),this._state.over=!1},_setToolTipOnMouseOver:function(t){function e(t,e){return e?[100-t.percentage[0],this.options.range?100-t.percentage[1]:t.percentage[1]]:[t.percentage[0],t.percentage[1]]}var i=this.options.formatter(t?t.value[0]:this._state.value[0]),n=e(t||this._state,this.options.reversed);this._setText(this.tooltipInner,i),this.tooltip.style[this.stylePos]=n[0]+"%"},_addTickListener:function(){return{addMouseEnter:function(t,e,i){var n=function(){var e=t._state,n=i>=0?i:this.attributes["aria-valuenow"].value,s=parseInt(n,10);e.value[0]=s,e.percentage[0]=t.options.ticks_positions[s],t._setToolTipOnMouseOver(e),t._showTooltip()};return e.addEventListener("mouseenter",n,!1),n},addMouseLeave:function(t,e){var i=function(){t._hideTooltip()};return e.addEventListener("mouseleave",i,!1),i}}},_layout:function(){var t,e;if(t=this.options.reversed?[100-this._state.percentage[0],this.options.range?100-this._state.percentage[1]:this._state.percentage[1]]:[this._state.percentage[0],this._state.percentage[1]],this.handle1.style[this.stylePos]=t[0]+"%",this.handle1.setAttribute("aria-valuenow",this._state.value[0]),isNaN(this.options.formatter(this._state.value[0]))&&this.handle1.setAttribute("aria-valuetext",this.options.formatter(this._state.value[0])),this.handle2.style[this.stylePos]=t[1]+"%",this.handle2.setAttribute("aria-valuenow",this._state.value[1]),isNaN(this.options.formatter(this._state.value[1]))&&this.handle2.setAttribute("aria-valuetext",this.options.formatter(this._state.value[1])),this.rangeHighlightElements.length>0&&Array.isArray(this.options.rangeHighlights)&&this.options.rangeHighlights.length>0)for(var i=0;i<this.options.rangeHighlights.length;i++){var n=this._toPercentage(this.options.rangeHighlights[i].start),s=this._toPercentage(this.options.rangeHighlights[i].end);if(this.options.reversed){var r=100-s;s=100-n,n=r}var o=this._createHighlightRange(n,s);o?"vertical"===this.options.orientation?(this.rangeHighlightElements[i].style.top=o.start+"%",this.rangeHighlightElements[i].style.height=o.size+"%"):(this.options.rtl?this.rangeHighlightElements[i].style.right=o.start+"%":this.rangeHighlightElements[i].style.left=o.start+"%",this.rangeHighlightElements[i].style.width=o.size+"%"):this.rangeHighlightElements[i].style.display="none"}if(Array.isArray(this.options.ticks)&&this.options.ticks.length>0){var a,l="vertical"===this.options.orientation?"height":"width";a="vertical"===this.options.orientation?"marginTop":this.options.rtl?"marginRight":"marginLeft";var d=this._state.size/(this.options.ticks.length-1);if(this.tickLabelContainer){var h=0;if(0===this.options.ticks_positions.length)"vertical"!==this.options.orientation&&(this.tickLabelContainer.style[a]=-d/2+"px"),h=this.tickLabelContainer.offsetHeight;else for(u=0;u<this.tickLabelContainer.childNodes.length;u++)this.tickLabelContainer.childNodes[u].offsetHeight>h&&(h=this.tickLabelContainer.childNodes[u].offsetHeight);"horizontal"===this.options.orientation&&(this.sliderElem.style.marginBottom=h+"px")}for(var u=0;u<this.options.ticks.length;u++){var c=this.options.ticks_positions[u]||this._toPercentage(this.options.ticks[u]);this.options.reversed&&(c=100-c),this.ticks[u].style[this.stylePos]=c+"%",this._removeClass(this.ticks[u],"in-selection"),this.options.range?c>=t[0]&&c<=t[1]&&this._addClass(this.ticks[u],"in-selection"):"after"===this.options.selection&&c>=t[0]?this._addClass(this.ticks[u],"in-selection"):"before"===this.options.selection&&c<=t[0]&&this._addClass(this.ticks[u],"in-selection"),this.tickLabels[u]&&(this.tickLabels[u].style[l]=d+"px","vertical"!==this.options.orientation&&void 0!==this.options.ticks_positions[u]?(this.tickLabels[u].style.position="absolute",this.tickLabels[u].style[this.stylePos]=c+"%",this.tickLabels[u].style[a]=-d/2+"px"):"vertical"===this.options.orientation&&(this.options.rtl?this.tickLabels[u].style.marginRight=this.sliderElem.offsetWidth+"px":this.tickLabels[u].style.marginLeft=this.sliderElem.offsetWidth+"px",this.tickLabelContainer.style[a]=this.sliderElem.offsetWidth/2*-1+"px"))}}if(this.options.range){e=this.options.formatter(this._state.value),this._setText(this.tooltipInner,e),this.tooltip.style[this.stylePos]=(t[1]+t[0])/2+"%";var p=this.options.formatter(this._state.value[0]);this._setText(this.tooltipInner_min,p);var f=this.options.formatter(this._state.value[1]);this._setText(this.tooltipInner_max,f),this.tooltip_min.style[this.stylePos]=t[0]+"%",this.tooltip_max.style[this.stylePos]=t[1]+"%"}else e=this.options.formatter(this._state.value[0]),this._setText(this.tooltipInner,e),this.tooltip.style[this.stylePos]=t[0]+"%";if("vertical"===this.options.orientation)this.trackLow.style.top="0",this.trackLow.style.height=Math.min(t[0],t[1])+"%",this.trackSelection.style.top=Math.min(t[0],t[1])+"%",this.trackSelection.style.height=Math.abs(t[0]-t[1])+"%",this.trackHigh.style.bottom="0",this.trackHigh.style.height=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";else{"right"===this.stylePos?this.trackLow.style.right="0":this.trackLow.style.left="0",this.trackLow.style.width=Math.min(t[0],t[1])+"%","right"===this.stylePos?this.trackSelection.style.right=Math.min(t[0],t[1])+"%":this.trackSelection.style.left=Math.min(t[0],t[1])+"%",this.trackSelection.style.width=Math.abs(t[0]-t[1])+"%","right"===this.stylePos?this.trackHigh.style.left="0":this.trackHigh.style.right="0",this.trackHigh.style.width=100-Math.min(t[0],t[1])-Math.abs(t[0]-t[1])+"%";var m=this.tooltip_min.getBoundingClientRect(),g=this.tooltip_max.getBoundingClientRect();"bottom"===this.options.tooltip_position?m.right>g.left?(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top="",this.tooltip_max.style.bottom="22px"):(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top=this.tooltip_min.style.top,this.tooltip_max.style.bottom=""):m.right>g.left?(this._removeClass(this.tooltip_max,"top"),this._addClass(this.tooltip_max,"bottom"),this.tooltip_max.style.top="18px"):(this._removeClass(this.tooltip_max,"bottom"),this._addClass(this.tooltip_max,"top"),this.tooltip_max.style.top=this.tooltip_min.style.top)}},_createHighlightRange:function(t,e){return this._isHighlightRange(t,e)?t>e?{start:e,size:t-e}:{start:t,size:e-t}:null},_isHighlightRange:function(t,e){return t>=0&&100>=t&&e>=0&&100>=e},_resize:function(t){this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos],this._layout()},_removeProperty:function(t,e){t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(e)},_mousedown:function(t){if(!this._state.enabled)return!1;this._state.offset=this._offset(this.sliderElem),this._state.size=this.sliderElem[this.sizePos];var e=this._getPercentage(t);if(this.options.range){var i=Math.abs(this._state.percentage[0]-e),n=Math.abs(this._state.percentage[1]-e);this._state.dragged=n>i?0:1,this._adjustPercentageForRangeSliders(e)}else this._state.dragged=0;this._state.percentage[this._state.dragged]=e,this._layout(),this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),this.mousemove&&document.removeEventListener("mousemove",this.mousemove,!1),this.mouseup&&document.removeEventListener("mouseup",this.mouseup,!1),this.mousemove=this._mousemove.bind(this),this.mouseup=this._mouseup.bind(this),this.touchCapable&&(document.addEventListener("touchmove",this.mousemove,!1),document.addEventListener("touchend",this.mouseup,!1)),document.addEventListener("mousemove",this.mousemove,!1),document.addEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!0;var s=this._calculateValue();return this._trigger("slideStart",s),this._setDataVal(s),this.setValue(s,!1,!0),t.returnValue=!1,this.options.focus&&this._triggerFocusOnHandle(this._state.dragged),!0},_touchstart:function(t){if(void 0!==t.changedTouches){var e=t.changedTouches[0];this.touchX=e.pageX,this.touchY=e.pageY}else this._mousedown(t)},_triggerFocusOnHandle:function(t){0===t&&this.handle1.focus(),1===t&&this.handle2.focus()},_keydown:function(t,e){if(!this._state.enabled)return!1;var i;switch(e.keyCode){case 37:case 40:i=-1;break;case 39:case 38:i=1}if(i){if(this.options.natural_arrow_keys){var n="vertical"===this.options.orientation&&!this.options.reversed,s="horizontal"===this.options.orientation&&this.options.reversed;(n||s)&&(i=-i)}var r=this._state.value[t]+i*this.options.step,o=r/this.options.max*100;if(this._state.keyCtrl=t,this.options.range)this._adjustPercentageForRangeSliders(o),r=[this._state.keyCtrl?this._state.value[0]:r,this._state.keyCtrl?r:this._state.value[1]];return this._trigger("slideStart",r),this._setDataVal(r),this.setValue(r,!0,!0),this._setDataVal(r),this._trigger("slideStop",r),this._layout(),this._pauseEvent(e),delete this._state.keyCtrl,!1}},_pauseEvent:function(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.returnValue=!1},_mousemove:function(t){if(!this._state.enabled)return!1;var e=this._getPercentage(t);this._adjustPercentageForRangeSliders(e),this._state.percentage[this._state.dragged]=e,this._layout();var i=this._calculateValue(!0);return this.setValue(i,!0,!0),!1},_touchmove:function(t){if(void 0!==t.changedTouches){var e=t.changedTouches[0],i=e.pageX-this.touchX,n=e.pageY-this.touchY;this._state.inDrag||("vertical"===this.options.orientation&&5>=i&&i>=-5&&(n>=15||-15>=n)?this._mousedown(t):5>=n&&n>=-5&&(i>=15||-15>=i)&&this._mousedown(t))}},_adjustPercentageForRangeSliders:function(t){if(this.options.range){var e=this._getNumDigitsAfterDecimalPlace(t);e=e?e-1:0;var i=this._applyToFixedAndParseFloat(t,e);0===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[1],e)<i?(this._state.percentage[0]=this._state.percentage[1],this._state.dragged=1):1===this._state.dragged&&this._applyToFixedAndParseFloat(this._state.percentage[0],e)>i?(this._state.percentage[1]=this._state.percentage[0],this._state.dragged=0):0===this._state.keyCtrl&&this._state.value[1]/this.options.max*100<t?(this._state.percentage[0]=this._state.percentage[1],this._state.keyCtrl=1,this.handle2.focus()):1===this._state.keyCtrl&&this._state.value[0]/this.options.max*100>t&&(this._state.percentage[1]=this._state.percentage[0],this._state.keyCtrl=0,this.handle1.focus())}},_mouseup:function(){if(!this._state.enabled)return!1;this.touchCapable&&(document.removeEventListener("touchmove",this.mousemove,!1),document.removeEventListener("touchend",this.mouseup,!1)),document.removeEventListener("mousemove",this.mousemove,!1),document.removeEventListener("mouseup",this.mouseup,!1),this._state.inDrag=!1,!1===this._state.over&&this._hideTooltip();var t=this._calculateValue(!0);return this._layout(),this._setDataVal(t),this._trigger("slideStop",t),!1},_calculateValue:function(t){var e;if(this.options.range?(e=[this.options.min,this.options.max],0!==this._state.percentage[0]&&(e[0]=this._toValue(this._state.percentage[0]),e[0]=this._applyPrecision(e[0])),100!==this._state.percentage[1]&&(e[1]=this._toValue(this._state.percentage[1]),e[1]=this._applyPrecision(e[1]))):(e=this._toValue(this._state.percentage[0]),e=parseFloat(e),e=this._applyPrecision(e)),t){for(var i=[e,1/0],n=0;n<this.options.ticks.length;n++){var s=Math.abs(this.options.ticks[n]-e);s<=i[1]&&(i=[this.options.ticks[n],s])}if(i[1]<=this.options.ticks_snap_bounds)return i[0]}return e},_applyPrecision:function(t){var e=this.options.precision||this._getNumDigitsAfterDecimalPlace(this.options.step);return this._applyToFixedAndParseFloat(t,e)},_getNumDigitsAfterDecimalPlace:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},_applyToFixedAndParseFloat:function(t,e){var i=t.toFixed(e);return parseFloat(i)},_getPercentage:function(t){!this.touchCapable||"touchstart"!==t.type&&"touchmove"!==t.type||(t=t.touches[0]);var e=t[this.mousePos]-this._state.offset[this.stylePos];"right"===this.stylePos&&(e=-e);var i=e/this._state.size*100;return i=Math.round(i/this._state.percentage[2])*this._state.percentage[2],this.options.reversed&&(i=100-i),Math.max(0,Math.min(100,i))},_validateInputValue:function(t){if(isNaN(+t)){if(Array.isArray(t))return this._validateArray(t),t;throw new Error(r(t))}return+t},_validateArray:function(t){for(var e=0;e<t.length;e++){var i=t[e];if("number"!=typeof i)throw new Error(r(i))}},_setDataVal:function(t){this.element.setAttribute("data-value",t),this.element.setAttribute("value",t),this.element.value=t},_trigger:function(e,i){i=i||0===i?i:void 0;var n=this.eventToCallbackMap[e];if(n&&n.length)for(var s=0;s<n.length;s++){(0,n[s])(i)}t&&this._triggerJQueryEvent(e,i)},_triggerJQueryEvent:function(t,e){var i={type:t,value:e};this.$element.trigger(i),this.$sliderElem.trigger(i)},_unbindJQueryEventHandlers:function(){this.$element.off(),this.$sliderElem.off()},_setText:function(t,e){void 0!==t.textContent?t.textContent=e:void 0!==t.innerText&&(t.innerText=e)},_removeClass:function(t,e){for(var i=e.split(" "),n=t.className,s=0;s<i.length;s++){var r=i[s],o=new RegExp("(?:\\s|^)"+r+"(?:\\s|$)");n=n.replace(o," ")}t.className=n.trim()},_addClass:function(t,e){for(var i=e.split(" "),n=t.className,s=0;s<i.length;s++){var r=i[s];new RegExp("(?:\\s|^)"+r+"(?:\\s|$)").test(n)||(n+=" "+r)}t.className=n.trim()},_offsetLeft:function(t){return t.getBoundingClientRect().left},_offsetRight:function(t){return t.getBoundingClientRect().right},_offsetTop:function(t){for(var e=t.offsetTop;(t=t.offsetParent)&&!isNaN(t.offsetTop);)e+=t.offsetTop,"BODY"!==t.tagName&&(e-=t.scrollTop);return e},_offset:function(t){return{left:this._offsetLeft(t),right:this._offsetRight(t),top:this._offsetTop(t)}},_css:function(e,i,n){if(t)t.style(e,i,n);else{var s=i.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(t,e){return e.toUpperCase()});e.style[s]=n}},_toValue:function(t){return this.options.scale.toValue.apply(this,[t])},_toPercentage:function(t){return this.options.scale.toPercentage.apply(this,[t])},_setTooltipPosition:function(){var t=[this.tooltip,this.tooltip_min,this.tooltip_max];if("vertical"===this.options.orientation){var e,i="left"===(e=this.options.tooltip_position?this.options.tooltip_position:this.options.rtl?"left":"right")?"right":"left";t.forEach(function(t){this._addClass(t,e),t.style[i]="100%"}.bind(this))}else"bottom"===this.options.tooltip_position?t.forEach(function(t){this._addClass(t,"bottom"),t.style.top="22px"}.bind(this)):t.forEach(function(t){this._addClass(t,"top"),t.style.top=-this.tooltip.outerHeight-14+"px"}.bind(this))}},t&&t.fn){var a=void 0;t.fn.slider?(windowIsDefined&&window.console.warn("bootstrap-slider.js - WARNING: $.fn.slider namespace is already bound. Use the $.fn.bootstrapSlider namespace instead."),a=n):(t.bridget(i,e),a=i),t.bridget(n,e),t(function(){t("input[data-provide=slider]")[a]()})}}(t),e}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;"undefined"!=typeof window?e=window:"undefined"!=typeof global?e=global:"undefined"!=typeof self&&(e=self),e.JSZip=t()}}(function(){return function t(e,i,n){function s(o,a){if(!i[o]){if(!e[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(r)return r(o,!0);throw new Error("Cannot find module '"+o+"'")}var d=i[o]={exports:{}};e[o][0].call(d.exports,function(t){var i=e[o][1][t];return s(i||t)},d,d.exports,t,e,i,n)}return i[o].exports}for(var r="function"==typeof require&&require,o=0;o<n.length;o++)s(n[o]);return s}({1:[function(t,e,i){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(t){for(var e,i,s,r,o,a,l,d="",h=0;h<t.length;)r=(e=t.charCodeAt(h++))>>2,o=(3&e)<<4|(i=t.charCodeAt(h++))>>4,a=(15&i)<<2|(s=t.charCodeAt(h++))>>6,l=63&s,isNaN(i)?a=l=64:isNaN(s)&&(l=64),d=d+n.charAt(r)+n.charAt(o)+n.charAt(a)+n.charAt(l);return d},i.decode=function(t){var e,i,s,r,o,a,l="",d=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<t.length;)e=n.indexOf(t.charAt(d++))<<2|(r=n.indexOf(t.charAt(d++)))>>4,i=(15&r)<<4|(o=n.indexOf(t.charAt(d++)))>>2,s=(3&o)<<6|(a=n.indexOf(t.charAt(d++))),l+=String.fromCharCode(e),64!=o&&(l+=String.fromCharCode(i)),64!=a&&(l+=String.fromCharCode(s));return l}},{}],2:[function(t,e){function i(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}i.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},e.exports=i},{}],3:[function(t,e,i){i.STORE={magic:"\0\0",compress:function(t){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},i.DEFLATE=t("./flate")},{"./flate":8}],4:[function(t,e){var i=t("./utils"),n=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];e.exports=function(t,e){if(void 0===t||!t.length)return 0;var s="string"!==i.getTypeOf(t);void 0===e&&(e=0);var r=0;e^=-1;for(var o=0,a=t.length;a>o;o++)r=s?t[o]:t.charCodeAt(o),e=e>>>8^n[255&(e^r)];return-1^e}},{"./utils":21}],5:[function(t,e){function i(){this.data=null,this.length=0,this.index=0}var n=t("./utils");i.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<t||0>t)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(){},readInt:function(t){var e,i=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)i=(i<<8)+this.byteAt(e);return this.index+=t,i},readString:function(t){return n.transformTo("string",this.readData(t))},readData:function(){},lastIndexOfSignature:function(){},readDate:function(){var t=this.readInt(4);return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},e.exports=i},{"./utils":21}],6:[function(t,e,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!1,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],7:[function(t,e,i){var n=t("./utils");i.string2binary=function(t){return n.string2binary(t)},i.string2Uint8Array=function(t){return n.transformTo("uint8array",t)},i.uint8Array2String=function(t){return n.transformTo("string",t)},i.string2Blob=function(t){var e=n.transformTo("arraybuffer",t);return n.arrayBuffer2Blob(e)},i.arrayBuffer2Blob=function(t){return n.arrayBuffer2Blob(t)},i.transformTo=function(t,e){return n.transformTo(t,e)},i.getTypeOf=function(t){return n.getTypeOf(t)},i.checkSupport=function(t){return n.checkSupport(t)},i.MAX_VALUE_16BITS=n.MAX_VALUE_16BITS,i.MAX_VALUE_32BITS=n.MAX_VALUE_32BITS,i.pretty=function(t){return n.pretty(t)},i.findCompression=function(t){return n.findCompression(t)},i.isRegExp=function(t){return n.isRegExp(t)}},{"./utils":21}],8:[function(t,e,i){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,s=t("pako");i.uncompressInputType=n?"uint8array":"array",i.compressInputType=n?"uint8array":"array",i.magic="\b\0",i.compress=function(t,e){return s.deflateRaw(t,{level:e.level||-1})},i.uncompress=function(t){return s.inflateRaw(t)}},{pako:24}],9:[function(t,e){function i(t,e){return this instanceof i?(this.files={},this.comment=null,this.root="",t&&this.load(t,e),void(this.clone=function(){var t=new i;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t})):new i(t,e)}var n=t("./base64");i.prototype=t("./object"),i.prototype.load=t("./load"),i.support=t("./support"),i.defaults=t("./defaults"),i.utils=t("./deprecatedPublicUtils"),i.base64={encode:function(t){return n.encode(t)},decode:function(t){return n.decode(t)}},i.compressions=t("./compressions"),e.exports=i},{"./base64":1,"./compressions":3,"./defaults":6,"./deprecatedPublicUtils":7,"./load":10,"./object":13,"./support":17}],10:[function(t,e){var i=t("./base64"),n=t("./zipEntries");e.exports=function(t,e){var s,r,o,a;for((e=e||{}).base64&&(t=i.decode(t)),s=(r=new n(t,e)).files,o=0;o<s.length;o++)a=s[o],this.file(a.fileName,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileComment.length?a.fileComment:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:e.createFolders});return r.zipComment.length&&(this.comment=r.zipComment),this}},{"./base64":1,"./zipEntries":22}],11:[function(t,e){(function(t){e.exports=function(e,i){return new t(e,i)},e.exports.test=function(e){return t.isBuffer(e)}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],12:[function(t,e){function i(t){this.data=t,this.length=this.data.length,this.index=0}var n=t("./uint8ArrayReader");i.prototype=new n,i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},e.exports=i},{"./uint8ArrayReader":18}],13:[function(t,e){var i=t("./support"),n=t("./utils"),s=t("./crc32"),r=t("./signature"),o=t("./defaults"),a=t("./base64"),l=t("./compressions"),d=t("./compressedObject"),h=t("./nodeBuffer"),u=t("./utf8"),c=t("./stringWriter"),p=t("./uint8ArrayWriter"),f=function(t){if(t._data instanceof d&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===n.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},m=function(t){var e=f(t);return"string"===n.getTypeOf(e)?!t.options.binary&&i.nodebuffer?h(e,"utf-8"):t.asBinary():e},g=function(t){var e=f(this);return null==e?"":(this.options.base64&&(e=a.decode(e)),e=t&&this.options.binary?k.utf8decode(e):n.transformTo("string",e),t||this.options.binary||(e=n.transformTo("string",k.utf8encode(e))),e)},b=function(t,e,i){this.name=t,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=e,this.options=i,this._initialMetadata={dir:i.dir,date:i.date}};b.prototype={asText:function(){return g.call(this,!0)},asBinary:function(){return g.call(this,!1)},asNodeBuffer:function(){var t=m(this);return n.transformTo("nodebuffer",t)},asUint8Array:function(){var t=m(this);return n.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var y=function(t,e){var i,n="";for(i=0;e>i;i++)n+=String.fromCharCode(255&t),t>>>=8;return n},v=function(){var t,e,i={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===i[e]&&(i[e]=arguments[t][e]);return i},_=function(t,e,i){var s,r,a=n.getTypeOf(e);if(!0!==(r=(r=i)||{}).base64||null!==r.binary&&void 0!==r.binary||(r.binary=!0),(r=v(r,o)).date=r.date||new Date,null!==r.compression&&(r.compression=r.compression.toUpperCase()),"string"==typeof(i=r).unixPermissions&&(i.unixPermissions=parseInt(i.unixPermissions,8)),i.unixPermissions&&16384&i.unixPermissions&&(i.dir=!0),i.dosPermissions&&16&i.dosPermissions&&(i.dir=!0),i.dir&&(t=x(t)),i.createFolders&&(s=w(t))&&C.call(this,s,!0),i.dir||null==e)i.base64=!1,i.binary=!1,e=null,a=null;else if("string"===a)i.binary&&!i.base64&&!0!==i.optimizedBinaryString&&(e=n.string2binary(e));else{if(i.base64=!1,i.binary=!0,!(a||e instanceof d))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===a&&(e=n.transformTo("uint8array",e))}var l=new b(t,e,i);return this.files[t]=l,l},w=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},x=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},C=function(t,e){return e=void 0!==e&&e,t=x(t),this.files[t]||_.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},T=function(t,e,i){var r,o=new d;return t._data instanceof d?(o.uncompressedSize=t._data.uncompressedSize,o.crc32=t._data.crc32,0===o.uncompressedSize||t.dir?(e=l.STORE,o.compressedContent="",o.crc32=0):t._data.compressionMethod===e.magic?o.compressedContent=t._data.getCompressedContent():(r=t._data.getContent(),o.compressedContent=e.compress(n.transformTo(e.compressInputType,r),i))):((!(r=m(t))||0===r.length||t.dir)&&(e=l.STORE,r=""),o.uncompressedSize=r.length,o.crc32=s(r),o.compressedContent=e.compress(n.transformTo(e.compressInputType,r),i)),o.compressedSize=o.compressedContent.length,o.compressionMethod=e.magic,o},S=function(t,e,i,o,a){var l,d,h,c,p=(i.compressedContent,n.transformTo("string",u.utf8encode(e.name))),f=e.comment||"",m=n.transformTo("string",u.utf8encode(f)),g=p.length!==e.name.length,b=m.length!==f.length,v=e.options,_="",w="",x="";h=e._initialMetadata.dir!==e.dir?e.dir:v.dir,c=e._initialMetadata.date!==e.date?e.date:v.date;var C,T,S,k=0,I=0;h&&(k|=16),"UNIX"===a?(I=798,k|=(C=e.unixPermissions,T=h,S=C,C||(S=T?16893:33204),(65535&S)<<16)):(I=20,k|=63&(e.dosPermissions||0)),l=c.getHours(),l<<=6,l|=c.getMinutes(),l<<=5,l|=c.getSeconds()/2,d=c.getFullYear()-1980,d<<=4,d|=c.getMonth()+1,d<<=5,d|=c.getDate(),g&&(w=y(1,1)+y(s(p),4)+p,_+="up"+y(w.length,2)+w),b&&(x=y(1,1)+y(this.crc32(m),4)+m,_+="uc"+y(x.length,2)+x);var D="";return D+="\n\0",D+=g||b?"\0\b":"\0\0",D+=i.compressionMethod,D+=y(l,2),D+=y(d,2),D+=y(i.crc32,4),D+=y(i.compressedSize,4),D+=y(i.uncompressedSize,4),D+=y(p.length,2),D+=y(_.length,2),{fileRecord:r.LOCAL_FILE_HEADER+D+p+_,dirRecord:r.CENTRAL_FILE_HEADER+y(I,2)+D+y(m.length,2)+"\0\0\0\0"+y(k,4)+y(o,4)+p+_+m,compressedObject:i}},k={load:function(){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,i,n,s,r=[];for(e in this.files)this.files.hasOwnProperty(e)&&(n=this.files[e],s=new b(n.name,n._data,v(n.options)),i=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(i,s)&&r.push(s));return r},file:function(t,e,i){if(1===arguments.length){if(n.isRegExp(t)){var s=t;return this.filter(function(t,e){return!e.dir&&s.test(t)})}return this.filter(function(e,i){return!i.dir&&e===t})[0]||null}return t=this.root+t,_.call(this,t,e,i),this},folder:function(t){if(!t)return this;if(n.isRegExp(t))return this.filter(function(e,i){return i.dir&&t.test(e)});var e=this.root+t,i=C.call(this,e),s=this.clone();return s.root=i.name,s},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var i=this.filter(function(e,i){return i.name.slice(0,t.length)===t}),n=0;n<i.length;n++)delete this.files[i[n].name];return this},generate:function(t){t=v(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip"}),n.checkSupport(t.type),("darwin"===t.platform||"freebsd"===t.platform||"linux"===t.platform||"sunos"===t.platform)&&(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var e,i,s=[],o=0,d=0,h=n.transformTo("string",this.utf8encode(t.comment||this.comment||""));for(var u in this.files)if(this.files.hasOwnProperty(u)){var f=this.files[u],m=f.options.compression||t.compression.toUpperCase(),g=l[m];if(!g)throw new Error(m+" is not a valid compression method !");var b=f.options.compressionOptions||t.compressionOptions||{},_=T.call(this,f,g,b),w=S.call(this,u,f,_,o,t.platform);o+=w.fileRecord.length+_.compressedSize,d+=w.dirRecord.length,s.push(w)}var x;x=r.CENTRAL_DIRECTORY_END+"\0\0\0\0"+y(s.length,2)+y(s.length,2)+y(d,4)+y(o,4)+y(h.length,2)+h;var C=t.type.toLowerCase();for(e="uint8array"===C||"arraybuffer"===C||"blob"===C||"nodebuffer"===C?new p(o+d+x.length):new c(o+d+x.length),i=0;i<s.length;i++)e.append(s[i].fileRecord),e.append(s[i].compressedObject.compressedContent);for(i=0;i<s.length;i++)e.append(s[i].dirRecord);e.append(x);var k=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return n.transformTo(t.type.toLowerCase(),k);case"blob":return n.arrayBuffer2Blob(n.transformTo("arraybuffer",k),t.mimeType);case"base64":return t.base64?a.encode(k):k;default:return k}},crc32:function(t,e){return s(t,e)},utf8encode:function(t){return n.transformTo("string",u.utf8encode(t))},utf8decode:function(t){return u.utf8decode(t)}};e.exports=k},{"./base64":1,"./compressedObject":2,"./compressions":3,"./crc32":4,"./defaults":6,"./nodeBuffer":11,"./signature":14,"./stringWriter":16,"./support":17,"./uint8ArrayWriter":19,"./utf8":20,"./utils":21}],14:[function(t,e,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\b"},{}],15:[function(t,e){function i(t,e){this.data=t,e||(this.data=s.string2binary(this.data)),this.length=this.data.length,this.index=0}var n=t("./dataReader"),s=t("./utils");i.prototype=new n,i.prototype.byteAt=function(t){return this.data.charCodeAt(t)},i.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)},i.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.index,this.index+t);return this.index+=t,e},e.exports=i},{"./dataReader":5,"./utils":21}],16:[function(t,e){var i=t("./utils"),n=function(){this.data=[]};n.prototype={append:function(t){t=i.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},e.exports=n},{"./utils":21}],17:[function(t,e,i){(function(t){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer=void 0!==t,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var e=new ArrayBuffer(0);try{i.blob=0===new Blob([e],{type:"application/zip"}).size}catch(t){try{var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);n.append(e),i.blob=0===n.getBlob("application/zip").size}catch(t){i.blob=!1}}}}).call(this,"undefined"!=typeof Buffer?Buffer:void 0)},{}],18:[function(t,e){function i(t){t&&(this.data=t,this.length=this.data.length,this.index=0)}var n=t("./dataReader");i.prototype=new n,i.prototype.byteAt=function(t){return this.data[t]},i.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),i=t.charCodeAt(1),n=t.charCodeAt(2),s=t.charCodeAt(3),r=this.length-4;r>=0;--r)if(this.data[r]===e&&this.data[r+1]===i&&this.data[r+2]===n&&this.data[r+3]===s)return r;return-1},i.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.index,this.index+t);return this.index+=t,e},e.exports=i},{"./dataReader":5}],19:[function(t,e){var i=t("./utils"),n=function(t){this.data=new Uint8Array(t),this.index=0};n.prototype={append:function(t){0!==t.length&&(t=i.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},e.exports=n},{"./utils":21}],20:[function(t,e,i){for(var n=t("./utils"),s=t("./support"),r=t("./nodeBuffer"),o=new Array(256),a=0;256>a;a++)o[a]=a>=252?6:a>=248?5:a>=240?4:a>=224?3:a>=192?2:1;o[254]=o[254]=1;var l=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return 0>i?e:0===i?e:i+o[t[i]]>e?i:e},d=function(t){var e,i,s,r,a=t.length,l=new Array(2*a);for(i=0,e=0;a>e;)if(128>(s=t[e++]))l[i++]=s;else if((r=o[s])>4)l[i++]=65533,e+=r-1;else{for(s&=2===r?31:3===r?15:7;r>1&&a>e;)s=s<<6|63&t[e++],r--;r>1?l[i++]=65533:65536>s?l[i++]=s:(s-=65536,l[i++]=55296|s>>10&1023,l[i++]=56320|1023&s)}return l.length!==i&&(l.subarray?l=l.subarray(0,i):l.length=i),n.applyFromCharCode(l)};i.utf8encode=function(t){return s.nodebuffer?r(t,"utf-8"):function(t){var e,i,n,r,o,a=t.length,l=0;for(r=0;a>r;r++)55296==(64512&(i=t.charCodeAt(r)))&&a>r+1&&56320==(64512&(n=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++),l+=128>i?1:2048>i?2:65536>i?3:4;for(e=s.uint8array?new Uint8Array(l):new Array(l),o=0,r=0;l>o;r++)55296==(64512&(i=t.charCodeAt(r)))&&a>r+1&&56320==(64512&(n=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++),128>i?e[o++]=i:2048>i?(e[o++]=192|i>>>6,e[o++]=128|63&i):65536>i?(e[o++]=224|i>>>12,e[o++]=128|i>>>6&63,e[o++]=128|63&i):(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63,e[o++]=128|i>>>6&63,e[o++]=128|63&i);return e}(t)},i.utf8decode=function(t){if(s.nodebuffer)return n.transformTo("nodebuffer",t).toString("utf-8");for(var e=[],i=0,r=(t=n.transformTo(s.uint8array?"uint8array":"array",t)).length;r>i;){var o=l(t,Math.min(i+65536,r));e.push(s.uint8array?d(t.subarray(i,o)):d(t.slice(i,o))),i=o}return e.join("")}},{"./nodeBuffer":11,"./support":17,"./utils":21}],21:[function(t,e,i){function n(t){return t}function s(t,e){for(var i=0;i<t.length;++i)e[i]=255&t.charCodeAt(i);return e}function r(t){var e=65536,n=[],s=t.length,r=i.getTypeOf(t),o=0,a=!0;try{switch(r){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,d(0))}}catch(t){a=!1}if(!a){for(var l="",h=0;h<t.length;h++)l+=String.fromCharCode(t[h]);return l}for(;s>o&&e>1;)try{n.push("array"===r||"nodebuffer"===r?String.fromCharCode.apply(null,t.slice(o,Math.min(o+e,s))):String.fromCharCode.apply(null,t.subarray(o,Math.min(o+e,s)))),o+=e}catch(t){e=Math.floor(e/2)}return n.join("")}function o(t,e){for(var i=0;i<t.length;i++)e[i]=t[i];return e}var a=t("./support"),l=t("./compressions"),d=t("./nodeBuffer");i.string2binary=function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(255&t.charCodeAt(i));return e},i.arrayBuffer2Blob=function(t,e){i.checkSupport("blob"),e=e||"application/zip";try{return new Blob([t],{type:e})}catch(i){try{var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return n.append(t),n.getBlob(e)}catch(t){throw new Error("Bug : can't construct the Blob.")}}},i.applyFromCharCode=r;var h={};h.string={string:n,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return h.string.uint8array(t).buffer},uint8array:function(t){return s(t,new Uint8Array(t.length))},nodebuffer:function(t){return s(t,d(t.length))}},h.array={string:r,array:n,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return d(t)}},h.arraybuffer={string:function(t){return r(new Uint8Array(t))},array:function(t){return o(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:n,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return d(new Uint8Array(t))}},h.uint8array={string:r,array:function(t){return o(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:n,nodebuffer:function(t){return d(t)}},h.nodebuffer={string:r,array:function(t){return o(t,new Array(t.length))},arraybuffer:function(t){return h.nodebuffer.uint8array(t).buffer},uint8array:function(t){return o(t,new Uint8Array(t.length))},nodebuffer:n},i.transformTo=function(t,e){if(e||(e=""),!t)return e;i.checkSupport(t);var n=i.getTypeOf(e);return h[n][t](e)},i.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":a.nodebuffer&&d.test(t)?"nodebuffer":a.uint8array&&t instanceof Uint8Array?"uint8array":a.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(t){if(!a[t.toLowerCase()])throw new Error(t+" is not supported by this browser")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(t){var e,i,n="";for(i=0;i<(t||"").length;i++)n+="\\x"+(16>(e=t.charCodeAt(i))?"0":"")+e.toString(16).toUpperCase();return n},i.findCompression=function(t){for(var e in l)if(l.hasOwnProperty(e)&&l[e].magic===t)return l[e];return null},i.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)}},{"./compressions":3,"./nodeBuffer":11,"./support":17}],22:[function(t,e){function i(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}var n=t("./stringReader"),s=t("./nodeBufferReader"),r=t("./uint8ArrayReader"),o=t("./utils"),a=t("./signature"),l=t("./zipEntry"),d=t("./support"),h=t("./object");i.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+o.pretty(e)+", expected "+o.pretty(t)+")")},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2),this.zipComment=this.reader.readString(this.zipCommentLength),this.zipComment=h.utf8decode(this.zipComment)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,i,n=this.zip64EndOfCentralSize-44;n>0;)t=this.reader.readInt(2),e=this.reader.readInt(4),i=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===a.CENTRAL_FILE_HEADER;)(t=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(-1===t){var e=!0;try{this.reader.setIndex(0),this.checkSignature(a.LOCAL_FILE_HEADER),e=!1}catch(t){}throw new Error(e?"Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html":"Corrupted zip : can't find end of central directory")}if(this.reader.setIndex(t),this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,-1===(t=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR)))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");this.reader.setIndex(t),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}},prepareReader:function(t){var e=o.getTypeOf(t);this.reader="string"!==e||d.uint8array?"nodebuffer"===e?new s(t):new r(o.transformTo("uint8array",t)):new n(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=i},{"./nodeBufferReader":12,"./object":13,"./signature":14,"./stringReader":15,"./support":17,"./uint8ArrayReader":18,"./utils":21,"./zipEntry":23}],23:[function(t,e){function i(t,e){this.options=t,this.loadOptions=e}var n=t("./stringReader"),s=t("./utils"),r=t("./compressedObject"),o=t("./object");i.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(t,e,i){return function(){var n=t.index;t.setIndex(e);var s=t.readData(i);return t.setIndex(n),s}},prepareContent:function(t,e,i,n,r){return function(){var t=s.transformTo(n.uncompressInputType,this.getCompressedContent()),e=n.uncompress(t);if(e.length!==r)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,i;if(t.skip(22),this.fileNameLength=t.readInt(2),i=t.readInt(2),this.fileName=t.readString(this.fileNameLength),t.skip(i),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(null===(e=s.findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+this.fileName+")");if(this.decompressed=new r,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=s.transformTo("string",this.decompressed.getContent()),o.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readString(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readString(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileName.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var t=new n(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(t){var e,i,n,s=t.index;for(this.extraFields=this.extraFields||{};t.index<s+this.extraFieldsLength;)e=t.readInt(2),i=t.readInt(2),n=t.readString(i),this.extraFields[e]={id:e,length:i,value:n}},handleUTF8:function(){if(this.useUTF8())this.fileName=o.utf8decode(this.fileName),this.fileComment=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();null!==t&&(this.fileName=t);var e=this.findExtraFieldUnicodeComment();null!==e&&(this.fileComment=e)}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new n(t.value);return 1!==e.readInt(1)?null:o.crc32(this.fileName)!==e.readInt(4)?null:o.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new n(t.value);return 1!==e.readInt(1)?null:o.crc32(this.fileComment)!==e.readInt(4)?null:o.utf8decode(e.readString(t.length-5))}return null}},e.exports=i},{"./compressedObject":2,"./object":13,"./stringReader":15,"./utils":21}],24:[function(t,e){var i={};(0,t("./lib/utils/common").assign)(i,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),e.exports=i},{"./lib/deflate":25,"./lib/inflate":26,"./lib/utils/common":27,"./lib/zlib/constants":30}],25:[function(t,e,i){function n(t,e){var i=new d(e);if(i.push(t,!0),i.err)throw i.msg;return i.result}var s=t("./zlib/deflate.js"),r=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/messages"),l=t("./zlib/zstream"),d=function(t){this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var i=s.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==i)throw new Error(a[i]);e.header&&s.deflateSetHeader(this.strm,e.header)};d.prototype.push=function(t,e){var i,n,a=this.strm,l=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:!0===e?4:0,a.input="string"==typeof t?o.string2buf(t):t,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new r.Buf8(l),a.next_out=0,a.avail_out=l),1!==(i=s.deflate(a,n))&&0!==i)return this.onEnd(i),this.ended=!0,!1;(0===a.avail_out||0===a.avail_in&&4===n)&&this.onData("string"===this.options.to?o.buf2binstring(r.shrinkBuf(a.output,a.next_out)):r.shrinkBuf(a.output,a.next_out))}while((a.avail_in>0||0===a.avail_out)&&1!==i);return 4!==n||(i=s.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,0===i)},d.prototype.onData=function(t){this.chunks.push(t)},d.prototype.onEnd=function(t){0===t&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Deflate=d,i.deflate=n,i.deflateRaw=function(t,e){return(e=e||{}).raw=!0,n(t,e)},i.gzip=function(t,e){return(e=e||{}).gzip=!0,n(t,e)}},{"./utils/common":27,"./utils/strings":28,"./zlib/deflate.js":32,"./zlib/messages":37,"./zlib/zstream":39}],26:[function(t,e,i){function n(t,e){var i=new u(e);if(i.push(t,!0),i.err)throw i.msg;return i.result}var s=t("./zlib/inflate.js"),r=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/constants"),l=t("./zlib/messages"),d=t("./zlib/zstream"),h=t("./zlib/gzheader"),u=function(t){this.options=r.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var i=s.inflateInit2(this.strm,e.windowBits);if(i!==a.Z_OK)throw new Error(l[i]);this.header=new h,s.inflateGetHeader(this.strm,this.header)};u.prototype.push=function(t,e){var i,n,l,d,h,u=this.strm,c=this.options.chunkSize;if(this.ended)return!1;n=e===~~e?e:!0===e?a.Z_FINISH:a.Z_NO_FLUSH,u.input="string"==typeof t?o.binstring2buf(t):t,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new r.Buf8(c),u.next_out=0,u.avail_out=c),(i=s.inflate(u,a.Z_NO_FLUSH))!==a.Z_STREAM_END&&i!==a.Z_OK)return this.onEnd(i),this.ended=!0,!1;u.next_out&&(0===u.avail_out||i===a.Z_STREAM_END||0===u.avail_in&&n===a.Z_FINISH)&&("string"===this.options.to?(l=o.utf8border(u.output,u.next_out),d=u.next_out-l,h=o.buf2string(u.output,l),u.next_out=d,u.avail_out=c-d,d&&r.arraySet(u.output,u.output,l,d,0),this.onData(h)):this.onData(r.shrinkBuf(u.output,u.next_out)))}while(u.avail_in>0&&i!==a.Z_STREAM_END);return i===a.Z_STREAM_END&&(n=a.Z_FINISH),n!==a.Z_FINISH||(i=s.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===a.Z_OK)},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){t===a.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Inflate=u,i.inflate=n,i.inflateRaw=function(t,e){return(e=e||{}).raw=!0,n(t,e)},i.ungzip=n},{"./utils/common":27,"./utils/strings":28,"./zlib/constants":30,"./zlib/gzheader":33,"./zlib/inflate.js":35,"./zlib/messages":37,"./zlib/zstream":39}],27:[function(t,e,i){var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)i.hasOwnProperty(n)&&(t[n]=i[n])}}return t},i.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var s={arraySet:function(t,e,i,n,s){if(e.subarray&&t.subarray)t.set(e.subarray(i,i+n),s);else for(var r=0;n>r;r++)t[s+r]=e[i+r]},flattenChunks:function(t){var e,i,n,s,r,o;for(n=0,e=0,i=t.length;i>e;e++)n+=t[e].length;for(o=new Uint8Array(n),s=0,e=0,i=t.length;i>e;e++)r=t[e],o.set(r,s),s+=r.length;return o}},r={arraySet:function(t,e,i,n,s){for(var r=0;n>r;r++)t[s+r]=e[i+r]},flattenChunks:function(t){return[].concat.apply([],t)}};i.setTyped=function(t){t?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,r))},i.setTyped(n)},{}],28:[function(t,e,i){function n(t,e){if(65537>e&&(t.subarray&&o||!t.subarray&&r))return String.fromCharCode.apply(null,s.shrinkBuf(t,e));for(var i="",n=0;e>n;n++)i+=String.fromCharCode(t[n]);return i}var s=t("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(t){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){o=!1}for(var a=new s.Buf8(256),l=0;256>l;l++)a[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;a[254]=a[254]=1,i.string2buf=function(t){var e,i,n,r,o,a=t.length,l=0;for(r=0;a>r;r++)55296==(64512&(i=t.charCodeAt(r)))&&a>r+1&&(56320==(64512&(n=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++)),l+=128>i?1:2048>i?2:65536>i?3:4;for(e=new s.Buf8(l),o=0,r=0;l>o;r++)55296==(64512&(i=t.charCodeAt(r)))&&a>r+1&&(56320==(64512&(n=t.charCodeAt(r+1)))&&(i=65536+(i-55296<<10)+(n-56320),r++)),128>i?e[o++]=i:2048>i?(e[o++]=192|i>>>6,e[o++]=128|63&i):65536>i?(e[o++]=224|i>>>12,e[o++]=128|i>>>6&63,e[o++]=128|63&i):(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63,e[o++]=128|i>>>6&63,e[o++]=128|63&i);return e},i.buf2binstring=function(t){return n(t,t.length)},i.binstring2buf=function(t){for(var e=new s.Buf8(t.length),i=0,n=e.length;n>i;i++)e[i]=t.charCodeAt(i);return e},i.buf2string=function(t,e){var i,s,r,o,l=e||t.length,d=new Array(2*l);for(s=0,i=0;l>i;)if(128>(r=t[i++]))d[s++]=r;else if((o=a[r])>4)d[s++]=65533,i+=o-1;else{for(r&=2===o?31:3===o?15:7;o>1&&l>i;)r=r<<6|63&t[i++],o--;o>1?d[s++]=65533:65536>r?d[s++]=r:(r-=65536,d[s++]=55296|r>>10&1023,d[s++]=56320|1023&r)}return n(d,s)},i.utf8border=function(t,e){var i;for((e=e||t.length)>t.length&&(e=t.length),i=e-1;i>=0&&128==(192&t[i]);)i--;return 0>i?e:0===i?e:i+a[t[i]]>e?i:e}},{"./common":27}],29:[function(t,e){e.exports=function(t,e,i,n){for(var s=65535&t|0,r=t>>>16&65535|0,o=0;0!==i;){for(i-=o=i>2e3?2e3:i;r=r+(s=s+e[n++]|0)|0,--o;);s%=65521,r%=65521}return s|r<<16|0}},{}],30:[function(t,e){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],31:[function(t,e){var i=function(){for(var t,e=[],i=0;256>i;i++){t=i;for(var n=0;8>n;n++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}();e.exports=function(t,e,n,s){var r=i,o=s+n;t^=-1;for(var a=s;o>a;a++)t=t>>>8^r[255&(t^e[a])];return-1^t}},{}],32:[function(t,e,i){function n(t,e){return t.msg=x[e],e}function s(t){return(t<<1)-(t>4?9:0)}function r(t){for(var e=t.length;--e>=0;)t[e]=0}function o(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(y.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function a(t,e){v._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,o(t.strm)}function l(t,e){t.pending_buf[t.pending++]=e}function d(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function h(t,e){var i,n,s=t.max_chain_length,r=t.strstart,o=t.prev_length,a=t.nice_match,l=t.strstart>t.w_size-Z?t.strstart-(t.w_size-Z):0,d=t.window,h=t.w_mask,u=t.prev,c=t.strstart+$,p=d[r+o-1],f=d[r+o];t.prev_length>=t.good_match&&(s>>=2),a>t.lookahead&&(a=t.lookahead);do{if(d[(i=e)+o]===f&&d[i+o-1]===p&&d[i]===d[r]&&d[++i]===d[r+1]){r+=2,i++;do{}while(d[++r]===d[++i]&&d[++r]===d[++i]&&d[++r]===d[++i]&&d[++r]===d[++i]&&d[++r]===d[++i]&&d[++r]===d[++i]&&d[++r]===d[++i]&&d[++r]===d[++i]&&c>r);if(n=$-(c-r),r=c-$,n>o){if(t.match_start=e,o=n,n>=a)break;p=d[r+o-1],f=d[r+o]}}}while((e=u[e&h])>l&&0!=--s);return o<=t.lookahead?o:t.lookahead}function u(t){var e,i,n,s,r,o,a,l,d,h,u=t.w_size;do{if(s=t.window_size-t.lookahead-t.strstart,t.strstart>=u+(u-Z)){for(y.arraySet(t.window,t.window,u,u,0),t.match_start-=u,t.strstart-=u,t.block_start-=u,e=i=t.hash_size;n=t.head[--e],t.head[e]=n>=u?n-u:0,--i;);for(e=i=u;n=t.prev[--e],t.prev[e]=n>=u?n-u:0,--i;);s+=u}if(0===t.strm.avail_in)break;if(o=t.strm,a=t.window,l=t.strstart+t.lookahead,d=s,h=void 0,(h=o.avail_in)>d&&(h=d),i=0===h?0:(o.avail_in-=h,y.arraySet(a,o.input,o.next_in,h,l),1===o.state.wrap?o.adler=_(o.adler,a,h,l):2===o.state.wrap&&(o.adler=w(o.adler,a,h,l)),o.next_in+=h,o.total_in+=h,h),t.lookahead+=i,t.lookahead+t.insert>=G)for(r=t.strstart-t.insert,t.ins_h=t.window[r],t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[r+G-1])&t.hash_mask,t.prev[r&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=r,r++,t.insert--,!(t.lookahead+t.insert<G)););}while(t.lookahead<Z&&0!==t.strm.avail_in)}function c(t,e){for(var i,n;;){if(t.lookahead<Z){if(u(t),t.lookahead<Z&&e===C)return ot;if(0===t.lookahead)break}if(i=0,t.lookahead>=G&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+G-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-Z&&(t.match_length=h(t,i)),t.match_length>=G)if(n=v._tr_tally(t,t.strstart-t.match_start,t.match_length-G),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=G){for(t.match_length--;t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+G-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart,0!=--t.match_length;);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else n=v._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(a(t,!1),0===t.strm.avail_out))return ot}return t.insert=t.strstart<G-1?t.strstart:G-1,e===k?(a(t,!0),0===t.strm.avail_out?lt:dt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?ot:at}function p(t,e){for(var i,n,s;;){if(t.lookahead<Z){if(u(t),t.lookahead<Z&&e===C)return ot;if(0===t.lookahead)break}if(i=0,t.lookahead>=G&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+G-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=G-1,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-Z&&(t.match_length=h(t,i),t.match_length<=5&&(t.strategy===O||t.match_length===G&&t.strstart-t.match_start>4096)&&(t.match_length=G-1)),t.prev_length>=G&&t.match_length<=t.prev_length){for(s=t.strstart+t.lookahead-G,n=v._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-G),t.lookahead-=t.prev_length-1,t.prev_length-=2;++t.strstart<=s&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+G-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!=--t.prev_length;);if(t.match_available=0,t.match_length=G-1,t.strstart++,n&&(a(t,!1),0===t.strm.avail_out))return ot}else if(t.match_available){if((n=v._tr_tally(t,0,t.window[t.strstart-1]))&&a(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return ot}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=v._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<G-1?t.strstart:G-1,e===k?(a(t,!0),0===t.strm.avail_out?lt:dt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?ot:at}function f(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=H,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?K:st,t.adler=2===e.wrap?0:1,e.last_flush=C,v._tr_init(e),D):n(t,E)}function m(t){var e,i=f(t);return i===D&&((e=t.state).window_size=2*e.w_size,r(e.head),e.max_lazy_match=b[e.level].max_lazy,e.good_match=b[e.level].good_length,e.nice_match=b[e.level].nice_length,e.max_chain_length=b[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=G-1,e.match_available=0,e.ins_h=0),i}function g(t,e,i,s,o,a){if(!t)return E;var l=1;if(e===L&&(e=6),0>s?(l=0,s=-s):s>15&&(l=2,s-=16),1>o||o>z||i!==M||8>s||s>15||0>e||e>9||0>a||a>P)return n(t,E);8===s&&(s=9);var d=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=M,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new y.Buf16(2*J),this.dyn_dtree=new y.Buf16(2*(2*U+1)),this.bl_tree=new y.Buf16(2*(2*Q+1)),r(this.dyn_ltree),r(this.dyn_dtree),r(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new y.Buf16(X+1),this.heap=new y.Buf16(2*q+1),r(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new y.Buf16(2*q+1),r(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return t.state=d,d.strm=t,d.wrap=l,d.gzhead=null,d.w_bits=s,d.w_size=1<<d.w_bits,d.w_mask=d.w_size-1,d.hash_bits=o+7,d.hash_size=1<<d.hash_bits,d.hash_mask=d.hash_size-1,d.hash_shift=~~((d.hash_bits+G-1)/G),d.window=new y.Buf8(2*d.w_size),d.head=new y.Buf16(d.hash_size),d.prev=new y.Buf16(d.w_size),d.lit_bufsize=1<<o+6,d.pending_buf_size=4*d.lit_bufsize,d.pending_buf=new y.Buf8(d.pending_buf_size),d.d_buf=d.lit_bufsize>>1,d.l_buf=3*d.lit_bufsize,d.level=e,d.strategy=a,d.method=i,m(t)}var b,y=t("../utils/common"),v=t("./trees"),_=t("./adler32"),w=t("./crc32"),x=t("./messages"),C=0,T=1,S=3,k=4,I=5,D=0,A=1,E=-2,F=-3,N=-5,L=-1,O=1,R=2,B=3,P=4,j=0,H=2,M=8,z=9,V=15,W=8,q=286,U=30,Q=19,J=2*q+1,X=15,G=3,$=258,Z=$+G+1,Y=32,K=42,tt=69,et=73,it=91,nt=103,st=113,rt=666,ot=1,at=2,lt=3,dt=4,ht=3,ut=function(t,e,i,n,s){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=n,this.func=s};b=[new ut(0,0,0,0,function(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(u(t),0===t.lookahead&&e===C)return ot;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var n=t.block_start+i;if((0===t.strstart||t.strstart>=n)&&(t.lookahead=t.strstart-n,t.strstart=n,a(t,!1),0===t.strm.avail_out))return ot;if(t.strstart-t.block_start>=t.w_size-Z&&(a(t,!1),0===t.strm.avail_out))return ot}return t.insert=0,e===k?(a(t,!0),0===t.strm.avail_out?lt:dt):(t.strstart>t.block_start&&(a(t,!1),t.strm.avail_out),ot)}),new ut(4,4,8,4,c),new ut(4,5,16,8,c),new ut(4,6,32,32,c),new ut(4,4,16,16,p),new ut(8,16,32,32,p),new ut(8,16,128,128,p),new ut(8,32,128,256,p),new ut(32,128,258,1024,p),new ut(32,258,258,4096,p)],i.deflateInit=function(t,e){return g(t,e,M,V,W,j)},i.deflateInit2=g,i.deflateReset=m,i.deflateResetKeep=f,i.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?E:(t.state.gzhead=e,D):E},i.deflate=function(t,e){var i,h,c,p;if(!t||!t.state||e>I||0>e)return t?n(t,E):E;if(h=t.state,!t.output||!t.input&&0!==t.avail_in||h.status===rt&&e!==k)return n(t,0===t.avail_out?N:E);if(h.strm=t,i=h.last_flush,h.last_flush=e,h.status===K)if(2===h.wrap)t.adler=0,l(h,31),l(h,139),l(h,8),h.gzhead?(l(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),l(h,255&h.gzhead.time),l(h,h.gzhead.time>>8&255),l(h,h.gzhead.time>>16&255),l(h,h.gzhead.time>>24&255),l(h,9===h.level?2:h.strategy>=R||h.level<2?4:0),l(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(l(h,255&h.gzhead.extra.length),l(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(t.adler=w(t.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=tt):(l(h,0),l(h,0),l(h,0),l(h,0),l(h,0),l(h,9===h.level?2:h.strategy>=R||h.level<2?4:0),l(h,ht),h.status=st);else{var f=M+(h.w_bits-8<<4)<<8;f|=(h.strategy>=R||h.level<2?0:h.level<6?1:6===h.level?2:3)<<6,0!==h.strstart&&(f|=Y),f+=31-f%31,h.status=st,d(h,f),0!==h.strstart&&(d(h,t.adler>>>16),d(h,65535&t.adler)),t.adler=1}if(h.status===tt)if(h.gzhead.extra){for(c=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>c&&(t.adler=w(t.adler,h.pending_buf,h.pending-c,c)),o(t),c=h.pending,h.pending!==h.pending_buf_size));)l(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>c&&(t.adler=w(t.adler,h.pending_buf,h.pending-c,c)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=et)}else h.status=et;if(h.status===et)if(h.gzhead.name){c=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>c&&(t.adler=w(t.adler,h.pending_buf,h.pending-c,c)),o(t),c=h.pending,h.pending===h.pending_buf_size)){p=1;break}p=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,l(h,p)}while(0!==p);h.gzhead.hcrc&&h.pending>c&&(t.adler=w(t.adler,h.pending_buf,h.pending-c,c)),0===p&&(h.gzindex=0,h.status=it)}else h.status=it;if(h.status===it)if(h.gzhead.comment){c=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>c&&(t.adler=w(t.adler,h.pending_buf,h.pending-c,c)),o(t),c=h.pending,h.pending===h.pending_buf_size)){p=1;break}p=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,l(h,p)}while(0!==p);h.gzhead.hcrc&&h.pending>c&&(t.adler=w(t.adler,h.pending_buf,h.pending-c,c)),0===p&&(h.status=nt)}else h.status=nt;if(h.status===nt&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&o(t),h.pending+2<=h.pending_buf_size&&(l(h,255&t.adler),l(h,t.adler>>8&255),t.adler=0,h.status=st)):h.status=st),0!==h.pending){if(o(t),0===t.avail_out)return h.last_flush=-1,D}else if(0===t.avail_in&&s(e)<=s(i)&&e!==k)return n(t,N);if(h.status===rt&&0!==t.avail_in)return n(t,N);if(0!==t.avail_in||0!==h.lookahead||e!==C&&h.status!==rt){var m=h.strategy===R?function(t,e){for(var i;;){if(0===t.lookahead&&(u(t),0===t.lookahead)){if(e===C)return ot;break}if(t.match_length=0,i=v._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(a(t,!1),0===t.strm.avail_out))return ot}return t.insert=0,e===k?(a(t,!0),0===t.strm.avail_out?lt:dt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?ot:at}(h,e):h.strategy===B?function(t,e){for(var i,n,s,r,o=t.window;;){if(t.lookahead<=$){if(u(t),t.lookahead<=$&&e===C)return ot;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=G&&t.strstart>0&&(n=o[s=t.strstart-1])===o[++s]&&n===o[++s]&&n===o[++s]){r=t.strstart+$;do{}while(n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&n===o[++s]&&r>s);t.match_length=$-(r-s),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=G?(i=v._tr_tally(t,1,t.match_length-G),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=v._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(a(t,!1),0===t.strm.avail_out))return ot}return t.insert=0,e===k?(a(t,!0),0===t.strm.avail_out?lt:dt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?ot:at}(h,e):b[h.level].func(h,e);if((m===lt||m===dt)&&(h.status=rt),m===ot||m===lt)return 0===t.avail_out&&(h.last_flush=-1),D;if(m===at&&(e===T?v._tr_align(h):e!==I&&(v._tr_stored_block(h,0,0,!1),e===S&&(r(h.head),0===h.lookahead&&(h.strstart=0,h.block_start=0,h.insert=0))),o(t),0===t.avail_out))return h.last_flush=-1,D}return e!==k?D:h.wrap<=0?A:(2===h.wrap?(l(h,255&t.adler),l(h,t.adler>>8&255),l(h,t.adler>>16&255),l(h,t.adler>>24&255),l(h,255&t.total_in),l(h,t.total_in>>8&255),l(h,t.total_in>>16&255),l(h,t.total_in>>24&255)):(d(h,t.adler>>>16),d(h,65535&t.adler)),o(t),h.wrap>0&&(h.wrap=-h.wrap),0!==h.pending?D:A)},i.deflateEnd=function(t){var e;return t&&t.state?(e=t.state.status)!==K&&e!==tt&&e!==et&&e!==it&&e!==nt&&e!==st&&e!==rt?n(t,E):(t.state=null,e===st?n(t,F):D):E},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./messages":37,"./trees":38}],33:[function(t,e){e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],34:[function(t,e){e.exports=function(t,e){var i,n,s,r,o,a,l,d,h,u,c,p,f,m,g,b,y,v,_,w,x,C,T,S,k;i=t.state,n=t.next_in,S=t.input,s=n+(t.avail_in-5),r=t.next_out,k=t.output,o=r-(e-t.avail_out),a=r+(t.avail_out-257),l=i.dmax,d=i.wsize,h=i.whave,u=i.wnext,c=i.window,p=i.hold,f=i.bits,m=i.lencode,g=i.distcode,b=(1<<i.lenbits)-1,y=(1<<i.distbits)-1;t:do{15>f&&(p+=S[n++]<<f,f+=8,p+=S[n++]<<f,f+=8),v=m[p&b];e:for(;;){if(p>>>=_=v>>>24,f-=_,0===(_=v>>>16&255))k[r++]=65535&v;else{if(!(16&_)){if(0==(64&_)){v=m[(65535&v)+(p&(1<<_)-1)];continue e}if(32&_){i.mode=12;break t}t.msg="invalid literal/length code",i.mode=30;break t}w=65535&v,(_&=15)&&(_>f&&(p+=S[n++]<<f,f+=8),w+=p&(1<<_)-1,p>>>=_,f-=_),15>f&&(p+=S[n++]<<f,f+=8,p+=S[n++]<<f,f+=8),v=g[p&y];i:for(;;){if(p>>>=_=v>>>24,f-=_,!(16&(_=v>>>16&255))){if(0==(64&_)){v=g[(65535&v)+(p&(1<<_)-1)];continue i}t.msg="invalid distance code",i.mode=30;break t}if(x=65535&v,(_&=15)>f&&(p+=S[n++]<<f,_>(f+=8)&&(p+=S[n++]<<f,f+=8)),(x+=p&(1<<_)-1)>l){t.msg="invalid distance too far back",i.mode=30;break t}if(p>>>=_,f-=_,x>(_=r-o)){if((_=x-_)>h&&i.sane){t.msg="invalid distance too far back",i.mode=30;break t}if(C=0,T=c,0===u){if(C+=d-_,w>_){for(w-=_;k[r++]=c[C++],--_;);C=r-x,T=k}}else if(_>u){if(C+=d+u-_,w>(_-=u)){for(w-=_;k[r++]=c[C++],--_;);if(C=0,w>u){for(w-=_=u;k[r++]=c[C++],--_;);C=r-x,T=k}}}else if(C+=u-_,w>_){for(w-=_;k[r++]=c[C++],--_;);C=r-x,T=k}for(;w>2;)k[r++]=T[C++],k[r++]=T[C++],k[r++]=T[C++],w-=3;w&&(k[r++]=T[C++],w>1&&(k[r++]=T[C++]))}else{for(C=r-x;k[r++]=k[C++],k[r++]=k[C++],k[r++]=k[C++],(w-=3)>2;);w&&(k[r++]=k[C++],w>1&&(k[r++]=k[C++]))}break}}break}}while(s>n&&a>r);n-=w=f>>3,p&=(1<<(f-=w<<3))-1,t.next_in=n,t.next_out=r,t.avail_in=s>n?s-n+5:5-(n-s),t.avail_out=a>r?a-r+257:257-(r-a),i.hold=p,i.bits=f}},{}],35:[function(t,e,i){function n(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function s(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=E,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new u.Buf32(lt),e.distcode=e.distdyn=new u.Buf32(dt),e.sane=1,e.back=-1,x):S}function r(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,s(t)):S}function o(t,e){var i,n;return t&&t.state?(n=t.state,0>e?(i=0,e=-e):(i=1+(e>>4),48>e&&(e&=15)),e&&(8>e||e>15)?S:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=i,n.wbits=e,r(t))):S}function a(t,e){var i,n;return t?(n=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new u.Buf16(320),this.work=new u.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},t.state=n,n.window=null,(i=o(t,e))!==x&&(t.state=null),i):S}function l(t){if(ut){var e;for(d=new u.Buf32(512),h=new u.Buf32(32),e=0;144>e;)t.lens[e++]=8;for(;256>e;)t.lens[e++]=9;for(;280>e;)t.lens[e++]=7;for(;288>e;)t.lens[e++]=8;for(m(b,t.lens,0,288,d,0,t.work,{bits:9}),e=0;32>e;)t.lens[e++]=5;m(y,t.lens,0,32,h,0,t.work,{bits:5}),ut=!1}t.lencode=d,t.lenbits=9,t.distcode=h,t.distbits=5}var d,h,u=t("../utils/common"),c=t("./adler32"),p=t("./crc32"),f=t("./inffast"),m=t("./inftrees"),g=0,b=1,y=2,v=4,_=5,w=6,x=0,C=1,T=2,S=-2,k=-3,I=-4,D=-5,A=8,E=1,F=2,N=3,L=4,O=5,R=6,B=7,P=8,j=9,H=10,M=11,z=12,V=13,W=14,q=15,U=16,Q=17,J=18,X=19,G=20,$=21,Z=22,Y=23,K=24,tt=25,et=26,it=27,nt=28,st=29,rt=30,ot=31,at=32,lt=852,dt=592,ht=15,ut=!0;i.inflateReset=r,i.inflateReset2=o,i.inflateResetKeep=s,i.inflateInit=function(t){return a(t,ht)},i.inflateInit2=a,i.inflate=function(t,e){var i,s,r,o,a,d,h,lt,dt,ht,ut,ct,pt,ft,mt,gt,bt,yt,vt,_t,wt,xt,Ct,Tt,St,kt,It,Dt,At,Et,Ft=0,Nt=new u.Buf8(4),Lt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return S;(i=t.state).mode===z&&(i.mode=V),a=t.next_out,r=t.output,h=t.avail_out,o=t.next_in,s=t.input,d=t.avail_in,lt=i.hold,dt=i.bits,ht=d,ut=h,xt=x;t:for(;;)switch(i.mode){case E:if(0===i.wrap){i.mode=V;break}for(;16>dt;){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}if(2&i.wrap&&35615===lt){i.check=0,Nt[0]=255&lt,Nt[1]=lt>>>8&255,i.check=p(i.check,Nt,2,0),lt=0,dt=0,i.mode=F;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&lt)<<8)+(lt>>8))%31){t.msg="incorrect header check",i.mode=rt;break}if((15&lt)!==A){t.msg="unknown compression method",i.mode=rt;break}if(dt-=4,wt=8+(15&(lt>>>=4)),0===i.wbits)i.wbits=wt;else if(wt>i.wbits){t.msg="invalid window size",i.mode=rt;break}i.dmax=1<<wt,t.adler=i.check=1,i.mode=512&lt?H:z,lt=0,dt=0;break;case F:for(;16>dt;){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}if(i.flags=lt,(255&i.flags)!==A){t.msg="unknown compression method",i.mode=rt;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=rt;break}i.head&&(i.head.text=lt>>8&1),512&i.flags&&(Nt[0]=255&lt,Nt[1]=lt>>>8&255,i.check=p(i.check,Nt,2,0)),lt=0,dt=0,i.mode=N;case N:for(;32>dt;){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}i.head&&(i.head.time=lt),512&i.flags&&(Nt[0]=255&lt,Nt[1]=lt>>>8&255,Nt[2]=lt>>>16&255,Nt[3]=lt>>>24&255,i.check=p(i.check,Nt,4,0)),lt=0,dt=0,i.mode=L;case L:for(;16>dt;){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}i.head&&(i.head.xflags=255&lt,i.head.os=lt>>8),512&i.flags&&(Nt[0]=255&lt,Nt[1]=lt>>>8&255,i.check=p(i.check,Nt,2,0)),lt=0,dt=0,i.mode=O;case O:if(1024&i.flags){for(;16>dt;){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}i.length=lt,i.head&&(i.head.extra_len=lt),512&i.flags&&(Nt[0]=255&lt,Nt[1]=lt>>>8&255,i.check=p(i.check,Nt,2,0)),lt=0,dt=0}else i.head&&(i.head.extra=null);i.mode=R;case R:if(1024&i.flags&&((ct=i.length)>d&&(ct=d),ct&&(i.head&&(wt=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),u.arraySet(i.head.extra,s,o,ct,wt)),512&i.flags&&(i.check=p(i.check,s,ct,o)),d-=ct,o+=ct,i.length-=ct),i.length))break t;i.length=0,i.mode=B;case B:if(2048&i.flags){if(0===d)break t;for(ct=0;wt=s[o+ct++],i.head&&wt&&i.length<65536&&(i.head.name+=String.fromCharCode(wt)),wt&&d>ct;);if(512&i.flags&&(i.check=p(i.check,s,ct,o)),d-=ct,o+=ct,wt)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=P;case P:if(4096&i.flags){if(0===d)break t;for(ct=0;wt=s[o+ct++],i.head&&wt&&i.length<65536&&(i.head.comment+=String.fromCharCode(wt)),wt&&d>ct;);if(512&i.flags&&(i.check=p(i.check,s,ct,o)),d-=ct,o+=ct,wt)break t}else i.head&&(i.head.comment=null);i.mode=j;case j:if(512&i.flags){for(;16>dt;){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}if(lt!==(65535&i.check)){t.msg="header crc mismatch",i.mode=rt;break}lt=0,dt=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=z;break;case H:for(;32>dt;){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}t.adler=i.check=n(lt),lt=0,dt=0,i.mode=M;case M:if(0===i.havedict)return t.next_out=a,t.avail_out=h,t.next_in=o,t.avail_in=d,i.hold=lt,i.bits=dt,T;t.adler=i.check=1,i.mode=z;case z:if(e===_||e===w)break t;case V:if(i.last){lt>>>=7&dt,dt-=7&dt,i.mode=it;break}for(;3>dt;){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}switch(i.last=1&lt,dt-=1,3&(lt>>>=1)){case 0:i.mode=W;break;case 1:if(l(i),i.mode=G,e===w){lt>>>=2,dt-=2;break t}break;case 2:i.mode=Q;break;case 3:t.msg="invalid block type",i.mode=rt}lt>>>=2,dt-=2;break;case W:for(lt>>>=7&dt,dt-=7&dt;32>dt;){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}if((65535&lt)!=(lt>>>16^65535)){t.msg="invalid stored block lengths",i.mode=rt;break}if(i.length=65535&lt,lt=0,dt=0,i.mode=q,e===w)break t;case q:i.mode=U;case U:if(ct=i.length){if(ct>d&&(ct=d),ct>h&&(ct=h),0===ct)break t;u.arraySet(r,s,o,ct,a),d-=ct,o+=ct,h-=ct,a+=ct,i.length-=ct;break}i.mode=z;break;case Q:for(;14>dt;){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}if(i.nlen=257+(31&lt),lt>>>=5,dt-=5,i.ndist=1+(31&lt),lt>>>=5,dt-=5,i.ncode=4+(15&lt),lt>>>=4,dt-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=rt;break}i.have=0,i.mode=J;case J:for(;i.have<i.ncode;){for(;3>dt;){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}i.lens[Lt[i.have++]]=7&lt,lt>>>=3,dt-=3}for(;i.have<19;)i.lens[Lt[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Ct={bits:i.lenbits},xt=m(g,i.lens,0,19,i.lencode,0,i.work,Ct),i.lenbits=Ct.bits,xt){t.msg="invalid code lengths set",i.mode=rt;break}i.have=0,i.mode=X;case X:for(;i.have<i.nlen+i.ndist;){for(;gt=(Ft=i.lencode[lt&(1<<i.lenbits)-1])>>>16&255,bt=65535&Ft,!(dt>=(mt=Ft>>>24));){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}if(16>bt)lt>>>=mt,dt-=mt,i.lens[i.have++]=bt;else{if(16===bt){for(Tt=mt+2;Tt>dt;){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}if(lt>>>=mt,dt-=mt,0===i.have){t.msg="invalid bit length repeat",i.mode=rt;break}wt=i.lens[i.have-1],ct=3+(3&lt),lt>>>=2,dt-=2}else if(17===bt){for(Tt=mt+3;Tt>dt;){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}dt-=mt,wt=0,ct=3+(7&(lt>>>=mt)),lt>>>=3,dt-=3}else{for(Tt=mt+7;Tt>dt;){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}dt-=mt,wt=0,ct=11+(127&(lt>>>=mt)),lt>>>=7,dt-=7}if(i.have+ct>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=rt;break}for(;ct--;)i.lens[i.have++]=wt}}if(i.mode===rt)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=rt;break}if(i.lenbits=9,Ct={bits:i.lenbits},xt=m(b,i.lens,0,i.nlen,i.lencode,0,i.work,Ct),i.lenbits=Ct.bits,xt){t.msg="invalid literal/lengths set",i.mode=rt;break}if(i.distbits=6,i.distcode=i.distdyn,Ct={bits:i.distbits},xt=m(y,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Ct),i.distbits=Ct.bits,xt){t.msg="invalid distances set",i.mode=rt;break}if(i.mode=G,e===w)break t;case G:i.mode=$;case $:if(d>=6&&h>=258){t.next_out=a,t.avail_out=h,t.next_in=o,t.avail_in=d,i.hold=lt,i.bits=dt,f(t,ut),a=t.next_out,r=t.output,h=t.avail_out,o=t.next_in,s=t.input,d=t.avail_in,lt=i.hold,dt=i.bits,i.mode===z&&(i.back=-1);break}for(i.back=0;gt=(Ft=i.lencode[lt&(1<<i.lenbits)-1])>>>16&255,bt=65535&Ft,!(dt>=(mt=Ft>>>24));){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}if(gt&&0==(240&gt)){for(yt=mt,vt=gt,_t=bt;gt=(Ft=i.lencode[_t+((lt&(1<<yt+vt)-1)>>yt)])>>>16&255,bt=65535&Ft,!(dt>=yt+(mt=Ft>>>24));){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}lt>>>=yt,dt-=yt,i.back+=yt}if(lt>>>=mt,dt-=mt,i.back+=mt,i.length=bt,0===gt){i.mode=et;break}if(32&gt){i.back=-1,i.mode=z;break}if(64&gt){t.msg="invalid literal/length code",i.mode=rt;break}i.extra=15&gt,i.mode=Z;case Z:if(i.extra){for(Tt=i.extra;Tt>dt;){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}i.length+=lt&(1<<i.extra)-1,lt>>>=i.extra,dt-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=Y;case Y:for(;gt=(Ft=i.distcode[lt&(1<<i.distbits)-1])>>>16&255,bt=65535&Ft,!(dt>=(mt=Ft>>>24));){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}if(0==(240&gt)){for(yt=mt,vt=gt,_t=bt;gt=(Ft=i.distcode[_t+((lt&(1<<yt+vt)-1)>>yt)])>>>16&255,bt=65535&Ft,!(dt>=yt+(mt=Ft>>>24));){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}lt>>>=yt,dt-=yt,i.back+=yt}if(lt>>>=mt,dt-=mt,i.back+=mt,64&gt){t.msg="invalid distance code",i.mode=rt;break}i.offset=bt,i.extra=15&gt,i.mode=K;case K:if(i.extra){for(Tt=i.extra;Tt>dt;){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}i.offset+=lt&(1<<i.extra)-1,lt>>>=i.extra,dt-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=rt;break}i.mode=tt;case tt:if(0===h)break t;if(ct=ut-h,i.offset>ct){if((ct=i.offset-ct)>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=rt;break}ct>i.wnext?(ct-=i.wnext,pt=i.wsize-ct):pt=i.wnext-ct,ct>i.length&&(ct=i.length),ft=i.window}else ft=r,pt=a-i.offset,ct=i.length;for(ct>h&&(ct=h),h-=ct,i.length-=ct;r[a++]=ft[pt++],--ct;);0===i.length&&(i.mode=$);break;case et:if(0===h)break t;r[a++]=i.length,h--,i.mode=$;break;case it:if(i.wrap){for(;32>dt;){if(0===d)break t;d--,lt|=s[o++]<<dt,dt+=8}if(ut-=h,t.total_out+=ut,i.total+=ut,ut&&(t.adler=i.check=i.flags?p(i.check,r,ut,a-ut):c(i.check,r,ut,a-ut)),ut=h,(i.flags?lt:n(lt))!==i.check){t.msg="incorrect data check",i.mode=rt;break}lt=0,dt=0}i.mode=nt;case nt:if(i.wrap&&i.flags){for(;32>dt;){if(0===d)break t;d--,lt+=s[o++]<<dt,dt+=8}if(lt!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=rt;break}lt=0,dt=0}i.mode=st;case st:xt=C;break t;case rt:xt=k;break t;case ot:return I;case at:default:return S}return t.next_out=a,t.avail_out=h,t.next_in=o,t.avail_in=d,i.hold=lt,i.bits=dt,(i.wsize||ut!==t.avail_out&&i.mode<rt&&(i.mode<it||e!==v))&&(St=t,kt=t.output,It=t.next_out,Dt=ut-t.avail_out,null===(Et=St.state).window&&(Et.wsize=1<<Et.wbits,Et.wnext=0,Et.whave=0,Et.window=new u.Buf8(Et.wsize)),Dt>=Et.wsize?(u.arraySet(Et.window,kt,It-Et.wsize,Et.wsize,0),Et.wnext=0,Et.whave=Et.wsize):((At=Et.wsize-Et.wnext)>Dt&&(At=Dt),u.arraySet(Et.window,kt,It-Dt,At,Et.wnext),(Dt-=At)?(u.arraySet(Et.window,kt,It-Dt,Dt,0),Et.wnext=Dt,Et.whave=Et.wsize):(Et.wnext+=At,Et.wnext===Et.wsize&&(Et.wnext=0),Et.whave<Et.wsize&&(Et.whave+=At))),0)?(i.mode=ot,I):(ht-=t.avail_in,ut-=t.avail_out,t.total_in+=ht,t.total_out+=ut,i.total+=ut,i.wrap&&ut&&(t.adler=i.check=i.flags?p(i.check,r,ut,t.next_out-ut):c(i.check,r,ut,t.next_out-ut)),t.data_type=i.bits+(i.last?64:0)+(i.mode===z?128:0)+(i.mode===G||i.mode===q?256:0),(0===ht&&0===ut||e===v)&&xt===x&&(xt=D),xt)},i.inflateEnd=function(t){if(!t||!t.state)return S;var e=t.state;return e.window&&(e.window=null),t.state=null,x},i.inflateGetHeader=function(t,e){var i;return t&&t.state?0==(2&(i=t.state).wrap)?S:(i.head=e,e.done=!1,x):S},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":27,"./adler32":29,"./crc32":31,"./inffast":34,"./inftrees":36}],36:[function(t,e){var i=t("../utils/common"),n=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],r=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,a,l,d,h,u,c){var p,f,m,g,b,y,v,_,w,x=c.bits,C=0,T=0,S=0,k=0,I=0,D=0,A=0,E=0,F=0,N=0,L=null,O=0,R=new i.Buf16(16),B=new i.Buf16(16),P=null,j=0;for(C=0;15>=C;C++)R[C]=0;for(T=0;l>T;T++)R[e[a+T]]++;for(I=x,k=15;k>=1&&0===R[k];k--);if(I>k&&(I=k),0===k)return d[h++]=20971520,d[h++]=20971520,c.bits=1,0;for(S=1;k>S&&0===R[S];S++);for(S>I&&(I=S),E=1,C=1;15>=C;C++)if(E<<=1,0>(E-=R[C]))return-1;if(E>0&&(0===t||1!==k))return-1;for(B[1]=0,C=1;15>C;C++)B[C+1]=B[C]+R[C];for(T=0;l>T;T++)0!==e[a+T]&&(u[B[e[a+T]]++]=T);if(0===t?(L=P=u,y=19):1===t?(L=n,O-=257,P=s,j-=257,y=256):(L=r,P=o,y=-1),N=0,T=0,C=S,b=h,D=I,A=0,m=-1,g=(F=1<<I)-1,1===t&&F>852||2===t&&F>592)return 1;for(;;){for(0,v=C-A,u[T]<y?(_=0,w=u[T]):u[T]>y?(_=P[j+u[T]],w=L[O+u[T]]):(_=96,w=0),p=1<<C-A,S=f=1<<D;d[b+(N>>A)+(f-=p)]=v<<24|_<<16|w|0,0!==f;);for(p=1<<C-1;N&p;)p>>=1;if(0!==p?(N&=p-1,N+=p):N=0,T++,0==--R[C]){if(C===k)break;C=e[a+u[T]]}if(C>I&&(N&g)!==m){for(0===A&&(A=I),b+=S,E=1<<(D=C-A);k>D+A&&!(0>=(E-=R[D+A]));)D++,E<<=1;if(F+=1<<D,1===t&&F>852||2===t&&F>592)return 1;d[m=N&g]=I<<24|D<<16|b-h|0}}return 0!==N&&(d[b+N]=C-A<<24|64<<16|0),c.bits=I,0}},{"../utils/common":27}],37:[function(t,e){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],38:[function(t,e,i){function n(t){for(var e=t.length;--e>=0;)t[e]=0}function s(t){return 256>t?Q[t]:Q[256+(t>>>7)]}function r(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function o(t,e,i){t.bi_valid>O-i?(t.bi_buf|=e<<t.bi_valid&65535,r(t,t.bi_buf),t.bi_buf=e>>O-t.bi_valid,t.bi_valid+=i-O):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function a(t,e,i){o(t,i[2*e],i[2*e+1])}function l(t,e){for(var i=0;i|=1&t,t>>>=1,i<<=1,--e>0;);return i>>>1}function d(t,e,i){var n,s,r=new Array(L+1),o=0;for(n=1;L>=n;n++)r[n]=o=o+i[n-1]<<1;for(s=0;e>=s;s++){var a=t[2*s+1];0!==a&&(t[2*s]=l(r[a]++,a))}}function h(t){var e;for(e=0;A>e;e++)t.dyn_ltree[2*e]=0;for(e=0;E>e;e++)t.dyn_dtree[2*e]=0;for(e=0;F>e;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*B]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function u(t){t.bi_valid>8?r(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function c(t,e,i,n){var s=2*e,r=2*i;return t[s]<t[r]||t[s]===t[r]&&n[e]<=n[i]}function p(t,e,i){for(var n=t.heap[i],s=i<<1;s<=t.heap_len&&(s<t.heap_len&&c(e,t.heap[s+1],t.heap[s],t.depth)&&s++,!c(e,n,t.heap[s],t.depth));)t.heap[i]=t.heap[s],i=s,s<<=1;t.heap[i]=n}function f(t,e,i){var n,r,l,d,h=0;if(0!==t.last_lit)for(;n=t.pending_buf[t.d_buf+2*h]<<8|t.pending_buf[t.d_buf+2*h+1],r=t.pending_buf[t.l_buf+h],h++,0===n?a(t,r,e):(a(t,(l=J[r])+D+1,e),0!==(d=M[l])&&o(t,r-=X[l],d),a(t,l=s(--n),i),0!==(d=z[l])&&o(t,n-=G[l],d)),h<t.last_lit;);a(t,B,e)}function m(t,e){var i,n,s,r=e.dyn_tree,o=e.stat_desc.static_tree,a=e.stat_desc.has_stree,l=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=N,i=0;l>i;i++)0!==r[2*i]?(t.heap[++t.heap_len]=h=i,t.depth[i]=0):r[2*i+1]=0;for(;t.heap_len<2;)r[2*(s=t.heap[++t.heap_len]=2>h?++h:0)]=1,t.depth[s]=0,t.opt_len--,a&&(t.static_len-=o[2*s+1]);for(e.max_code=h,i=t.heap_len>>1;i>=1;i--)p(t,r,i);for(s=l;i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],p(t,r,1),n=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=n,r[2*s]=r[2*i]+r[2*n],t.depth[s]=(t.depth[i]>=t.depth[n]?t.depth[i]:t.depth[n])+1,r[2*i+1]=r[2*n+1]=s,t.heap[1]=s++,p(t,r,1),t.heap_len>=2;);t.heap[--t.heap_max]=t.heap[1],function(t,e){var i,n,s,r,o,a,l=e.dyn_tree,d=e.max_code,h=e.stat_desc.static_tree,u=e.stat_desc.has_stree,c=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,f=e.stat_desc.max_length,m=0;for(r=0;L>=r;r++)t.bl_count[r]=0;for(l[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;N>i;i++)(r=l[2*l[2*(n=t.heap[i])+1]+1]+1)>f&&(r=f,m++),l[2*n+1]=r,n>d||(t.bl_count[r]++,o=0,n>=p&&(o=c[n-p]),a=l[2*n],t.opt_len+=a*(r+o),u&&(t.static_len+=a*(h[2*n+1]+o)));if(0!==m){do{for(r=f-1;0===t.bl_count[r];)r--;t.bl_count[r]--,t.bl_count[r+1]+=2,t.bl_count[f]--,m-=2}while(m>0);for(r=f;0!==r;r--)for(n=t.bl_count[r];0!==n;)(s=t.heap[--i])>d||(l[2*s+1]!==r&&(t.opt_len+=(r-l[2*s+1])*l[2*s],l[2*s+1]=r),n--)}}(t,e),d(r,h,t.bl_count)}function g(t,e,i){var n,s,r=-1,o=e[1],a=0,l=7,d=4;for(0===o&&(l=138,d=3),e[2*(i+1)+1]=65535,n=0;i>=n;n++)s=o,o=e[2*(n+1)+1],++a<l&&s===o||(d>a?t.bl_tree[2*s]+=a:0!==s?(s!==r&&t.bl_tree[2*s]++,t.bl_tree[2*P]++):10>=a?t.bl_tree[2*j]++:t.bl_tree[2*H]++,a=0,r=s,0===o?(l=138,d=3):s===o?(l=6,d=3):(l=7,d=4))}function b(t,e,i){var n,s,r=-1,l=e[1],d=0,h=7,u=4;for(0===l&&(h=138,u=3),n=0;i>=n;n++)if(s=l,l=e[2*(n+1)+1],!(++d<h&&s===l)){if(u>d)for(;a(t,s,t.bl_tree),0!=--d;);else 0!==s?(s!==r&&(a(t,s,t.bl_tree),d--),a(t,P,t.bl_tree),o(t,d-3,2)):10>=d?(a(t,j,t.bl_tree),o(t,d-3,3)):(a(t,H,t.bl_tree),o(t,d-11,7));d=0,r=s,0===l?(h=138,u=3):s===l?(h=6,u=3):(h=7,u=4)}}function y(t,e,i,n){var s,a,l,d;o(t,(T<<1)+(n?1:0),3),a=e,l=i,d=!0,u(s=t),d&&(r(s,l),r(s,~l)),v.arraySet(s.pending_buf,s.window,a,l,s.pending),s.pending+=l}var v=t("../utils/common"),_=4,w=0,x=1,C=2,T=0,S=1,k=2,I=29,D=256,A=D+1+I,E=30,F=19,N=2*A+1,L=15,O=16,R=7,B=256,P=16,j=17,H=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(A+2));n(q);var U=new Array(2*E);n(U);var Q=new Array(512);n(Q);var J=new Array(256);n(J);var X=new Array(I);n(X);var G=new Array(E);n(G);var $,Z,Y,K=function(t,e,i,n,s){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=n,this.max_length=s,this.has_stree=t&&t.length},tt=function(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e},et=!1;i._tr_init=function(t){et||(function(){var t,e,i,n,s,r=new Array(L+1);for(i=0,n=0;I-1>n;n++)for(X[n]=i,t=0;t<1<<M[n];t++)J[i++]=n;for(J[i-1]=n,s=0,n=0;16>n;n++)for(G[n]=s,t=0;t<1<<z[n];t++)Q[s++]=n;for(s>>=7;E>n;n++)for(G[n]=s<<7,t=0;t<1<<z[n]-7;t++)Q[256+s++]=n;for(e=0;L>=e;e++)r[e]=0;for(t=0;143>=t;)q[2*t+1]=8,t++,r[8]++;for(;255>=t;)q[2*t+1]=9,t++,r[9]++;for(;279>=t;)q[2*t+1]=7,t++,r[7]++;for(;287>=t;)q[2*t+1]=8,t++,r[8]++;for(d(q,A+1,r),t=0;E>t;t++)U[2*t+1]=5,U[2*t]=l(t,5);$=new K(q,M,D+1,A,L),Z=new K(U,z,0,E,L),Y=new K(new Array(0),V,0,F,R)}(),et=!0),t.l_desc=new tt(t.dyn_ltree,$),t.d_desc=new tt(t.dyn_dtree,Z),t.bl_desc=new tt(t.bl_tree,Y),t.bi_buf=0,t.bi_valid=0,h(t)},i._tr_stored_block=y,i._tr_flush_block=function(t,e,i,n){var s,r,a=0;t.level>0?(t.strm.data_type===C&&(t.strm.data_type=function(t){var e,i=4093624447;for(e=0;31>=e;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return w;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return x;for(e=32;D>e;e++)if(0!==t.dyn_ltree[2*e])return x;return w}(t)),m(t,t.l_desc),m(t,t.d_desc),a=function(t){var e;for(g(t,t.dyn_ltree,t.l_desc.max_code),g(t,t.dyn_dtree,t.d_desc.max_code),m(t,t.bl_desc),e=F-1;e>=3&&0===t.bl_tree[2*W[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),(s=t.opt_len+3+7>>>3)>=(r=t.static_len+3+7>>>3)&&(s=r)):s=r=i+5,s>=i+4&&-1!==e?y(t,e,i,n):t.strategy===_||r===s?(o(t,(S<<1)+(n?1:0),3),f(t,q,U)):(o(t,(k<<1)+(n?1:0),3),function(t,e,i,n){var s;for(o(t,e-257,5),o(t,i-1,5),o(t,n-4,4),s=0;n>s;s++)o(t,t.bl_tree[2*W[s]+1],3);b(t,t.dyn_ltree,e-1),b(t,t.dyn_dtree,i-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,a+1),f(t,t.dyn_ltree,t.dyn_dtree)),h(t),n&&u(t)},i._tr_tally=function(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(J[i]+D+1)]++,t.dyn_dtree[2*s(e)]++),t.last_lit===t.lit_bufsize-1},i._tr_align=function(t){var e;o(t,S<<1,3),a(t,B,q),16===(e=t).bi_valid?(r(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}},{"../utils/common":27}],39:[function(t,e){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}]},{},[9])(9)}),function(t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i||(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){function s(e){var i,n,r={};t.each(e,function(t){(i=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(i[1]+" ")&&(n=t.replace(i[0],i[2].toLowerCase()),r[n]=t,"o"===i[1]&&s(e[t]))}),e._hungarianMap=r}function r(e,i,o){var a;e._hungarianMap||s(e),t.each(i,function(s){(a=e._hungarianMap[s])===n||!o&&i[a]!==n||("o"===a.charAt(0)?(i[a]||(i[a]={}),t.extend(!0,i[a],i[s]),r(e[a],i[a],o)):i[a]=i[s])})}function o(t){var e=Qt.defaults.oLanguage,i=t.sZeroRecords;!t.sEmptyTable&&i&&"No data available in table"===e.sEmptyTable&&Ft(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&i&&"Loading..."===e.sLoadingRecords&&Ft(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands),(t=t.sDecimal)&&Mt(t)}function a(t){if(de(t,"ordering","bSort"),de(t,"orderMulti","bSortMulti"),de(t,"orderClasses","bSortClasses"),de(t,"orderCellsTop","bSortCellsTop"),de(t,"order","aaSorting"),de(t,"orderFixed","aaSortingFixed"),de(t,"paging","bPaginate"),de(t,"pagingType","sPaginationType"),de(t,"pageLength","iDisplayLength"),de(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":""),t=t.aoSearchCols)for(var e=0,i=t.length;e<i;e++)t[e]&&r(Qt.models.oSearch,t[e])}function l(e){de(e,"orderable","bSortable"),de(e,"orderData","aDataSort"),de(e,"orderSequence","asSorting"),de(e,"orderDataType","sortDataType");var i=e.aDataSort;"number"==typeof i&&!t.isArray(i)&&(e.aDataSort=[i])}function d(i){if(!Qt.__browser){var n={};Qt.__browser=n;var s=t("<div/>").css({position:"fixed",top:0,left:-1*t(e).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),r=s.children(),o=r.children();n.barWidth=r[0].offsetWidth-r[0].clientWidth,n.bScrollOversize=100===o[0].offsetWidth&&100!==r[0].clientWidth,n.bScrollbarLeft=1!==Math.round(o.offset().left),n.bBounding=!!s[0].getBoundingClientRect().width,s.remove()}t.extend(i.oBrowser,Qt.__browser),i.oScroll.iBarWidth=Qt.__browser.barWidth}function h(t,e,i,s,r,o){var a,l=!1;for(i!==n&&(a=i,l=!0);s!==r;)t.hasOwnProperty(s)&&(a=l?e(a,t[s],s,t):t[s],l=!0,s+=o);return a}function u(e,n){var s=Qt.defaults.column,r=e.aoColumns.length;s=t.extend({},Qt.models.oColumn,s,{nTh:n||i.createElement("th"),sTitle:s.sTitle?s.sTitle:n?n.innerHTML:"",aDataSort:s.aDataSort?s.aDataSort:[r],mData:s.mData?s.mData:r,idx:r});e.aoColumns.push(s),(s=e.aoPreSearchCols)[r]=t.extend({},Qt.models.oSearch,s[r]),c(e,r,t(n).data())}function c(e,i,s){i=e.aoColumns[i];var o=e.oClasses,a=t(i.nTh);if(!i.sWidthOrig){i.sWidthOrig=a.attr("width")||null;var d=(a.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);d&&(i.sWidthOrig=d[1])}s!==n&&null!==s&&(l(s),r(Qt.defaults.column,s),s.mDataProp!==n&&!s.mData&&(s.mData=s.mDataProp),s.sType&&(i._sManualType=s.sType),s.className&&!s.sClass&&(s.sClass=s.className),s.sClass&&a.addClass(s.sClass),t.extend(i,s),Ft(i,s,"sWidth","sWidthOrig"),s.iDataSort!==n&&(i.aDataSort=[s.iDataSort]),Ft(i,s,"aDataSort"));var h=i.mData,u=S(h),c=i.mRender?S(i.mRender):null;s=function(t){return"string"==typeof t&&-1!==t.indexOf("@")};i._bAttrSrc=t.isPlainObject(h)&&(s(h.sort)||s(h.type)||s(h.filter)),i._setter=null,i.fnGetData=function(t,e,i){var s=u(t,e,n,i);return c&&e?c(s,e,t,i):s},i.fnSetData=function(t,e,i){return k(h)(t,e,i)},"number"!=typeof h&&(e._rowReadObject=!0),e.oFeatures.bSort||(i.bSortable=!1,a.addClass(o.sSortableNone)),e=-1!==t.inArray("asc",i.asSorting),s=-1!==t.inArray("desc",i.asSorting),i.bSortable&&(e||s)?e&&!s?(i.sSortingClass=o.sSortableAsc,i.sSortingClassJUI=o.sSortJUIAscAllowed):!e&&s?(i.sSortingClass=o.sSortableDesc,i.sSortingClassJUI=o.sSortJUIDescAllowed):(i.sSortingClass=o.sSortable,i.sSortingClassJUI=o.sSortJUI):(i.sSortingClass=o.sSortableNone,i.sSortingClassJUI="")}function p(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;mt(t);for(var i=0,n=e.length;i<n;i++)e[i].nTh.style.width=e[i].sWidth}(""!==(e=t.oScroll).sY||""!==e.sX)&&pt(t),Rt(t,null,"column-sizing",[t])}function f(t,e){var i=b(t,"bVisible");return"number"==typeof i[e]?i[e]:null}function m(e,i){var n=b(e,"bVisible");return-1!==(n=t.inArray(i,n))?n:null}function g(e){var i=0;return t.each(e.aoColumns,function(e,n){n.bVisible&&"none"!==t(n.nTh).css("display")&&i++}),i}function b(e,i){var n=[];return t.map(e.aoColumns,function(t,e){t[i]&&n.push(e)}),n}function y(t){var e,i,s,r,o,a,l,d,h,u=t.aoColumns,c=t.aoData,p=Qt.ext.type.detect;for(e=0,i=u.length;e<i;e++)if(h=[],!(l=u[e]).sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(s=0,r=p.length;s<r;s++){for(o=0,a=c.length;o<a&&(h[o]===n&&(h[o]=x(t,o,e,"type")),(d=p[s](h[o],t))||s===p.length-1)&&"html"!==d;o++);if(d){l.sType=d;break}}l.sType||(l.sType="string")}}function v(e,i,s,r){var o,a,l,d,h,c,p=e.aoColumns;if(i)for(o=i.length-1;0<=o;o--){var f=(c=i[o]).targets!==n?c.targets:c.aTargets;for(t.isArray(f)||(f=[f]),a=0,l=f.length;a<l;a++)if("number"==typeof f[a]&&0<=f[a]){for(;p.length<=f[a];)u(e);r(f[a],c)}else if("number"==typeof f[a]&&0>f[a])r(p.length+f[a],c);else if("string"==typeof f[a])for(d=0,h=p.length;d<h;d++)("_all"==f[a]||t(p[d].nTh).hasClass(f[a]))&&r(d,c)}if(s)for(o=0,e=s.length;o<e;o++)r(o,s[o])}function _(e,i,s,r){var o=e.aoData.length,a=t.extend(!0,{},Qt.models.oRow,{src:s?"dom":"data",idx:o});a._aData=i,e.aoData.push(a);for(var l=e.aoColumns,d=0,h=l.length;d<h;d++)l[d].sType=null;return e.aiDisplayMaster.push(o),(i=e.rowIdFn(i))!==n&&(e.aIds[i]=a),(s||!e.oFeatures.bDeferRender)&&N(e,o,s,r),o}function w(e,i){var n;return i instanceof t||(i=t(i)),i.map(function(t,i){return n=F(e,i),_(e,n.data,i,n.cells)})}function x(t,e,i,s){var r=t.iDraw,o=t.aoColumns[i],a=t.aoData[e]._aData,l=o.sDefaultContent,d=o.fnGetData(a,s,{settings:t,row:e,col:i});if(d===n)return t.iDrawError!=r&&null===l&&(Et(t,0,"Requested unknown parameter "+("function"==typeof o.mData?"{function}":"'"+o.mData+"'")+" for row "+e+", column "+i,4),t.iDrawError=r),l;if(d!==a&&null!==d||null===l||s===n){if("function"==typeof d)return d.call(a)}else d=l;return null===d&&"display"==s?"":d}function C(t,e,i,n){t.aoColumns[i].fnSetData(t.aoData[e]._aData,n,{settings:t,row:e,col:i})}function T(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\\./g,".")})}function S(e){if(t.isPlainObject(e)){var i={};return t.each(e,function(t,e){e&&(i[t]=S(e))}),function(t,e,s,r){var o=i[e]||i._;return o!==n?o(t,e,s,r):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,i,n,s){return e(t,i,n,s)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("[")||-1!==e.indexOf("("))){var s=function(e,i,r){var o,a;if(""!==r)for(var l=0,d=(a=T(r)).length;l<d;l++){if(r=a[l].match(he),o=a[l].match(ue),r){if(a[l]=a[l].replace(he,""),""!==a[l]&&(e=e[a[l]]),o=[],a.splice(0,l+1),a=a.join("."),t.isArray(e))for(l=0,d=e.length;l<d;l++)o.push(s(e[l],i,a));e=""===(e=r[0].substring(1,r[0].length-1))?o:o.join(e);break}if(o)a[l]=a[l].replace(ue,""),e=e[a[l]]();else{if(null===e||e[a[l]]===n)return n;e=e[a[l]]}}return e};return function(t,i){return s(t,i,e)}}return function(t){return t[e]}}function k(e){if(t.isPlainObject(e))return k(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,i,n){e(t,"set",i,n)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("[")||-1!==e.indexOf("("))){var i=function(e,s,r){var o;o=(r=T(r))[r.length-1];for(var a,l,d=0,h=r.length-1;d<h;d++){if(a=r[d].match(he),l=r[d].match(ue),a){if(r[d]=r[d].replace(he,""),e[r[d]]=[],(o=r.slice()).splice(0,d+1),a=o.join("."),t.isArray(s))for(l=0,h=s.length;l<h;l++)i(o={},s[l],a),e[r[d]].push(o);else e[r[d]]=s;return}l&&(r[d]=r[d].replace(ue,""),e=e[r[d]](s)),null!==e[r[d]]&&e[r[d]]!==n||(e[r[d]]={}),e=e[r[d]]}o.match(ue)?e[o.replace(ue,"")](s):e[o.replace(he,"")]=s};return function(t,n){return i(t,n,e)}}return function(t,i){t[e]=i}}function I(t){return se(t.aoData,"_aData")}function D(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function A(t,e,i){for(var s=-1,r=0,o=t.length;r<o;r++)t[r]==e?s=r:t[r]>e&&t[r]--;-1!=s&&i===n&&t.splice(s,1)}function E(t,e,i,s){var r,o=t.aoData[e],a=function(i,n){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=x(t,e,n,"display")};if("dom"!==i&&(i&&"auto"!==i||"dom"!==o.src)){var l=o.anCells;if(l)if(s!==n)a(l[s],s);else for(i=0,r=l.length;i<r;i++)a(l[i],i)}else o._aData=F(t,o,s,s===n?n:o._aData).data;if(o._aSortData=null,o._aFilterData=null,a=t.aoColumns,s!==n)a[s].sType=null;else{for(i=0,r=a.length;i<r;i++)a[i].sType=null;L(t,o)}}function F(e,i,s,r){var o,a,l,d=[],h=i.firstChild,u=0,c=e.aoColumns,p=e._rowReadObject,f=(r=r!==n?r:p?{}:[],function(t,e){if("string"==typeof t){var i=t.indexOf("@");-1!==i&&(i=t.substring(i+1),k(t)(r,e.getAttribute(i)))}}),m=function(e){s!==n&&s!==u||(a=c[u],l=t.trim(e.innerHTML),a&&a._bAttrSrc?(k(a.mData._)(r,l),f(a.mData.sort,e),f(a.mData.type,e),f(a.mData.filter,e)):p?(a._setter||(a._setter=k(a.mData)),a._setter(r,l)):r[u]=l),u++};if(h)for(;h;)"TD"!=(o=h.nodeName.toUpperCase())&&"TH"!=o||(m(h),d.push(h)),h=h.nextSibling;else for(h=0,o=(d=i.anCells).length;h<o;h++)m(d[h]);return(i=i.firstChild?i:i.nTr)&&(i=i.getAttribute("id"))&&k(e.rowId)(r,i),{data:r,cells:d}}function N(e,n,s,r){var o,a,l,d,h,u=e.aoData[n],c=u._aData,p=[];if(null===u.nTr){for(o=s||i.createElement("tr"),u.nTr=o,u.anCells=p,o._DT_RowIndex=n,L(e,u),d=0,h=e.aoColumns.length;d<h;d++)l=e.aoColumns[d],(a=s?r[d]:i.createElement(l.sCellType))._DT_CellIndex={row:n,column:d},p.push(a),s&&!l.mRender&&l.mData===d||t.isPlainObject(l.mData)&&l.mData._===d+".display"||(a.innerHTML=x(e,n,d,"display")),l.sClass&&(a.className+=" "+l.sClass),l.bVisible&&!s?o.appendChild(a):!l.bVisible&&s&&a.parentNode.removeChild(a),l.fnCreatedCell&&l.fnCreatedCell.call(e.oInstance,a,x(e,n,d),c,n,d);Rt(e,"aoRowCreatedCallback",null,[o,c,n])}u.nTr.setAttribute("role","row")}function L(e,i){var n=i.nTr,s=i._aData;if(n){var r=e.rowIdFn(s);r&&(n.id=r),s.DT_RowClass&&(r=s.DT_RowClass.split(" "),i.__rowc=i.__rowc?le(i.__rowc.concat(r)):r,t(n).removeClass(i.__rowc.join(" ")).addClass(s.DT_RowClass)),s.DT_RowAttr&&t(n).attr(s.DT_RowAttr),s.DT_RowData&&t(n).data(s.DT_RowData)}}function O(e){var i,n,s,r,o,a=e.nTHead,l=e.nTFoot,d=0===t("th, td",a).length,h=e.oClasses,u=e.aoColumns;for(d&&(r=t("<tr/>").appendTo(a)),i=0,n=u.length;i<n;i++)o=u[i],s=t(o.nTh).addClass(o.sClass),d&&s.appendTo(r),e.oFeatures.bSort&&(s.addClass(o.sSortingClass),!1!==o.bSortable&&(s.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),Tt(e,o.nTh,i))),o.sTitle!=s[0].innerHTML&&s.html(o.sTitle),Pt(e,"header")(e,s,o,h);if(d&&H(e.aoHeader,a),t(a).find(">tr").attr("role","row"),t(a).find(">tr>th, >tr>td").addClass(h.sHeaderTH),t(l).find(">tr>th, >tr>td").addClass(h.sFooterTH),null!==l)for(i=0,n=(e=e.aoFooter[0]).length;i<n;i++)(o=u[i]).nTf=e[i].cell,o.sClass&&t(o.nTf).addClass(o.sClass)}function R(e,i,s){var r,o,a,l,d=[],h=[],u=e.aoColumns.length;if(i){for(s===n&&(s=!1),r=0,o=i.length;r<o;r++){for(d[r]=i[r].slice(),d[r].nTr=i[r].nTr,a=u-1;0<=a;a--)!e.aoColumns[a].bVisible&&!s&&d[r].splice(a,1);h.push([])}for(r=0,o=d.length;r<o;r++){if(e=d[r].nTr)for(;a=e.firstChild;)e.removeChild(a);for(a=0,i=d[r].length;a<i;a++)if(l=u=1,h[r][a]===n){for(e.appendChild(d[r][a].cell),h[r][a]=1;d[r+u]!==n&&d[r][a].cell==d[r+u][a].cell;)h[r+u][a]=1,u++;for(;d[r][a+l]!==n&&d[r][a].cell==d[r][a+l].cell;){for(s=0;s<u;s++)h[r+s][a+l]=1;l++}t(d[r][a].cell).attr("rowspan",u).attr("colspan",l)}}}}function B(e){var i=Rt(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==t.inArray(!1,i))ut(e,!1);else{i=[];var s=0,r=e.asStripeClasses,o=r.length,a=e.oLanguage,l=e.iInitDisplayStart,d="ssp"==jt(e),h=e.aiDisplay;e.bDrawing=!0,l!==n&&-1!==l&&(e._iDisplayStart=d?l:l>=e.fnRecordsDisplay()?0:l,e.iInitDisplayStart=-1);l=e._iDisplayStart;var u=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,ut(e,!1);else if(d){if(!e.bDestroying&&!V(e))return}else e.iDraw++;if(0!==h.length)for(a=d?e.aoData.length:u,d=d?0:l;d<a;d++){var c=h[d],p=e.aoData[c];if(null===p.nTr&&N(e,c),c=p.nTr,0!==o){var f=r[s%o];p._sRowStripe!=f&&(t(c).removeClass(p._sRowStripe).addClass(f),p._sRowStripe=f)}Rt(e,"aoRowCallback",null,[c,p._aData,s,d]),i.push(c),s++}else s=a.sZeroRecords,1==e.iDraw&&"ajax"==jt(e)?s=a.sLoadingRecords:a.sEmptyTable&&0===e.fnRecordsTotal()&&(s=a.sEmptyTable),i[0]=t("<tr/>",{class:o?r[0]:""}).append(t("<td />",{valign:"top",colSpan:g(e),class:e.oClasses.sRowEmpty}).html(s))[0];Rt(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],I(e),l,u,h]),Rt(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],I(e),l,u,h]),(r=t(e.nTBody)).children().detach(),r.append(t(i)),Rt(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}}function P(t,e){var i=t.oFeatures,n=i.bFilter;i.bSort&&wt(t),n?J(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,B(t),t._drawHold=!1}function j(e){var i=e.oClasses,n=t(e.nTable),s=(n=t("<div/>").insertBefore(n),e.oFeatures),r=t("<div/>",{id:e.sTableId+"_wrapper",class:i.sWrapper+(e.nTFoot?"":" "+i.sNoFooter)});e.nHolding=n[0],e.nTableWrapper=r[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var o,a,l,d,h,u,c=e.sDom.split(""),p=0;p<c.length;p++){if(o=null,"<"==(a=c[p])){if(l=t("<div/>")[0],"'"==(d=c[p+1])||'"'==d){for(h="",u=2;c[p+u]!=d;)h+=c[p+u],u++;"H"==h?h=i.sJUIHeader:"F"==h&&(h=i.sJUIFooter),-1!=h.indexOf(".")?(d=h.split("."),l.id=d[0].substr(1,d[0].length-1),l.className=d[1]):"#"==h.charAt(0)?l.id=h.substr(1,h.length-1):l.className=h,p+=u}r.append(l),r=t(l)}else if(">"==a)r=r.parent();else if("l"==a&&s.bPaginate&&s.bLengthChange)o=at(e);else if("f"==a&&s.bFilter)o=Q(e);else if("r"==a&&s.bProcessing)o=ht(e);else if("t"==a)o=ct(e);else if("i"==a&&s.bInfo)o=et(e);else if("p"==a&&s.bPaginate)o=lt(e);else if(0!==Qt.ext.feature.length)for(u=0,d=(l=Qt.ext.feature).length;u<d;u++)if(a==l[u].cFeature){o=l[u].fnInit(e);break}o&&((l=e.aanFeatures)[a]||(l[a]=[]),l[a].push(o),r.append(o))}n.replaceWith(r),e.nHolding=null}function H(e,i){var n,s,r,o,a,l,d,h,u,c,p=t(i).children("tr");for(e.splice(0,e.length),r=0,l=p.length;r<l;r++)e.push([]);for(r=0,l=p.length;r<l;r++)for(s=(n=p[r]).firstChild;s;){if("TD"==s.nodeName.toUpperCase()||"TH"==s.nodeName.toUpperCase()){for(h=(h=1*s.getAttribute("colspan"))&&0!==h&&1!==h?h:1,u=(u=1*s.getAttribute("rowspan"))&&0!==u&&1!==u?u:1,o=0,a=e[r];a[o];)o++;for(d=o,c=1===h,a=0;a<h;a++)for(o=0;o<u;o++)e[r+o][d+a]={cell:s,unique:c},e[r+o].nTr=n}s=s.nextSibling}}function M(t,e,i){var n=[];i||(i=t.aoHeader,e&&H(i=[],e));e=0;for(var s=i.length;e<s;e++)for(var r=0,o=i[e].length;r<o;r++)!i[e][r].unique||n[r]&&t.bSortCellsTop||(n[r]=i[e][r].cell);return n}function z(e,i,n){if(Rt(e,"aoServerParams","serverParams",[i]),i&&t.isArray(i)){var s={},r=/(.*?)\[\]$/;t.each(i,function(t,e){var i=e.name.match(r);i?(i=i[0],s[i]||(s[i]=[]),s[i].push(e.value)):s[e.name]=e.value}),i=s}var o,a=e.ajax,l=e.oInstance,d=function(t){Rt(e,null,"xhr",[e,t,e.jqXHR]),n(t)};if(t.isPlainObject(a)&&a.data){o=a.data;var h=t.isFunction(o)?o(i,e):o;i=t.isFunction(o)&&h?h:t.extend(!0,i,h);delete a.data}h={data:i,success:function(t){var i=t.error||t.sError;i&&Et(e,0,i),e.json=t,d(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(i,n){var s=Rt(e,null,"xhr",[e,null,e.jqXHR]);-1===t.inArray(!0,s)&&("parsererror"==n?Et(e,0,"Invalid JSON response",1):4===i.readyState&&Et(e,0,"Ajax error",7)),ut(e,!1)}},e.oAjaxData=i,Rt(e,null,"preXhr",[e,i]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,t.map(i,function(t,e){return{name:e,value:t}}),d,e):e.sAjaxSource||"string"==typeof a?e.jqXHR=t.ajax(t.extend(h,{url:a||e.sAjaxSource})):t.isFunction(a)?e.jqXHR=a.call(l,i,d,e):(e.jqXHR=t.ajax(t.extend(h,a)),a.data=o)}function V(t){return!t.bAjaxDataGet||(t.iDraw++,ut(t,!0),z(t,W(t),function(e){q(t,e)}),!1)}function W(e){var i,n,s,r,o=e.aoColumns,a=o.length,l=e.oFeatures,d=e.oPreviousSearch,h=e.aoPreSearchCols,u=[],c=_t(e);i=e._iDisplayStart,n=!1!==l.bPaginate?e._iDisplayLength:-1;var p=function(t,e){u.push({name:t,value:e})};p("sEcho",e.iDraw),p("iColumns",a),p("sColumns",se(o,"sName").join(",")),p("iDisplayStart",i),p("iDisplayLength",n);var f={draw:e.iDraw,columns:[],order:[],start:i,length:n,search:{value:d.sSearch,regex:d.bRegex}};for(i=0;i<a;i++)s=o[i],r=h[i],n="function"==typeof s.mData?"function":s.mData,f.columns.push({data:n,name:s.sName,searchable:s.bSearchable,orderable:s.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),p("mDataProp_"+i,n),l.bFilter&&(p("sSearch_"+i,r.sSearch),p("bRegex_"+i,r.bRegex),p("bSearchable_"+i,s.bSearchable)),l.bSort&&p("bSortable_"+i,s.bSortable);return l.bFilter&&(p("sSearch",d.sSearch),p("bRegex",d.bRegex)),l.bSort&&(t.each(c,function(t,e){f.order.push({column:e.col,dir:e.dir}),p("iSortCol_"+t,e.col),p("sSortDir_"+t,e.dir)}),p("iSortingCols",c.length)),null===(o=Qt.ext.legacy.ajax)?e.sAjaxSource?u:f:o?u:f}function q(t,e){var i=U(t,e),s=e.sEcho!==n?e.sEcho:e.draw,r=e.iTotalRecords!==n?e.iTotalRecords:e.recordsTotal,o=e.iTotalDisplayRecords!==n?e.iTotalDisplayRecords:e.recordsFiltered;if(s){if(1*s<t.iDraw)return;t.iDraw=1*s}for(D(t),t._iRecordsTotal=parseInt(r,10),t._iRecordsDisplay=parseInt(o,10),s=0,r=i.length;s<r;s++)_(t,i[s]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,B(t),t._bInitComplete||rt(t,e),t.bAjaxDataGet=!0,ut(t,!1)}function U(e,i){var s=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==n?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===s?i.aaData||i[s]:""!==s?S(s)(i):i}function Q(e){var n=e.oClasses,s=e.sTableId,r=e.oLanguage,o=e.oPreviousSearch,a=e.aanFeatures,l='<input type="search" class="'+n.sFilterInput+'"/>',d=(d=r.sSearch).match(/_INPUT_/)?d.replace("_INPUT_",l):d+l,h=(n=t("<div/>",{id:a.f?null:s+"_filter",class:n.sFilter}).append(t("<label/>").append(d)),a=function(){var t=this.value?this.value:"";t!=o.sSearch&&(J(e,{sSearch:t,bRegex:o.bRegex,bSmart:o.bSmart,bCaseInsensitive:o.bCaseInsensitive}),e._iDisplayStart=0,B(e))},l=null!==e.searchDelay?e.searchDelay:"ssp"===jt(e)?400:0,t("input",n).val(o.sSearch).attr("placeholder",r.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",l?ge(a,l):a).on("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",s));return t(e.nTable).on("search.dt.DT",function(t,n){if(e===n)try{h[0]!==i.activeElement&&h.val(o.sSearch)}catch(t){}}),n[0]}function J(t,e,i){var s=t.oPreviousSearch,r=t.aoPreSearchCols,o=function(t){s.sSearch=t.sSearch,s.bRegex=t.bRegex,s.bSmart=t.bSmart,s.bCaseInsensitive=t.bCaseInsensitive};if(y(t),"ssp"!=jt(t)){for($(t,e.sSearch,i,e.bEscapeRegex!==n?!e.bEscapeRegex:e.bRegex,e.bSmart,e.bCaseInsensitive),o(e),e=0;e<r.length;e++)G(t,r[e].sSearch,e,r[e].bEscapeRegex!==n?!r[e].bEscapeRegex:r[e].bRegex,r[e].bSmart,r[e].bCaseInsensitive);X(t)}else o(e);t.bFiltered=!0,Rt(t,null,"search",[t])}function X(e){for(var i,n,s=Qt.ext.search,r=e.aiDisplay,o=0,a=s.length;o<a;o++){for(var l=[],d=0,h=r.length;d<h;d++)n=r[d],i=e.aoData[n],s[o](e,i._aFilterData,n,i._aData,d)&&l.push(n);r.length=0,t.merge(r,l)}}function G(t,e,i,n,s,r){if(""!==e){var o=[],a=t.aiDisplay;for(n=Z(e,n,s,r),s=0;s<a.length;s++)e=t.aoData[a[s]]._aFilterData[i],n.test(e)&&o.push(a[s]);t.aiDisplay=o}}function $(t,e,i,n,s,r){n=Z(e,n,s,r),r=t.oPreviousSearch.sSearch;var o,a=t.aiDisplayMaster;s=[];if(0!==Qt.ext.search.length&&(i=!0),o=Y(t),0>=e.length)t.aiDisplay=a.slice();else{for((o||i||r.length>e.length||0!==e.indexOf(r)||t.bSorted)&&(t.aiDisplay=a.slice()),e=t.aiDisplay,i=0;i<e.length;i++)n.test(t.aoData[e[i]]._sFilterRow)&&s.push(e[i]);t.aiDisplay=s}}function Z(e,i,n,s){return e=i?e:ce(e),n&&(e="^(?=.*?"+t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(e,s?"i":"")}function Y(t){var e,i,n,s,r,o,a,l,d=t.aoColumns,h=Qt.ext.type.search;for(e=!1,i=0,s=t.aoData.length;i<s;i++)if(!(l=t.aoData[i])._aFilterData){for(o=[],n=0,r=d.length;n<r;n++)(e=d[n]).bSearchable?(a=x(t,i,n,"filter"),h[e.sType]&&(a=h[e.sType](a)),null===a&&(a=""),"string"!=typeof a&&a.toString&&(a=a.toString())):a="",a.indexOf&&-1!==a.indexOf("&")&&(pe.innerHTML=a,a=fe?pe.textContent:pe.innerText),a.replace&&(a=a.replace(/[\r\n]/g,"")),o.push(a);l._aFilterData=o,l._sFilterRow=o.join("  "),e=!0}return e}function K(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function tt(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function et(e){var i=e.sTableId,n=e.aanFeatures.i,s=t("<div/>",{class:e.oClasses.sInfo,id:n?null:i+"_info"});return n||(e.aoDrawCallback.push({fn:it,sName:"information"}),s.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",i+"_info")),s[0]}function it(e){var i=e.aanFeatures.i;if(0!==i.length){var n=e.oLanguage,s=e._iDisplayStart+1,r=e.fnDisplayEnd(),o=e.fnRecordsTotal(),a=e.fnRecordsDisplay(),l=a?n.sInfo:n.sInfoEmpty;a!==o&&(l+=" "+n.sInfoFiltered),l=nt(e,l+=n.sInfoPostFix),null!==(n=n.fnInfoCallback)&&(l=n.call(e.oInstance,e,s,r,o,a,l)),t(i).html(l)}}function nt(t,e){var i=t.fnFormatNumber,n=t._iDisplayStart+1,s=t._iDisplayLength,r=t.fnRecordsDisplay(),o=-1===s;return e.replace(/_START_/g,i.call(t,n)).replace(/_END_/g,i.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,i.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(t,r)).replace(/_PAGE_/g,i.call(t,o?1:Math.ceil(n/s))).replace(/_PAGES_/g,i.call(t,o?1:Math.ceil(r/s)))}function st(t){var e,i,n,s=t.iInitDisplayStart,r=t.aoColumns;i=t.oFeatures;var o=t.bDeferLoading;if(t.bInitialised){for(j(t),O(t),R(t,t.aoHeader),R(t,t.aoFooter),ut(t,!0),i.bAutoWidth&&mt(t),e=0,i=r.length;e<i;e++)(n=r[e]).sWidth&&(n.nTh.style.width=vt(n.sWidth));Rt(t,null,"preInit",[t]),P(t),("ssp"!=(r=jt(t))||o)&&("ajax"==r?z(t,[],function(i){var n=U(t,i);for(e=0;e<n.length;e++)_(t,n[e]);t.iInitDisplayStart=s,P(t),ut(t,!1),rt(t,i)}):(ut(t,!1),rt(t)))}else setTimeout(function(){st(t)},200)}function rt(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&p(t),Rt(t,null,"plugin-init",[t,e]),Rt(t,"aoInitComplete","init",[t,e])}function ot(t,e){var i=parseInt(e,10);t._iDisplayLength=i,Bt(t),Rt(t,null,"length",[t,i])}function at(e){for(var i=e.oClasses,n=e.sTableId,s=e.aLengthMenu,r=(o=t.isArray(s[0]))?s[0]:s,o=(s=o?s[1]:s,t("<select/>",{name:n+"_length","aria-controls":n,class:i.sLengthSelect})),a=0,l=r.length;a<l;a++)o[0][a]=new Option("number"==typeof s[a]?e.fnFormatNumber(s[a]):s[a],r[a]);var d=t("<div><label/></div>").addClass(i.sLength);return e.aanFeatures.l||(d[0].id=n+"_length"),d.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",o[0].outerHTML)),t("select",d).val(e._iDisplayLength).on("change.DT",function(){ot(e,t(this).val()),B(e)}),t(e.nTable).on("length.dt.DT",function(i,n,s){e===n&&t("select",d).val(s)}),d[0]}function lt(e){var i=e.sPaginationType,n=Qt.ext.pager[i],s="function"==typeof n,r=function(t){B(t)},o=(i=t("<div/>").addClass(e.oClasses.sPaging+i)[0],e.aanFeatures);return s||n.fnInit(e,i,r),o.p||(i.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(s){var e,i=t._iDisplayStart,a=t._iDisplayLength,l=t.fnRecordsDisplay(),d=(i=(d=-1===a)?0:Math.ceil(i/a),a=d?1:Math.ceil(l/a),l=n(i,a),0);for(e=o.p.length;d<e;d++)Pt(t,"pageButton")(t,o.p[d],d,l,i,a)}else n.fnUpdate(t,r)},sName:"pagination"})),i}function dt(t,e,i){var n=t._iDisplayStart,s=t._iDisplayLength,r=t.fnRecordsDisplay();return 0===r||-1===s?n=0:"number"==typeof e?(n=e*s)>r&&(n=0):"first"==e?n=0:"previous"==e?0>(n=0<=s?n-s:0)&&(n=0):"next"==e?n+s<r&&(n+=s):"last"==e?n=Math.floor((r-1)/s)*s:Et(t,0,"Unknown paging action: "+e,5),e=t._iDisplayStart!==n,t._iDisplayStart=n,e&&(Rt(t,null,"page",[t]),i&&B(t)),e}function ht(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function ut(e,i){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",i?"block":"none"),Rt(e,null,"processing",[e,i])}function ct(e){(u=t(e.nTable)).attr("role","grid");var i=e.oScroll;if(""===i.sX&&""===i.sY)return e.nTable;var n=i.sX,s=i.sY,r=e.oClasses,o=u.children("caption"),a=o.length?o[0]._captionSide:null,l=t(u[0].cloneNode(!1)),d=t(u[0].cloneNode(!1)),h=u.children("tfoot");h.length||(h=null),l=t("<div/>",{class:r.sScrollWrapper}).append(t("<div/>",{class:r.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:n?n?vt(n):null:"100%"}).append(t("<div/>",{class:r.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(l.removeAttr("id").css("margin-left",0).append("top"===a?o:null).append(u.children("thead"))))).append(t("<div/>",{class:r.sScrollBody}).css({position:"relative",overflow:"auto",width:n?vt(n):null}).append(u)),h&&l.append(t("<div/>",{class:r.sScrollFoot}).css({overflow:"hidden",border:0,width:n?n?vt(n):null:"100%"}).append(t("<div/>",{class:r.sScrollFootInner}).append(d.removeAttr("id").css("margin-left",0).append("bottom"===a?o:null).append(u.children("tfoot")))));var u,c=(u=l.children())[0],p=(r=u[1],h?u[2]:null);return n&&t(r).on("scroll.DT",function(){var t=this.scrollLeft;c.scrollLeft=t,h&&(p.scrollLeft=t)}),t(r).css(s&&i.bCollapse?"max-height":"height",s),e.nScrollHead=c,e.nScrollBody=r,e.nScrollFoot=p,e.aoDrawCallback.push({fn:pt,sName:"scrolling"}),l[0]}function pt(e){var i,s,r,o,a,l=(u=e.oScroll).sX,d=u.sXInner,h=u.sY,u=u.iBarWidth,c=t(e.nScrollHead),m=c[0].style,g=(y=c.children("div"))[0].style,b=y.children("table"),y=e.nScrollBody,v=t(y),_=y.style,w=t(e.nScrollFoot).children("div"),x=w.children("table"),C=t(e.nTHead),T=t(e.nTable),S=T[0],k=S.style,I=e.nTFoot?t(e.nTFoot):null,D=e.oBrowser,A=D.bScrollOversize,E=se(e.aoColumns,"nTh"),F=[],N=[],L=[],O=[],R=function(t){(t=t.style).paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};s=y.scrollHeight>y.clientHeight,e.scrollBarVis!==s&&e.scrollBarVis!==n?(e.scrollBarVis=s,p(e)):(e.scrollBarVis=s,T.children("thead, tfoot").remove(),I&&(r=I.clone().prependTo(T),i=I.find("tr"),r=r.find("tr")),o=C.clone().prependTo(T),C=C.find("tr"),s=o.find("tr"),o.find("th, td").removeAttr("tabindex"),l||(_.width="100%",c[0].style.width="100%"),t.each(M(e,o),function(t,i){a=f(e,t),i.style.width=e.aoColumns[a].sWidth}),I&&ft(function(t){t.style.width=""},r),c=T.outerWidth(),""===l?(k.width="100%",A&&(T.find("tbody").height()>y.offsetHeight||"scroll"==v.css("overflow-y"))&&(k.width=vt(T.outerWidth()-u)),c=T.outerWidth()):""!==d&&(k.width=vt(d),c=T.outerWidth()),ft(R,s),ft(function(e){L.push(e.innerHTML),F.push(vt(t(e).css("width")))},s),ft(function(e,i){-1!==t.inArray(e,E)&&(e.style.width=F[i])},C),t(s).height(0),I&&(ft(R,r),ft(function(e){O.push(e.innerHTML),N.push(vt(t(e).css("width")))},r),ft(function(t,e){t.style.width=N[e]},i),t(r).height(0)),ft(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+L[e]+"</div>",t.style.width=F[e]},s),I&&ft(function(t,e){t.innerHTML='<div class="dataTables_sizing" style="height:0;overflow:hidden;">'+O[e]+"</div>",t.style.width=N[e]},r),T.outerWidth()<c?(i=y.scrollHeight>y.offsetHeight||"scroll"==v.css("overflow-y")?c+u:c,A&&(y.scrollHeight>y.offsetHeight||"scroll"==v.css("overflow-y"))&&(k.width=vt(i-u)),(""===l||""!==d)&&Et(e,1,"Possible column misalignment",6)):i="100%",_.width=vt(i),m.width=vt(i),I&&(e.nScrollFoot.style.width=vt(i)),!h&&A&&(_.height=vt(S.offsetHeight+u)),l=T.outerWidth(),b[0].style.width=vt(l),g.width=vt(l),d=T.height()>y.clientHeight||"scroll"==v.css("overflow-y"),g[h="padding"+(D.bScrollbarLeft?"Left":"Right")]=d?u+"px":"0px",I&&(x[0].style.width=vt(l),w[0].style.width=vt(l),w[0].style[h]=d?u+"px":"0px"),T.children("colgroup").insertBefore(T.children("thead")),v.scroll(),!e.bSorted&&!e.bFiltered||e._drawHold||(y.scrollTop=0))}function ft(t,e,i){for(var n,s,r=0,o=0,a=e.length;o<a;){for(n=e[o].firstChild,s=i?i[o].firstChild:null;n;)1===n.nodeType&&(i?t(n,s,r):t(n,r),r++),n=n.nextSibling,s=i?s.nextSibling:null;o++}}function mt(i){var n,s,r=i.nTable,o=i.aoColumns,a=(w=i.oScroll).sY,l=w.sX,d=w.sXInner,h=o.length,u=b(i,"bVisible"),c=t("th",i.nTHead),m=r.getAttribute("width"),y=r.parentNode,v=!1,_=i.oBrowser,w=_.bScrollOversize;for((n=r.style.width)&&-1!==n.indexOf("%")&&(m=n),n=0;n<u.length;n++)null!==(s=o[u[n]]).sWidth&&(s.sWidth=gt(s.sWidthOrig,y),v=!0);if(w||!v&&!l&&!a&&h==g(i)&&h==c.length)for(n=0;n<h;n++)null!==(u=f(i,n))&&(o[u].sWidth=vt(c.eq(n).width()));else{(h=t(r).clone().css("visibility","hidden").removeAttr("id")).find("tbody tr").remove();var x=t("<tr/>").appendTo(h.find("tbody"));for(h.find("thead, tfoot").remove(),h.append(t(i.nTHead).clone()).append(t(i.nTFoot).clone()),h.find("tfoot th, tfoot td").css("width",""),c=M(i,h.find("thead")[0]),n=0;n<u.length;n++)s=o[u[n]],c[n].style.width=null!==s.sWidthOrig&&""!==s.sWidthOrig?vt(s.sWidthOrig):"",s.sWidthOrig&&l&&t(c[n]).append(t("<div/>").css({width:s.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(i.aoData.length)for(n=0;n<u.length;n++)s=o[v=u[n]],t(bt(i,v)).clone(!1).append(s.sContentPadding).appendTo(x);for(t("[name]",h).removeAttr("name"),s=t("<div/>").css(l||a?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(h).appendTo(y),l&&d?h.width(d):l?(h.css("width","auto"),h.removeAttr("width"),h.width()<y.clientWidth&&m&&h.width(y.clientWidth)):a?h.width(y.clientWidth):m&&h.width(m),n=a=0;n<u.length;n++)d=(y=t(c[n])).outerWidth()-y.width(),a+=y=_.bBounding?Math.ceil(c[n].getBoundingClientRect().width):y.outerWidth(),o[u[n]].sWidth=vt(y-d);r.style.width=vt(a),s.remove()}m&&(r.style.width=vt(m)),!m&&!l||i._reszEvt||(r=function(){t(e).on("resize.DT-"+i.sInstance,ge(function(){p(i)}))},w?setTimeout(r,1e3):r(),i._reszEvt=!0)}function gt(e,n){if(!e)return 0;var s=t("<div/>").css("width",vt(e)).appendTo(n||i.body),r=s[0].offsetWidth;return s.remove(),r}function bt(e,i){var n=yt(e,i);if(0>n)return null;var s=e.aoData[n];return s.nTr?s.anCells[i]:t("<td/>").html(x(e,n,i,"display"))[0]}function yt(t,e){for(var i,n=-1,s=-1,r=0,o=t.aoData.length;r<o;r++)(i=(i=(i=x(t,r,e,"display")+"").replace(me,"")).replace(/&nbsp;/g," ")).length>n&&(n=i.length,s=r);return s}function vt(t){return null===t?"0px":"number"==typeof t?0>t?"0px":t+"px":t.match(/\d$/)?t+"px":t}function _t(e){var i,s,r,o,a,l,d=[],h=e.aoColumns;i=e.aaSortingFixed,s=t.isPlainObject(i);var u=[];for(r=function(e){e.length&&!t.isArray(e[0])?u.push(e):t.merge(u,e)},t.isArray(i)&&r(i),s&&i.pre&&r(i.pre),r(e.aaSorting),s&&i.post&&r(i.post),e=0;e<u.length;e++)for(i=0,s=(r=h[l=u[e][0]].aDataSort).length;i<s;i++)a=h[o=r[i]].sType||"string",u[e]._idx===n&&(u[e]._idx=t.inArray(u[e][1],h[o].asSorting)),d.push({src:l,col:o,dir:u[e][1],index:u[e]._idx,type:a,formatter:Qt.ext.type.order[a+"-pre"]});return d}function wt(t){var e,i,n,s,r=[],o=Qt.ext.type.order,a=t.aoData,l=0,d=t.aiDisplayMaster;for(y(t),e=0,i=(s=_t(t)).length;e<i;e++)(n=s[e]).formatter&&l++,kt(t,n.col);if("ssp"!=jt(t)&&0!==s.length){for(e=0,i=d.length;e<i;e++)r[d[e]]=e;l===s.length?d.sort(function(t,e){var i,n,o,l,d=s.length,h=a[t]._aSortData,u=a[e]._aSortData;for(o=0;o<d;o++)if(0!==(i=(i=h[(l=s[o]).col])<(n=u[l.col])?-1:i>n?1:0))return"asc"===l.dir?i:-i;return(i=r[t])<(n=r[e])?-1:i>n?1:0}):d.sort(function(t,e){var i,n,l,d,h=s.length,u=a[t]._aSortData,c=a[e]._aSortData;for(l=0;l<h;l++)if(i=u[(d=s[l]).col],n=c[d.col],0!==(i=(d=o[d.type+"-"+d.dir]||o["string-"+d.dir])(i,n)))return i;return(i=r[t])<(n=r[e])?-1:i>n?1:0})}t.bSorted=!0}function xt(t){for(var e,i,n=t.aoColumns,s=_t(t),r=(t=t.oLanguage.oAria,0),o=n.length;r<o;r++){var a=(i=n[r]).asSorting;e=i.sTitle.replace(/<.*?>/g,"");var l=i.nTh;l.removeAttribute("aria-sort"),i.bSortable&&(0<s.length&&s[0].col==r?(l.setAttribute("aria-sort","asc"==s[0].dir?"ascending":"descending"),i=a[s[0].index+1]||a[0]):i=a[0],e+="asc"===i?t.sSortAscending:t.sSortDescending),l.setAttribute("aria-label",e)}}function Ct(e,i,s,r){var o=e.aaSorting,a=e.aoColumns[i].asSorting,l=function(e,i){var s=e._idx;return s===n&&(s=t.inArray(e[1],a)),s+1<a.length?s+1:i?null:0};"number"==typeof o[0]&&(o=e.aaSorting=[o]),s&&e.oFeatures.bSortMulti?-1!==(s=t.inArray(i,se(o,"0")))?(null===(i=l(o[s],!0))&&1===o.length&&(i=0),null===i?o.splice(s,1):(o[s][1]=a[i],o[s]._idx=i)):(o.push([i,a[0],0]),o[o.length-1]._idx=0):o.length&&o[0][0]==i?(i=l(o[0]),o.length=1,o[0][1]=a[i],o[0]._idx=i):(o.length=0,o.push([i,a[0]]),o[0]._idx=0),P(e),"function"==typeof r&&r(e)}function Tt(t,e,i,n){var s=t.aoColumns[i];Lt(e,{},function(e){!1!==s.bSortable&&(t.oFeatures.bProcessing?(ut(t,!0),setTimeout(function(){Ct(t,i,e.shiftKey,n),"ssp"!==jt(t)&&ut(t,!1)},0)):Ct(t,i,e.shiftKey,n))})}function St(e){var i,n,s=e.aLastSort,r=e.oClasses.sSortColumn,o=_t(e),a=e.oFeatures;if(a.bSort&&a.bSortClasses){for(a=0,i=s.length;a<i;a++)n=s[a].src,t(se(e.aoData,"anCells",n)).removeClass(r+(2>a?a+1:3));for(a=0,i=o.length;a<i;a++)n=o[a].src,t(se(e.aoData,"anCells",n)).addClass(r+(2>a?a+1:3))}e.aLastSort=o}function kt(t,e){var i,n=t.aoColumns[e],s=Qt.ext.order[n.sSortDataType];s&&(i=s.call(t.oInstance,t,e,m(t,e)));for(var r,o=Qt.ext.type.order[n.sType+"-pre"],a=0,l=t.aoData.length;a<l;a++)(n=t.aoData[a])._aSortData||(n._aSortData=[]),(!n._aSortData[e]||s)&&(r=s?i[a]:x(t,a,e,"sort"),n._aSortData[e]=o?o(r):r)}function It(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var i={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:K(e.oPreviousSearch),columns:t.map(e.aoColumns,function(t,i){return{visible:t.bVisible,search:K(e.aoPreSearchCols[i])}})};Rt(e,"aoStateSaveParams","stateSaveParams",[e,i]),e.oSavedState=i,e.fnStateSaveCallback.call(e.oInstance,e,i)}}function Dt(e,i,s){var r,o,a=e.aoColumns;i=function(i){if(i&&i.time){var l=Rt(e,"aoStateLoadParams","stateLoadParams",[e,i]);if(-1===t.inArray(!1,l)&&!(0<(l=e.iStateDuration)&&i.time<+new Date-1e3*l||i.columns&&a.length!==i.columns.length)){if(e.oLoadedState=t.extend(!0,{},i),i.start!==n&&(e._iDisplayStart=i.start,e.iInitDisplayStart=i.start),i.length!==n&&(e._iDisplayLength=i.length),i.order!==n&&(e.aaSorting=[],t.each(i.order,function(t,i){e.aaSorting.push(i[0]>=a.length?[0,i[1]]:i)})),i.search!==n&&t.extend(e.oPreviousSearch,tt(i.search)),i.columns)for(r=0,o=i.columns.length;r<o;r++)(l=i.columns[r]).visible!==n&&(a[r].bVisible=l.visible),l.search!==n&&t.extend(e.aoPreSearchCols[r],tt(l.search));Rt(e,"aoStateLoaded","stateLoaded",[e,i])}}s()};if(e.oFeatures.bStateSave){var l=e.fnStateLoadCallback.call(e.oInstance,e,i);l!==n&&i(l)}else s()}function At(e){var i=Qt.settings;return-1!==(e=t.inArray(e,se(i,"nTable")))?i[e]:null}function Et(t,i,n,s){if(n="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+n,s&&(n+=". For more information about this error, please see http://datatables.net/tn/"+s),i)e.console&&console.log&&console.log(n);else if(i=(i=Qt.ext).sErrMode||i.errMode,t&&Rt(t,null,"error",[t,s,n]),"alert"==i)alert(n);else{if("throw"==i)throw Error(n);"function"==typeof i&&i(t,s,n)}}function Ft(e,i,s,r){t.isArray(s)?t.each(s,function(n,s){t.isArray(s)?Ft(e,i,s[0],s[1]):Ft(e,i,s)}):(r===n&&(r=s),i[s]!==n&&(e[r]=i[s]))}function Nt(e,i,n){var s,r;for(r in i)i.hasOwnProperty(r)&&(s=i[r],t.isPlainObject(s)?(t.isPlainObject(e[r])||(e[r]={}),t.extend(!0,e[r],s)):e[r]=n&&"data"!==r&&"aaData"!==r&&t.isArray(s)?s.slice():s);return e}function Lt(e,i,n){t(e).on("click.DT",i,function(t){e.blur(),n(t)}).on("keypress.DT",i,function(t){13===t.which&&(t.preventDefault(),n(t))}).on("selectstart.DT",function(){return!1})}function Ot(t,e,i,n){i&&t[e].push({fn:i,sName:n})}function Rt(e,i,n,s){var r=[];return i&&(r=t.map(e[i].slice().reverse(),function(t){return t.fn.apply(e.oInstance,s)})),null!==n&&(i=t.Event(n+".dt"),t(e.nTable).trigger(i,s),r.push(i.result)),r}function Bt(t){var e=t._iDisplayStart,i=t.fnDisplayEnd(),n=t._iDisplayLength;e>=i&&(e=i-n),e-=e%n,(-1===n||0>e)&&(e=0),t._iDisplayStart=e}function Pt(e,i){var n=e.renderer,s=Qt.ext.renderer[i];return t.isPlainObject(n)&&n[i]?s[n[i]]||s._:"string"==typeof n&&s[n]||s._}function jt(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function Ht(t,e){var i=[],n=(i=De.numbers_length,Math.floor(i/2));return e<=i?i=oe(0,e):t<=n?((i=oe(0,i-2)).push("ellipsis"),i.push(e-1)):(t>=e-1-n?i=oe(e-(i-2),e):((i=oe(t-n+2,t+n-1)).push("ellipsis"),i.push(e-1)),i.splice(0,0,"ellipsis"),i.splice(0,0,0)),i.DT_el="span",i}function Mt(e){t.each({num:function(t){return Ae(t,e)},"num-fmt":function(t){return Ae(t,e,Yt)},"html-num":function(t){return Ae(t,e,Gt)},"html-num-fmt":function(t){return Ae(t,e,Gt,Yt)}},function(t,i){Vt.type.order[t+e+"-pre"]=i,t.match(/^html\-/)&&(Vt.type.search[t+e]=Vt.type.search.html)})}function zt(t){return function(){var e=[At(this[Qt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Qt.ext.internal[t].apply(this,e)}}var Vt,Wt,qt,Ut,Qt=function(e){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new Wt(t?At(this[Vt.iApiIndex]):this)},this.fnAddData=function(e,i){var s=this.api(!0),r=t.isArray(e)&&(t.isArray(e[0])||t.isPlainObject(e[0]))?s.rows.add(e):s.row.add(e);return(i===n||i)&&s.draw(),r.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),i=e.settings()[0],s=i.oScroll;t===n||t?e.draw(!1):(""!==s.sX||""!==s.sY)&&pt(i)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===n||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,i){var s=this.api(!0),r=(t=s.rows(t)).settings()[0],o=r.aoData[t[0][0]];return t.remove(),e&&e.call(this,r,o),(i===n||i)&&s.draw(),o},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,i,s,r,o){r=this.api(!0),null===e||e===n?r.search(t,i,s,o):r.column(e).search(t,i,s,o),r.draw()},this.fnGetData=function(t,e){var i=this.api(!0);if(t!==n){var s=t.nodeName?t.nodeName.toLowerCase():"";return e!==n||"td"==s||"th"==s?i.cell(t,e).data():i.row(t).data()||null}return i.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==n?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),i=t.nodeName.toUpperCase();return"TR"==i?e.row(t).index():"TD"==i||"TH"==i?[(t=e.cell(t).index()).row,t.columnVisible,t.column]:null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,i){return this.api(!0).row(t).child(e,i).show().child()[0]},this.fnPageChange=function(t,e){var i=this.api(!0).page(t);(e===n||e)&&i.draw(!1)},this.fnSetColumnVis=function(t,e,i){t=this.api(!0).column(t).visible(e),(i===n||i)&&t.columns.adjust().draw()},this.fnSettings=function(){return At(this[Vt.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,i){this.api(!0).order.listener(t,e,i)},this.fnUpdate=function(t,e,i,s,r){var o=this.api(!0);return i===n||null===i?o.row(e).data(t):o.cell(e,i).data(t),(r===n||r)&&o.columns.adjust(),(s===n||s)&&o.draw(),0},this.fnVersionCheck=Vt.fnVersionCheck;var i=this,s=e===n,h=this.length;for(var p in s&&(e={}),this.oApi=this.internal=Vt.internal,Qt.ext.internal)p&&(this[p]=zt(p));return this.each(function(){var p,f={},m=1<h?Nt(f,e,!0):e,g=0,b=(f=this.getAttribute("id"),!1),y=Qt.defaults,x=t(this);if("table"!=this.nodeName.toLowerCase())Et(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{a(y),l(y.column),r(y,y,!0),r(y.column,y.column,!0),r(y,t.extend(m,x.data()));var C=Qt.settings;g=0;for(p=C.length;g<p;g++){var T=C[g];if(T.nTable==this||T.nTHead.parentNode==this||T.nTFoot&&T.nTFoot.parentNode==this){var k=m.bRetrieve!==n?m.bRetrieve:y.bRetrieve;if(s||k)return T.oInstance;if(m.bDestroy!==n?m.bDestroy:y.bDestroy){T.oInstance.fnDestroy();break}return void Et(T,0,"Cannot reinitialise DataTable",3)}if(T.sTableId==this.id){C.splice(g,1);break}}null!==f&&""!==f||(this.id=f="DataTables_Table_"+Qt.ext._unique++);var I=t.extend(!0,{},Qt.models.oSettings,{sDestroyWidth:x[0].style.width,sInstance:f,sTableId:f});I.nTable=this,I.oApi=i.internal,I.oInit=m,C.push(I),I.oInstance=1===i.length?i:x.dataTable(),a(m),m.oLanguage&&o(m.oLanguage),m.aLengthMenu&&!m.iDisplayLength&&(m.iDisplayLength=t.isArray(m.aLengthMenu[0])?m.aLengthMenu[0][0]:m.aLengthMenu[0]),m=Nt(t.extend(!0,{},y),m),Ft(I.oFeatures,m,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Ft(I,m,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),Ft(I.oScroll,m,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Ft(I.oLanguage,m,"fnInfoCallback"),Ot(I,"aoDrawCallback",m.fnDrawCallback,"user"),Ot(I,"aoServerParams",m.fnServerParams,"user"),Ot(I,"aoStateSaveParams",m.fnStateSaveParams,"user"),Ot(I,"aoStateLoadParams",m.fnStateLoadParams,"user"),Ot(I,"aoStateLoaded",m.fnStateLoaded,"user"),Ot(I,"aoRowCallback",m.fnRowCallback,"user"),Ot(I,"aoRowCreatedCallback",m.fnCreatedRow,"user"),Ot(I,"aoHeaderCallback",m.fnHeaderCallback,"user"),Ot(I,"aoFooterCallback",m.fnFooterCallback,"user"),Ot(I,"aoInitComplete",m.fnInitComplete,"user"),Ot(I,"aoPreDrawCallback",m.fnPreDrawCallback,"user"),I.rowIdFn=S(m.rowId),d(I);var D=I.oClasses;t.extend(D,Qt.ext.classes,m.oClasses),x.addClass(D.sTable),I.iInitDisplayStart===n&&(I.iInitDisplayStart=m.iDisplayStart,I._iDisplayStart=m.iDisplayStart),null!==m.iDeferLoading&&(I.bDeferLoading=!0,f=t.isArray(m.iDeferLoading),I._iRecordsDisplay=f?m.iDeferLoading[0]:m.iDeferLoading,I._iRecordsTotal=f?m.iDeferLoading[1]:m.iDeferLoading);var A=I.oLanguage;t.extend(!0,A,m.oLanguage),A.sUrl&&(t.ajax({dataType:"json",url:A.sUrl,success:function(e){o(e),r(y.oLanguage,e),t.extend(!0,A,e),st(I)},error:function(){st(I)}}),b=!0),null===m.asStripeClasses&&(I.asStripeClasses=[D.sStripeOdd,D.sStripeEven]);f=I.asStripeClasses;var E=x.children("tbody").find("tr").eq(0);if(-1!==t.inArray(!0,t.map(f,function(t){return E.hasClass(t)}))&&(t("tbody tr",this).removeClass(f.join(" ")),I.asDestroyStripes=f.slice()),f=[],0!==(C=this.getElementsByTagName("thead")).length&&(H(I.aoHeader,C[0]),f=M(I)),null===m.aoColumns)for(C=[],g=0,p=f.length;g<p;g++)C.push(null);else C=m.aoColumns;for(g=0,p=C.length;g<p;g++)u(I,f?f[g]:null);if(v(I,m.aoColumnDefs,C,function(t,e){c(I,t,e)}),E.length){var F=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t(E[0]).children("th, td").each(function(t,e){var i=I.aoColumns[t];if(i.mData===t){var s=F(e,"sort")||F(e,"order"),r=F(e,"filter")||F(e,"search");null===s&&null===r||(i.mData={_:t+".display",sort:null!==s?t+".@data-"+s:n,type:null!==s?t+".@data-"+s:n,filter:null!==r?t+".@data-"+r:n},c(I,t))}})}var N=I.oFeatures;f=function(){if(m.aaSorting===n){var e=I.aaSorting;for(g=0,p=e.length;g<p;g++)e[g][1]=I.aoColumns[g].asSorting[0]}St(I),N.bSort&&Ot(I,"aoDrawCallback",function(){if(I.bSorted){var e=_t(I),i={};t.each(e,function(t,e){i[e.src]=e.dir}),Rt(I,null,"order",[I,e,i]),xt(I)}}),Ot(I,"aoDrawCallback",function(){(I.bSorted||"ssp"===jt(I)||N.bDeferRender)&&St(I)},"sc");e=x.children("caption").each(function(){this._captionSide=t(this).css("caption-side")});var i=x.children("thead");if(0===i.length&&(i=t("<thead/>").appendTo(x)),I.nTHead=i[0],0===(i=x.children("tbody")).length&&(i=t("<tbody/>").appendTo(x)),I.nTBody=i[0],0===(i=x.children("tfoot")).length&&e.length>0&&(""!==I.oScroll.sX||""!==I.oScroll.sY)&&(i=t("<tfoot/>").appendTo(x)),0===i.length||0===i.children().length?x.addClass(D.sNoFooter):i.length>0&&(I.nTFoot=i[0],H(I.aoFooter,I.nTFoot)),m.aaData)for(g=0;g<m.aaData.length;g++)_(I,m.aaData[g]);else(I.bDeferLoading||"dom"==jt(I))&&w(I,t(I.nTBody).children("tr"));I.aiDisplay=I.aiDisplayMaster.slice(),I.bInitialised=!0,!1===b&&st(I)};m.bStateSave?(N.bStateSave=!0,Ot(I,"aoDrawCallback",It,"state_save"),Dt(I,m,f)):f()}}),i=null,this},Jt={},Xt=/[\r\n]/g,Gt=/<.*?>/g,$t=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,Zt=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Yt=/[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,Kt=function(t){return!t||!0===t||"-"===t},te=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},ee=function(t,e){return Jt[e]||(Jt[e]=RegExp(ce(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Jt[e],"."):t},ie=function(t,e,i){var n="string"==typeof t;return!!Kt(t)||(e&&n&&(t=ee(t,e)),i&&n&&(t=t.replace(Yt,"")),!isNaN(parseFloat(t))&&isFinite(t))},ne=function(t,e,i){return!!Kt(t)||((Kt(t)||"string"==typeof t)&&!!ie(t.replace(Gt,""),e,i)||null)},se=function(t,e,i){var s=[],r=0,o=t.length;if(i!==n)for(;r<o;r++)t[r]&&t[r][e]&&s.push(t[r][e][i]);else for(;r<o;r++)t[r]&&s.push(t[r][e]);return s},re=function(t,e,i,s){var r=[],o=0,a=e.length;if(s!==n)for(;o<a;o++)t[e[o]][i]&&r.push(t[e[o]][i][s]);else for(;o<a;o++)r.push(t[e[o]][i]);return r},oe=function(t,e){var i,s=[];e===n?(e=0,i=t):(i=e,e=t);for(var r=e;r<i;r++)s.push(r);return s},ae=function(t){for(var e=[],i=0,n=t.length;i<n;i++)t[i]&&e.push(t[i]);return e},le=function(t){var e;t:{if(!(2>t.length))for(var i=(e=t.slice().sort())[0],n=1,s=e.length;n<s;n++){if(e[n]===i){e=!1;break t}i=e[n]}e=!0}if(e)return t.slice();e=[];s=t.length;var r,o=0;n=0;t:for(;n<s;n++){for(i=t[n],r=0;r<o;r++)if(e[r]===i)continue t;e.push(i),o++}return e};Qt.util={throttle:function(t,e){var i,s,r=e!==n?e:200;return function(){var e=this,o=+new Date,a=arguments;i&&o<i+r?(clearTimeout(s),s=setTimeout(function(){i=n,t.apply(e,a)},r)):(i=o,t.apply(e,a))}},escapeRegex:function(t){return t.replace(Zt,"\\$1")}};var de=function(t,e,i){t[e]!==n&&(t[i]=t[e])},he=/\[.*?\]$/,ue=/\(\)$/,ce=Qt.util.escapeRegex,pe=t("<div>")[0],fe=pe.textContent!==n,me=/<.*?>/g,ge=Qt.util.throttle,be=[],ye=Array.prototype;Wt=function(e,i){if(!(this instanceof Wt))return new Wt(e,i);var n=[],s=function(e){var i,s,r,o,a;i=e,o=Qt.settings,a=t.map(o,function(t){return t.nTable}),(e=i?i.nTable&&i.oApi?[i]:i.nodeName&&"table"===i.nodeName.toLowerCase()?-1!==(s=t.inArray(i,a))?[o[s]]:null:i&&"function"==typeof i.settings?i.settings().toArray():("string"==typeof i?r=t(i):i instanceof t&&(r=i),r?r.map(function(){return-1!==(s=t.inArray(this,a))?o[s]:null}).toArray():void 0):[])&&(n=n.concat(e))};if(t.isArray(e))for(var r=0,o=e.length;r<o;r++)s(e[r]);else s(e);this.context=le(n),i&&t.merge(this,i),this.selector={rows:null,cols:null,opts:null},Wt.extend(this,this,be)},Qt.Api=Wt,t.extend(Wt.prototype,{any:function(){return 0!==this.count()},concat:ye.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,i=this.length;e<i;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new Wt(e[t],this[t]):null},filter:function(t){var e=[];if(ye.filter)e=ye.filter.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)t.call(this,this[i],i,this)&&e.push(this[i]);return new Wt(this.context,e)},flatten:function(){var t=[];return new Wt(this.context,t.concat.apply(t,this.toArray()))},join:ye.join,indexOf:ye.indexOf||function(t,e){for(var i=e||0,n=this.length;i<n;i++)if(this[i]===t)return i;return-1},iterator:function(t,e,i,s){var r,o,a,l,d,h,u,c=[],p=this.context,f=this.selector;for("string"==typeof t&&(s=i,i=e,e=t,t=!1),o=0,a=p.length;o<a;o++){var m=new Wt(p[o]);if("table"===e)(r=i.call(m,p[o],o))!==n&&c.push(r);else if("columns"===e||"rows"===e)(r=i.call(m,p[o],this[o],o))!==n&&c.push(r);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(u=this[o],"column-rows"===e&&(h=Ce(p[o],f.opts)),l=0,d=u.length;l<d;l++)r=u[l],(r="cell"===e?i.call(m,p[o],r.row,r.column,o,l):i.call(m,p[o],r,o,l,h))!==n&&c.push(r)}return c.length||s?((e=(t=new Wt(p,t?c.concat.apply([],c):c)).selector).rows=f.rows,e.cols=f.cols,e.opts=f.opts,t):this},lastIndexOf:ye.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(ye.map)e=ye.map.call(this,t,this);else for(var i=0,n=this.length;i<n;i++)e.push(t.call(this,this[i],i));return new Wt(this.context,e)},pluck:function(t){return this.map(function(e){return e[t]})},pop:ye.pop,push:ye.push,reduce:ye.reduce||function(t,e){return h(this,t,e,0,this.length,1)},reduceRight:ye.reduceRight||function(t,e){return h(this,t,e,this.length-1,-1,-1)},reverse:ye.reverse,selector:null,shift:ye.shift,slice:function(){return new Wt(this.context,this)},sort:ye.sort,splice:ye.splice,toArray:function(){return ye.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new Wt(this.context,le(this))},unshift:ye.unshift}),Wt.extend=function(e,i,n){if(n.length&&i&&(i instanceof Wt||i.__dt_wrapper)){var s,r,o,a=function(t,e,i){return function(){var n=e.apply(t,arguments);return Wt.extend(n,n,i.methodExt),n}};for(s=0,r=n.length;s<r;s++)i[(o=n[s]).name]="function"==typeof o.val?a(e,o.val,o):t.isPlainObject(o.val)?{}:o.val,i[o.name].__dt_wrapper=!0,Wt.extend(e,i[o.name],o.propExt)}},Wt.register=qt=function(e,i){if(t.isArray(e))for(var n=0,s=e.length;n<s;n++)Wt.register(e[n],i);else{var r,o,a=e.split("."),l=be;for(n=0,s=a.length;n<s;n++){var d;r=(o=-1!==a[n].indexOf("()"))?a[n].replace("()",""):a[n];t:{d=0;for(var h=l.length;d<h;d++)if(l[d].name===r){d=l[d];break t}d=null}d||(d={name:r,val:{},methodExt:[],propExt:[]},l.push(d)),n===s-1?d.val=i:l=o?d.methodExt:d.propExt}}},Wt.registerPlural=Ut=function(e,i,s){Wt.register(e,s),Wt.register(i,function(){var e=s.apply(this,arguments);return e===this?this:e instanceof Wt?e.length?t.isArray(e[0])?new Wt(e.context,e[0]):e[0]:n:e})},qt("tables()",function(e){var i;if(e){i=Wt;var n=this.context;if("number"==typeof e)e=[n[e]];else{var s=t.map(n,function(t){return t.nTable});e=t(s).filter(e).map(function(){var e=t.inArray(this,s);return n[e]}).toArray()}i=new i(e)}else i=this;return i}),qt("table()",function(t){var e=(t=this.tables(t)).context;return e.length?new Wt(e[0]):t}),Ut("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),Ut("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),Ut("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),Ut("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),Ut("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),qt("draw()",function(t){return this.iterator("table",function(e){"page"===t?B(e):("string"==typeof t&&(t="full-hold"!==t),P(e,!1===t))})}),qt("page()",function(t){return t===n?this.page.info().page:this.iterator("table",function(e){dt(e,t)})}),qt("page.info()",function(){if(0===this.context.length)return n;var t=this.context[0],e=t._iDisplayStart,i=t.oFeatures.bPaginate?t._iDisplayLength:-1,s=t.fnRecordsDisplay(),r=-1===i;return{page:r?0:Math.floor(e/i),pages:r?1:Math.ceil(s/i),start:e,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:s,serverSide:"ssp"===jt(t)}}),qt("page.len()",function(t){return t===n?0!==this.context.length?this.context[0]._iDisplayLength:n:this.iterator("table",function(e){ot(e,t)})});var ve=function(t,e,i){if(i){var n=new Wt(t);n.one("draw",function(){i(n.ajax.json())})}if("ssp"==jt(t))P(t,e);else{ut(t,!0);var s=t.jqXHR;s&&4!==s.readyState&&s.abort(),z(t,[],function(i){D(t);for(var n=0,s=(i=U(t,i)).length;n<s;n++)_(t,i[n]);P(t,e),ut(t,!1)})}};qt("ajax.json()",function(){var t=this.context;if(0<t.length)return t[0].json}),qt("ajax.params()",function(){var t=this.context;if(0<t.length)return t[0].oAjaxData}),qt("ajax.reload()",function(t,e){return this.iterator("table",function(i){ve(i,!1===e,t)})}),qt("ajax.url()",function(e){var i=this.context;return e===n?0===i.length?n:(i=i[0]).ajax?t.isPlainObject(i.ajax)?i.ajax.url:i.ajax:i.sAjaxSource:this.iterator("table",function(i){t.isPlainObject(i.ajax)?i.ajax.url=e:i.ajax=e})}),qt("ajax.url().load()",function(t,e){return this.iterator("table",function(i){ve(i,!1===e,t)})});var _e=function(e,i,s,r,o){var a,l,d,h,u,c,p=[];for(d=typeof i,i&&"string"!==d&&"function"!==d&&i.length!==n||(i=[i]),d=0,h=i.length;d<h;d++)for(u=0,c=(l=i[d]&&i[d].split&&!i[d].match(/[\[\(:]/)?i[d].split(","):[i[d]]).length;u<c;u++)(a=s("string"==typeof l[u]?t.trim(l[u]):l[u]))&&a.length&&(p=p.concat(a));if((e=Vt.selector[e]).length)for(d=0,h=e.length;d<h;d++)p=e[d](r,o,p);return le(p)},we=function(e){return e||(e={}),e.filter&&e.search===n&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},xe=function(t){for(var e=0,i=t.length;e<i;e++)if(0<t[e].length)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Ce=function(e,i){var n,s,r,o=[],a=e.aiDisplay;n=e.aiDisplayMaster;var l=i.search;if(s=i.order,r=i.page,"ssp"==jt(e))return"removed"===l?[]:oe(0,n.length);if("current"==r)for(n=e._iDisplayStart,s=e.fnDisplayEnd();n<s;n++)o.push(a[n]);else if("current"==s||"applied"==s)o="none"==l?n.slice():"applied"==l?a.slice():t.map(n,function(e){return-1===t.inArray(e,a)?e:null});else if("index"==s||"original"==s)for(n=0,s=e.aoData.length;n<s;n++)"none"==l?o.push(n):(-1===(r=t.inArray(n,a))&&"removed"==l||0<=r&&"applied"==l)&&o.push(n);return o};qt("rows()",function(e,i){e===n?e="":t.isPlainObject(e)&&(i=e,e="");i=we(i);var s=this.iterator("table",function(s){var r,o=i;return _e("row",e,function(e){var i=te(e);if(null!==i&&!o)return[i];if(r||(r=Ce(s,o)),null!==i&&-1!==t.inArray(i,r))return[i];if(null===e||e===n||""===e)return r;if("function"==typeof e)return t.map(r,function(t){var i=s.aoData[t];return e(t,i._aData,i.nTr)?t:null});if(i=ae(re(s.aoData,r,"nTr")),e.nodeName)return e._DT_RowIndex!==n?[e._DT_RowIndex]:e._DT_CellIndex?[e._DT_CellIndex.row]:(i=t(e).closest("*[data-dt-row]")).length?[i.data("dt-row")]:[];if("string"==typeof e&&"#"===e.charAt(0)){var a=s.aIds[e.replace(/^#/,"")];if(a!==n)return[a.idx]}return t(i).filter(e).map(function(){return this._DT_RowIndex}).toArray()},s,o)},1);return s.selector.rows=e,s.selector.opts=i,s}),qt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||n},1)}),qt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return re(t.aoData,e,"_aData")},1)}),Ut("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,i){var n=e.aoData[i];return"search"===t?n._aFilterData:n._aSortData},1)}),Ut("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,i){E(e,i,t)})}),Ut("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),Ut("rows().ids()","row().id()",function(t){for(var e=[],i=this.context,n=0,s=i.length;n<s;n++)for(var r=0,o=this[n].length;r<o;r++){var a=i[n].rowIdFn(i[n].aoData[this[n][r]]._aData);e.push((!0===t?"#":"")+a)}return new Wt(i,e)}),Ut("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,i,s){var r,o,a,l,d,h=e.aoData,u=h[i];for(h.splice(i,1),r=0,o=h.length;r<o;r++)if(d=(a=h[r]).anCells,null!==a.nTr&&(a.nTr._DT_RowIndex=r),null!==d)for(a=0,l=d.length;a<l;a++)d[a]._DT_CellIndex.row=r;A(e.aiDisplayMaster,i),A(e.aiDisplay,i),A(t[s],i,!1),0<e._iRecordsDisplay&&e._iRecordsDisplay--,Bt(e),(i=e.rowIdFn(u._aData))!==n&&delete e.aIds[i]}),this.iterator("table",function(t){for(var e=0,i=t.aoData.length;e<i;e++)t.aoData[e].idx=e}),this}),qt("rows.add()",function(e){var i=this.iterator("table",function(t){var i,n,s,r=[];for(n=0,s=e.length;n<s;n++)(i=e[n]).nodeName&&"TR"===i.nodeName.toUpperCase()?r.push(w(t,i)[0]):r.push(_(t,i));return r},1),n=this.rows(-1);return n.pop(),t.merge(n,i),n}),qt("row()",function(t,e){return xe(this.rows(t,e))}),qt("row().data()",function(t){var e=this.context;return t===n?e.length&&this.length?e[0].aoData[this[0]]._aData:n:(e[0].aoData[this[0]]._aData=t,E(e[0],this[0],"data"),this)}),qt("row().node()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]].nTr||null}),qt("row.add()",function(e){e instanceof t&&e.length&&(e=e[0]);var i=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?w(t,e)[0]:_(t,e)});return this.row(i[0])});var Te=function(t,e){var i=t.context;i.length&&(i=i[0].aoData[e!==n?e:t[0]])&&i._details&&(i._details.remove(),i._detailsShow=n,i._details=n)},Se=function(t,e){var i=t.context;if(i.length&&t.length){var n=i[0].aoData[t[0]];if(n._details){(n._detailsShow=e)?n._details.insertAfter(n.nTr):n._details.detach();var s=i[0],r=new Wt(s),o=s.aoData;r.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<se(o,"_details").length&&(r.on("draw.dt.DT_details",function(t,e){s===e&&r.rows({page:"current"}).eq(0).each(function(t){(t=o[t])._detailsShow&&t._details.insertAfter(t.nTr)})}),r.on("column-visibility.dt.DT_details",function(t,e){if(s===e)for(var i,n=g(e),r=0,a=o.length;r<a;r++)(i=o[r])._details&&i._details.children("td[colspan]").attr("colspan",n)}),r.on("destroy.dt.DT_details",function(t,e){if(s===e)for(var i=0,n=o.length;i<n;i++)o[i]._details&&Te(r,i)}))}}};qt("row().child()",function(e,i){var s=this.context;if(e===n)return s.length&&this.length?s[0].aoData[this[0]]._details:n;if(!0===e)this.child.show();else if(!1===e)Te(this);else if(s.length&&this.length){var r=s[0],o=(s=s[0].aoData[this[0]],[]),a=function(e,i){if(t.isArray(e)||e instanceof t)for(var n=0,s=e.length;n<s;n++)a(e[n],i);else e.nodeName&&"tr"===e.nodeName.toLowerCase()?o.push(e):(n=t("<tr><td/></tr>").addClass(i),t("td",n).addClass(i).html(e)[0].colSpan=g(r),o.push(n[0]))};a(e,i),s._details&&s._details.detach(),s._details=t(o),s._detailsShow&&s._details.insertAfter(s.nTr)}return this}),qt(["row().child.show()","row().child().show()"],function(){return Se(this,!0),this}),qt(["row().child.hide()","row().child().hide()"],function(){return Se(this,!1),this}),qt(["row().child.remove()","row().child().remove()"],function(){return Te(this),this}),qt("row().child.isShown()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]._detailsShow||!1});var ke=/^([^:]+):(name|visIdx|visible)$/,Ie=function(t,e,i,n,s){i=[],n=0;for(var r=s.length;n<r;n++)i.push(x(t,s[n],e));return i};qt("columns()",function(e,i){e===n?e="":t.isPlainObject(e)&&(i=e,e="");i=we(i);var s=this.iterator("table",function(n){var s=e,r=i,o=n.aoColumns,a=se(o,"sName"),l=se(o,"nTh");return _e("column",s,function(e){var i=te(e);if(""===e)return oe(o.length);if(null!==i)return[i>=0?i:o.length+i];if("function"==typeof e){var s=Ce(n,r);return t.map(o,function(t,i){return e(i,Ie(n,i,0,0,s),l[i])?i:null})}var d="string"==typeof e?e.match(ke):"";if(d)switch(d[2]){case"visIdx":case"visible":if((i=parseInt(d[1],10))<0){var h=t.map(o,function(t,e){return t.bVisible?e:null});return[h[h.length+i]]}return[f(n,i)];case"name":return t.map(a,function(t,e){return t===d[1]?e:null});default:return[]}return e.nodeName&&e._DT_CellIndex?[e._DT_CellIndex.column]:(i=t(l).filter(e).map(function(){return t.inArray(this,l)}).toArray()).length||!e.nodeName?i:(i=t(e).closest("*[data-dt-column]")).length?[i.data("dt-column")]:[]},n,r)},1);return s.selector.cols=e,s.selector.opts=i,s}),Ut("columns().header()","column().header()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),Ut("columns().footer()","column().footer()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),Ut("columns().data()","column().data()",function(){return this.iterator("column-rows",Ie,1)}),Ut("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),Ut("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,i,n,s,r){return re(e.aoData,r,"search"===t?"_aFilterData":"_aSortData",i)},1)}),Ut("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,i,n,s){return re(t.aoData,s,"anCells",e)},1)}),Ut("columns().visible()","column().visible()",function(e,i){var s=this.iterator("column",function(i,s){if(e===n)return i.aoColumns[s].bVisible;var r,o,a,l=i.aoColumns,d=l[s],h=i.aoData;if(e!==n&&d.bVisible!==e){if(e){var u=t.inArray(!0,se(l,"bVisible"),s+1);for(r=0,o=h.length;r<o;r++)a=h[r].nTr,l=h[r].anCells,a&&a.insertBefore(l[s],l[u]||null)}else t(se(i.aoData,"anCells",s)).detach();d.bVisible=e,R(i,i.aoHeader),R(i,i.aoFooter),It(i)}});return e!==n&&(this.iterator("column",function(t,n){Rt(t,null,"column-visibility",[t,n,e,i])}),(i===n||i)&&this.columns.adjust()),s}),Ut("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,i){return"visible"===t?m(e,i):i},1)}),qt("columns.adjust()",function(){return this.iterator("table",function(t){p(t)},1)}),qt("column.index()",function(t,e){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===t||"toData"===t)return f(i,e);if("fromData"===t||"toVisible"===t)return m(i,e)}}),qt("column()",function(t,e){return xe(this.columns(t,e))}),qt("cells()",function(e,i,s){if(t.isPlainObject(e)&&(e.row===n?(s=e,e=null):(s=i,i=null)),t.isPlainObject(i)&&(s=i,i=null),null===i||i===n)return this.iterator("table",function(i){var r,o,a,l,d,h,u,c=e,p=we(s),f=i.aoData,m=Ce(i,p),g=ae(re(f,m,"anCells")),b=t([].concat.apply([],g)),y=i.aoColumns.length;return _e("cell",c,function(e){var s="function"==typeof e;if(null===e||e===n||s){for(o=[],a=0,l=m.length;a<l;a++)for(r=m[a],d=0;d<y;d++)h={row:r,column:d},s?(u=f[r],e(h,x(i,r,d),u.anCells?u.anCells[d]:null)&&o.push(h)):o.push(h);return o}return t.isPlainObject(e)?[e]:(s=b.filter(e).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray()).length||!e.nodeName?s:(u=t(e).closest("*[data-dt-row]")).length?[{row:u.data("dt-row"),column:u.data("dt-column")}]:[]},i,p)});var r,o,a,l,d,h=this.columns(i,s),u=this.rows(e,s),c=this.iterator("table",function(t,e){for(r=[],o=0,a=u[e].length;o<a;o++)for(l=0,d=h[e].length;l<d;l++)r.push({row:u[e][o],column:h[e][l]});return r},1);return t.extend(c.selector,{cols:i,rows:e,opts:s}),c}),Ut("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,i){return(t=t.aoData[e])&&t.anCells?t.anCells[i]:n},1)}),qt("cells().data()",function(){return this.iterator("cell",function(t,e,i){return x(t,e,i)},1)}),Ut("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",function(e,i,n){return e.aoData[i][t][n]},1)}),Ut("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,i,n){return x(e,i,n,t)},1)}),Ut("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,i){return{row:e,column:i,columnVisible:m(t,i)}},1)}),Ut("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,i,n){E(e,i,t,n)})}),qt("cell()",function(t,e,i){return xe(this.cells(t,e,i))}),qt("cell().data()",function(t){var e=this.context,i=this[0];return t===n?e.length&&i.length?x(e[0],i[0].row,i[0].column):n:(C(e[0],i[0].row,i[0].column,t),E(e[0],i[0].row,"data",i[0].column),this)}),qt("order()",function(e,i){var s=this.context;return e===n?0!==s.length?s[0].aaSorting:n:("number"==typeof e?e=[[e,i]]:e.length&&!t.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),qt("order.listener()",function(t,e,i){return this.iterator("table",function(n){Tt(n,t,e,i)})}),qt("order.fixed()",function(e){if(!e){var i=(i=this.context).length?i[0].aaSortingFixed:n;return t.isArray(i)?{pre:i}:i}return this.iterator("table",function(i){i.aaSortingFixed=t.extend(!0,{},e)})}),qt(["columns().order()","column().order()"],function(e){var i=this;return this.iterator("table",function(n,s){var r=[];t.each(i[s],function(t,i){r.push([i,e])}),n.aaSorting=r})}),qt("search()",function(e,i,s,r){var o=this.context;return e===n?0!==o.length?o[0].oPreviousSearch.sSearch:n:this.iterator("table",function(n){n.oFeatures.bFilter&&J(n,t.extend({},n.oPreviousSearch,{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===s||s,bCaseInsensitive:null===r||r}),1)})}),Ut("columns().search()","column().search()",function(e,i,s,r){return this.iterator("column",function(o,a){var l=o.aoPreSearchCols;if(e===n)return l[a].sSearch;o.oFeatures.bFilter&&(t.extend(l[a],{sSearch:e+"",bRegex:null!==i&&i,bSmart:null===s||s,bCaseInsensitive:null===r||r}),J(o,o.oPreviousSearch,1))})}),qt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),qt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),qt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),qt("state.save()",function(){return this.iterator("table",function(t){It(t)})}),Qt.versionCheck=Qt.fnVersionCheck=function(t){for(var e,i,n=Qt.version.split("."),s=0,r=(t=t.split(".")).length;s<r;s++)if((e=parseInt(n[s],10)||0)!==(i=parseInt(t[s],10)||0))return e>i;return!0},Qt.isDataTable=Qt.fnIsDataTable=function(e){var i=t(e).get(0),n=!1;return e instanceof Qt.Api||(t.each(Qt.settings,function(e,s){var r=s.nScrollHead?t("table",s.nScrollHead)[0]:null,o=s.nScrollFoot?t("table",s.nScrollFoot)[0]:null;s.nTable!==i&&r!==i&&o!==i||(n=!0)}),n)},Qt.tables=Qt.fnTables=function(e){var i=!1;t.isPlainObject(e)&&(i=e.api,e=e.visible);var n=t.map(Qt.settings,function(i){if(!e||e&&t(i.nTable).is(":visible"))return i.nTable});return i?new Wt(n):n},Qt.camelToHungarian=r,qt("$()",function(e,i){var n=this.rows(i).nodes();n=t(n);return t([].concat(n.filter(e).toArray(),n.find(e).toArray()))}),t.each(["on","one","off"],function(e,i){qt(i+"()",function(){var e=Array.prototype.slice.call(arguments);e[0]=t.map(e[0].split(/\s/),function(t){return t.match(/\.dt\b/)?t:t+".dt"}).join(" ");var n=t(this.tables().nodes());return n[i].apply(n,e),this})}),qt("clear()",function(){return this.iterator("table",function(t){D(t)})}),qt("settings()",function(){return new Wt(this.context,this.context)}),qt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),qt("data()",function(){return this.iterator("table",function(t){return se(t.aoData,"_aData")}).flatten()}),qt("destroy()",function(i){return i=i||!1,this.iterator("table",function(n){var s,r=n.nTableWrapper.parentNode,o=n.oClasses,a=n.nTable,l=n.nTBody,d=n.nTHead,h=n.nTFoot,u=t(a),c=(l=t(l),t(n.nTableWrapper)),p=t.map(n.aoData,function(t){return t.nTr});n.bDestroying=!0,Rt(n,"aoDestroyCallback","destroy",[n]),i||new Wt(n).columns().visible(!0),c.off(".DT").find(":not(tbody *)").off(".DT"),t(e).off(".DT-"+n.sInstance),a!=d.parentNode&&(u.children("thead").detach(),u.append(d)),h&&a!=h.parentNode&&(u.children("tfoot").detach(),u.append(h)),n.aaSorting=[],n.aaSortingFixed=[],St(n),t(p).removeClass(n.asStripeClasses.join(" ")),t("th, td",d).removeClass(o.sSortable+" "+o.sSortableAsc+" "+o.sSortableDesc+" "+o.sSortableNone),l.children().detach(),l.append(p),u[d=i?"remove":"detach"](),c[d](),!i&&r&&(r.insertBefore(a,n.nTableReinsertBefore),u.css("width",n.sDestroyWidth).removeClass(o.sTable),(s=n.asDestroyStripes.length)&&l.children().each(function(e){t(this).addClass(n.asDestroyStripes[e%s])})),-1!==(r=t.inArray(n,Qt.settings))&&Qt.settings.splice(r,1)})}),t.each(["column","row","cell"],function(t,e){qt(e+"s().every()",function(t){var i=this.selector.opts,s=this;return this.iterator(e,function(r,o,a,l,d){t.call(s[e](o,"cell"===e?a:i,"cell"===e?i:n),o,a,l,d)})})}),qt("i18n()",function(e,i,s){var r=this.context[0];return(e=S(e)(r.oLanguage))===n&&(e=i),s!==n&&t.isPlainObject(e)&&(e=e[s]!==n?e[s]:e._),e.replace("%d",s)}),Qt.version="1.10.16",Qt.settings=[],Qt.models={},Qt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Qt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Qt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Qt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},Qt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},s(Qt.defaults),Qt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},s(Qt.defaults.column),Qt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:n,oAjaxData:n,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==jt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==jt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,i=e+t,n=this.aiDisplay.length,s=this.oFeatures,r=s.bPaginate;return s.bServerSide?!1===r||-1===t?e+n:Math.min(e+t,this._iRecordsDisplay):!r||i>n||-1===t?n:i},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Qt.ext=Vt={buttons:{},classes:{},build:"bs/jszip-2.5.0/dt-1.10.16/b-1.5.1/b-colvis-1.5.1/b-html5-1.5.1/b-print-1.5.1/cr-1.4.1/fc-3.2.4/fh-3.1.3/r-2.2.1/rg-1.0.2/rr-1.2.3/sc-1.4.4",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Qt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Qt.version},t.extend(Vt,{afnFiltering:Vt.search,aTypes:Vt.type.detect,ofnSearch:Vt.type.search,oSort:Vt.type.order,afnSortData:Vt.order,aoFeatures:Vt.feature,oApi:Vt.internal,oStdClasses:Vt.classes,oPagination:Vt.pager}),t.extend(Qt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var De=Qt.ext.pager;t.extend(De,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(t,e){return[Ht(t,e)]},simple_numbers:function(t,e){return["previous",Ht(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Ht(t,e),"next","last"]},first_last_numbers:function(t,e){return["first",Ht(t,e),"last"]},_numbers:Ht,numbers_length:7}),t.extend(!0,Qt.ext.renderer,{pageButton:{_:function(e,s,r,o,a,l){var d,h,u,c=e.oClasses,p=e.oLanguage.oPaginate,f=e.oLanguage.oAria.paginate||{},m=0,g=function(i,n){var s,o,u,b,y=function(t){dt(e,t.data.action,!0)};for(s=0,o=n.length;s<o;s++)if(b=n[s],t.isArray(b))u=t("<"+(b.DT_el||"div")+"/>").appendTo(i),g(u,b);else{switch(d=null,h="",b){case"ellipsis":i.append('<span class="ellipsis">&#x2026;</span>');break;case"first":d=p.sFirst,h=b+(a>0?"":" "+c.sPageButtonDisabled);break;case"previous":d=p.sPrevious,h=b+(a>0?"":" "+c.sPageButtonDisabled);break;case"next":d=p.sNext,h=b+(a<l-1?"":" "+c.sPageButtonDisabled);break;case"last":d=p.sLast,h=b+(a<l-1?"":" "+c.sPageButtonDisabled);break;default:d=b+1,h=a===b?c.sPageButtonActive:""}null!==d&&(Lt(u=t("<a>",{class:c.sPageButton+" "+h,"aria-controls":e.sTableId,"aria-label":f[b],"data-dt-idx":m,tabindex:e.iTabIndex,id:0===r&&"string"==typeof b?e.sTableId+"_"+b:null}).html(d).appendTo(i),{action:b},y),m++)}};try{u=t(s).find(i.activeElement).data("dt-idx")}catch(t){}g(t(s).empty(),o),u!==n&&t(s).find("[data-dt-idx="+u+"]").focus()}}}),t.extend(Qt.ext.type.detect,[function(t,e){var i=e.oLanguage.sDecimal;return ie(t,i)?"num"+i:null},function(t){if(t&&!(t instanceof Date)&&!$t.test(t))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||Kt(t)?"date":null},function(t,e){var i=e.oLanguage.sDecimal;return ie(t,i,!0)?"num-fmt"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return ne(t,i)?"html-num"+i:null},function(t,e){var i=e.oLanguage.sDecimal;return ne(t,i,!0)?"html-num-fmt"+i:null},function(t){return Kt(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),t.extend(Qt.ext.type.search,{html:function(t){return Kt(t)?t:"string"==typeof t?t.replace(Xt," ").replace(Gt,""):""},string:function(t){return Kt(t)?t:"string"==typeof t?t.replace(Xt," "):t}});var Ae=function(t,e,i,n){return 0===t||t&&"-"!==t?(e&&(t=ee(t,e)),t.replace&&(i&&(t=t.replace(i,"")),n&&(t=t.replace(n,""))),1*t):-1/0};t.extend(Vt.type.order,{"date-pre":function(t){return Date.parse(t)||-1/0},"html-pre":function(t){return Kt(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return Kt(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),Mt(""),t.extend(!0,Qt.ext.renderer,{header:{_:function(e,i,n,s){t(e.nTable).on("order.dt.DT",function(t,r,o,a){e===r&&(t=n.idx,i.removeClass(n.sSortingClass+" "+s.sSortAsc+" "+s.sSortDesc).addClass("asc"==a[t]?s.sSortAsc:"desc"==a[t]?s.sSortDesc:n.sSortingClass))})},jqueryui:function(e,i,n,s){t("<div/>").addClass(s.sSortJUIWrapper).append(i.contents()).append(t("<span/>").addClass(s.sSortIcon+" "+n.sSortingClassJUI)).appendTo(i),t(e.nTable).on("order.dt.DT",function(t,r,o,a){e===r&&(t=n.idx,i.removeClass(s.sSortAsc+" "+s.sSortDesc).addClass("asc"==a[t]?s.sSortAsc:"desc"==a[t]?s.sSortDesc:n.sSortingClass),i.find("span."+s.sSortIcon).removeClass(s.sSortJUIAsc+" "+s.sSortJUIDesc+" "+s.sSortJUI+" "+s.sSortJUIAscAllowed+" "+s.sSortJUIDescAllowed).addClass("asc"==a[t]?s.sSortJUIAsc:"desc"==a[t]?s.sSortJUIDesc:n.sSortingClassJUI))})}}});var Ee=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};return Qt.render={number:function(t,e,i,n,s){return{display:function(r){if("number"!=typeof r&&"string"!=typeof r)return r;var o=0>r?"-":"",a=parseFloat(r);return isNaN(a)?Ee(r):(a=a.toFixed(i),r=Math.abs(a),a=parseInt(r,10),r=i?e+(r-a).toFixed(i).substring(2):"",o+(n||"")+a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+r+(s||""))}}},text:function(){return{display:Ee}}},t.extend(Qt.ext.internal,{_fnExternApiFunc:zt,_fnBuildAjax:z,_fnAjaxUpdate:V,_fnAjaxParameters:W,_fnAjaxUpdateDraw:q,_fnAjaxDataSrc:U,_fnAddColumn:u,_fnColumnOptions:c,_fnAdjustColumnSizing:p,_fnVisibleToColumnIndex:f,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:b,_fnColumnTypes:y,_fnApplyColumnDefs:v,_fnHungarianMap:s,_fnCamelToHungarian:r,_fnLanguageCompat:o,_fnBrowserDetect:d,_fnAddData:_,_fnAddTr:w,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==n?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(e,i,n){return t.inArray(n,e.aoData[i].anCells)},_fnGetCellData:x,_fnSetCellData:C,_fnSplitObjNotation:T,_fnGetObjectDataFn:S,_fnSetObjectDataFn:k,_fnGetDataMaster:I,_fnClearTable:D,_fnDeleteIndex:A,_fnInvalidate:E,_fnGetRowElements:F,_fnCreateTr:N,_fnBuildHead:O,_fnDrawHead:R,_fnDraw:B,_fnReDraw:P,_fnAddOptionsHtml:j,_fnDetectHeader:H,_fnGetUniqueThs:M,_fnFeatureHtmlFilter:Q,_fnFilterComplete:J,_fnFilterCustom:X,_fnFilterColumn:G,_fnFilter:$,_fnFilterCreateSearch:Z,_fnEscapeRegex:ce,_fnFilterData:Y,_fnFeatureHtmlInfo:et,_fnUpdateInfo:it,_fnInfoMacros:nt,_fnInitialise:st,_fnInitComplete:rt,_fnLengthChange:ot,_fnFeatureHtmlLength:at,_fnFeatureHtmlPaginate:lt,_fnPageChange:dt,_fnFeatureHtmlProcessing:ht,_fnProcessingDisplay:ut,_fnFeatureHtmlTable:ct,_fnScrollDraw:pt,_fnApplyToChildren:ft,_fnCalculateColumnWidths:mt,_fnThrottle:ge,_fnConvertToWidth:gt,_fnGetWidestNode:bt,_fnGetMaxLenString:yt,_fnStringToCss:vt,_fnSortFlatten:_t,_fnSort:wt,_fnSortAria:xt,_fnSortListener:Ct,_fnSortAttachListener:Tt,_fnSortingClasses:St,_fnSortData:kt,_fnSaveState:It,_fnLoadState:Dt,_fnSettingsFromNode:At,_fnLog:Et,_fnMap:Ft,_fnBindAction:Lt,_fnCallbackReg:Ot,_fnCallbackFire:Rt,_fnLengthOverflow:Bt,_fnRenderer:Pt,_fnDataSource:jt,_fnRowAttributes:L,_fnCalculateEnd:function(){}}),t.fn.dataTable=Qt,Qt.$=t,t.fn.dataTableSettings=Qt.settings,t.fn.dataTableExt=Qt.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each(Qt,function(e,i){t.fn.DataTable[e]=i}),t.fn.dataTable}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){var s=t.fn.dataTable;return t.extend(!0,s.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),t.extend(s.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sProcessing:"dataTables_processing panel panel-default"}),s.ext.renderer.pageButton.bootstrap=function(e,r,o,a,l,d){var h,u,c,p=new s.Api(e),f=e.oClasses,m=e.oLanguage.oPaginate,g=e.oLanguage.oAria.paginate||{},b=0,y=function(i,n){var s,r,a,c,v=function(e){e.preventDefault(),!t(e.currentTarget).hasClass("disabled")&&p.page()!=e.data.action&&p.page(e.data.action).draw("page")};for(s=0,r=n.length;s<r;s++)if(c=n[s],t.isArray(c))y(i,c);else{switch(u=h="",c){case"ellipsis":h="&#x2026;",u="disabled";break;case"first":h=m.sFirst,u=c+(0<l?"":" disabled");break;case"previous":h=m.sPrevious,u=c+(0<l?"":" disabled");break;case"next":h=m.sNext,u=c+(l<d-1?"":" disabled");break;case"last":h=m.sLast,u=c+(l<d-1?"":" disabled");break;default:h=c+1,u=l===c?"active":""}h&&(a=t("<li>",{class:f.sPageButton+" "+u,id:0===o&&"string"==typeof c?e.sTableId+"_"+c:null}).append(t("<a>",{href:"#","aria-controls":e.sTableId,"aria-label":g[c],"data-dt-idx":b,tabindex:e.iTabIndex}).html(h)).appendTo(i),e.oApi._fnBindAction(a,{action:c},v),b++)}};try{c=t(r).find(i.activeElement).data("dt-idx")}catch(t){}y(t(r).empty().html('<ul class="pagination"/>').children("ul"),a),c!==n&&t(r).find("[data-dt-idx="+c+"]").focus()},s}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){var s,r=t.fn.dataTable,o=0,a=0,l=r.ext.buttons,d=function(e,i){void 0===i&&(i={}),!0===i&&(i={}),t.isArray(i)&&(i={buttons:i}),this.c=t.extend(!0,{},d.defaults,i),i.buttons&&(this.c.buttons=i.buttons),this.s={dt:new r.Api(e),buttons:[],listenKeys:"",namespace:"dtb"+o++},this.dom={container:t("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)},this._constructor()};t.extend(d.prototype,{action:function(t,e){var i=this._nodeToButton(t);return e===n?i.conf.action:(i.conf.action=e,this)},active:function(e,i){var s=this._nodeToButton(e),r=this.c.dom.button.active;s=t(s.node);return i===n?s.hasClass(r):(s.toggleClass(r,i===n||i),this)},add:function(t,e){var i=this.s.buttons;if("string"==typeof e){for(var n=e.split("-"),s=(i=this.s,0),r=n.length-1;s<r;s++)i=i.buttons[1*n[s]];i=i.buttons,e=1*n[n.length-1]}return this._expandButton(i,t,!1,e),this._draw(),this},container:function(){return this.dom.container},disable:function(e){return e=this._nodeToButton(e),t(e.node).addClass(this.c.dom.button.disabled),this},destroy:function(){t("body").off("keyup."+this.s.namespace);var e,i,n=this.s.buttons.slice();for(e=0,i=n.length;e<i;e++)this.remove(n[e].node);for(this.dom.container.remove(),e=0,i=(n=this.s.dt.settings()[0]).length;e<i;e++)if(n.inst===this){n.splice(e,1);break}return this},enable:function(e,i){if(!1===i)return this.disable(e);var n=this._nodeToButton(e);return t(n.node).removeClass(this.c.dom.button.disabled),this},name:function(){return this.c.name},node:function(e){return e=this._nodeToButton(e),t(e.node)},processing:function(e,i){var s=this._nodeToButton(e);return i===n?t(s.node).hasClass("processing"):(t(s.node).toggleClass("processing",i),this)},remove:function(e){var i=this._nodeToButton(e),n=this._nodeToHost(e),s=this.s.dt;if(i.buttons.length)for(var r=i.buttons.length-1;0<=r;r--)this.remove(i.buttons[r].node);return i.conf.destroy&&i.conf.destroy.call(s.button(e),s,t(e),i.conf),this._removeKey(i.conf),t(i.node).remove(),e=t.inArray(i,n),n.splice(e,1),this},text:function(e,i){var s=this._nodeToButton(e),r=this.c.dom.collection.buttonLiner,o=(r=s.inCollection&&r&&r.tag?r.tag:this.c.dom.buttonLiner.tag,this.s.dt),a=t(s.node),l=function(t){return"function"==typeof t?t(o,a,s.conf):t};return i===n?l(s.conf.text):(s.conf.text=i,r?a.children(r).html(l(i)):a.html(l(i)),this)},_constructor:function(){var e=this,n=this.s.dt,s=n.settings()[0],r=this.c.buttons;s._buttons||(s._buttons=[]),s._buttons.push({inst:this,name:this.c.name});s=0;for(var o=r.length;s<o;s++)this.add(r[s]);n.on("destroy",function(){e.destroy()}),t("body").on("keyup."+this.s.namespace,function(t){if(!i.activeElement||i.activeElement===i.body){var n=String.fromCharCode(t.keyCode).toLowerCase();-1!==e.s.listenKeys.toLowerCase().indexOf(n)&&e._keypress(n,t)}})},_addKey:function(e){e.key&&(this.s.listenKeys+=t.isPlainObject(e.key)?e.key.key:e.key)},_draw:function(t,e){t||(t=this.dom.container,e=this.s.buttons),t.children().detach();for(var i=0,n=e.length;i<n;i++)t.append(e[i].inserter),t.append(" "),e[i].buttons&&e[i].buttons.length&&this._draw(e[i].collection,e[i].buttons)},_expandButton:function(e,i,s,r){for(var o=this.s.dt,a=0,l=(i=t.isArray(i)?i:[i]).length;a<l;a++){var d=this._resolveExtends(i[a]);if(d)if(t.isArray(d))this._expandButton(e,d,s,r);else{var h=this._buildButton(d,s);if(h){if(r!==n?(e.splice(r,0,h),r++):e.push(h),h.conf.buttons){var u=this.c.dom.collection;h.collection=t("<"+u.tag+"/>").addClass(u.className).attr("role","menu"),h.conf._collection=h.collection,this._expandButton(h.buttons,h.conf.buttons,!0,r)}d.init&&d.init.call(o.button(h.node),o,t(h.node),d),0}}}},_buildButton:function(e,i){var n=this.c.dom.button,s=this.c.dom.buttonLiner,r=this.c.dom.collection,o=this.s.dt,l=function(t){return"function"==typeof t?t(o,h,e):t};if(i&&r.button&&(n=r.button),i&&r.buttonLiner&&(s=r.buttonLiner),e.available&&!e.available(o,e))return!1;var d=function(e,i,n,s){s.action.call(i.button(n),e,i,n,s),t(i.table().node()).triggerHandler("buttons-action.dt",[i.button(n),i,n,s])},h=t("<"+n.tag+"/>").addClass(n.className).attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(t){t.preventDefault(),!h.hasClass(n.disabled)&&e.action&&d(t,o,h,e),h.blur()}).on("keyup.dtb",function(t){13===t.keyCode&&!h.hasClass(n.disabled)&&e.action&&d(t,o,h,e)});return"a"===n.tag.toLowerCase()&&h.attr("href","#"),s.tag?(r=t("<"+s.tag+"/>").html(l(e.text)).addClass(s.className),"a"===s.tag.toLowerCase()&&r.attr("href","#"),h.append(r)):h.html(l(e.text)),!1===e.enabled&&h.addClass(n.disabled),e.className&&h.addClass(e.className),e.titleAttr&&h.attr("title",l(e.titleAttr)),e.attr&&h.attr(e.attr),e.namespace||(e.namespace=".dt-button-"+a++),s=(s=this.c.dom.buttonContainer)&&s.tag?t("<"+s.tag+"/>").addClass(s.className).append(h):h,this._addKey(e),{conf:e,node:h.get(0),inserter:s,buttons:[],inCollection:i,collection:null}},_nodeToButton:function(t,e){e||(e=this.s.buttons);for(var i=0,n=e.length;i<n;i++){if(e[i].node===t)return e[i];if(e[i].buttons.length){var s=this._nodeToButton(t,e[i].buttons);if(s)return s}}},_nodeToHost:function(t,e){e||(e=this.s.buttons);for(var i=0,n=e.length;i<n;i++){if(e[i].node===t)return e;if(e[i].buttons.length){var s=this._nodeToHost(t,e[i].buttons);if(s)return s}}},_keypress:function(e,i){if(!i._buttonsHandled){var n=function(s){for(var r=0,o=s.length;r<o;r++){var a=s[r].conf,l=s[r].node;a.key&&(a.key===e?(i._buttonsHandled=!0,t(l).click()):!t.isPlainObject(a.key)||a.key.key!==e||a.key.shiftKey&&!i.shiftKey||a.key.altKey&&!i.altKey||a.key.ctrlKey&&!i.ctrlKey||a.key.metaKey&&!i.metaKey||(i._buttonsHandled=!0,t(l).click())),s[r].buttons.length&&n(s[r].buttons)}};n(this.s.buttons)}},_removeKey:function(e){if(e.key){var i=t.isPlainObject(e.key)?e.key.key:e.key;e=this.s.listenKeys.split(""),i=t.inArray(i,e);e.splice(i,1),this.s.listenKeys=e.join("")}},_resolveExtends:function(e){var i,s,r=this.s.dt,o=function(i){for(var s=0;!t.isPlainObject(i)&&!t.isArray(i);){if(i===n)return;if("function"==typeof i){if(!(i=i(r,e)))return!1}else if("string"==typeof i){if(!l[i])throw"Unknown button type: "+i;i=l[i]}if(30<++s)throw"Buttons: Too many iterations"}return t.isArray(i)?i:t.extend({},i)};for(e=o(e);e&&e.extend;){if(!l[e.extend])throw"Cannot extend unknown button type: "+e.extend;var a=o(l[e.extend]);if(t.isArray(a))return a;if(!a)return!1;i=a.className,e=t.extend({},a,e),i&&e.className!==i&&(e.className=i+" "+e.className);var d=e.postfixButtons;if(d){for(e.buttons||(e.buttons=[]),i=0,s=d.length;i<s;i++)e.buttons.push(d[i]);e.postfixButtons=null}if(d=e.prefixButtons){for(e.buttons||(e.buttons=[]),i=0,s=d.length;i<s;i++)e.buttons.splice(i,0,d[i]);e.prefixButtons=null}e.extend=a.extend}return e}}),d.background=function(e,i,s){s===n&&(s=400),e?t("<div/>").addClass(i).css("display","none").appendTo("body").fadeIn(s):t("body > div."+i).fadeOut(s,function(){t(this).removeClass(i).remove()})},d.instanceSelector=function(e,i){if(!e)return t.map(i,function(t){return t.inst});var n=[],s=t.map(i,function(t){return t.name}),r=function(e){if(t.isArray(e))for(var o=0,a=e.length;o<a;o++)r(e[o]);else"string"==typeof e?-1!==e.indexOf(",")?r(e.split(",")):-1!==(e=t.inArray(t.trim(e),s))&&n.push(i[e].inst):"number"==typeof e&&n.push(i[e].inst)};return r(e),n},d.buttonSelector=function(e,i){for(var s=[],r=function(t,e,i){for(var s,o,a=0,l=e.length;a<l;a++)(s=e[a])&&(o=i!==n?i+a:a+"",t.push({node:s.node,name:s.conf.name,idx:o}),s.buttons&&r(t,s.buttons,o+"-"))},o=function(e,i){var a,l,d=[];if(r(d,i.s.buttons),a=t.map(d,function(t){return t.node}),t.isArray(e)||e instanceof t)for(a=0,l=e.length;a<l;a++)o(e[a],i);else if(null===e||e===n||"*"===e)for(a=0,l=d.length;a<l;a++)s.push({inst:i,node:d[a].node});else if("number"==typeof e)s.push({inst:i,node:i.s.buttons[e].node});else if("string"==typeof e)if(-1!==e.indexOf(","))for(a=0,l=(d=e.split(",")).length;a<l;a++)o(t.trim(d[a]),i);else if(e.match(/^\d+(\-\d+)*$/))a=t.map(d,function(t){return t.idx}),s.push({inst:i,node:d[t.inArray(e,a)].node});else if(-1!==e.indexOf(":name")){var h=e.replace(":name","");for(a=0,l=d.length;a<l;a++)d[a].name===h&&s.push({inst:i,node:d[a].node})}else t(a).filter(e).each(function(){s.push({inst:i,node:this})});else"object"==typeof e&&e.nodeName&&(-1!==(d=t.inArray(e,a))&&s.push({inst:i,node:a[d]}))},a=0,l=e.length;a<l;a++)o(i,e[a]);return s},d.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:"dt-button-collection"},button:{tag:"button",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"span",className:""}}},d.version="1.5.1",t.extend(l,{collection:{text:function(t){return t.i18n("buttons.collection","Collection")},className:"buttons-collection",action:function(i,n,s,r){var o=t(s).parents("div.dt-button-collection"),a=(i=s.position(),t(n.table().container())),l=!1,h=s;o.length&&(l=t(".dt-button-collection").position(),h=o,t("body").trigger("click.dtb-collection")),r._collection.addClass(r.collectionLayout).css("display","none").insertAfter(h).fadeIn(r.fade),o=r._collection.css("position"),l&&"absolute"===o?r._collection.css({top:l.top,left:l.left}):"absolute"===o?(r._collection.css({top:i.top+s.outerHeight(),left:i.left}),l=a.offset().top+a.height(),s=i.top+s.outerHeight()+r._collection.outerHeight()-l,l=i.top-r._collection.outerHeight(),s>(l=a.offset().top-l)&&r._collection.css("top",i.top-r._collection.outerHeight()-5),(s=i.left+r._collection.outerWidth())>(a=a.offset().left+a.width())&&r._collection.css("left",i.left-(s-a))):((i=r._collection.height()/2)>t(e).height()/2&&(i=t(e).height()/2),r._collection.css("marginTop",-1*i)),r.background&&d.background(!0,r.backgroundClassName,r.fade),setTimeout(function(){t("div.dt-button-background").on("click.dtb-collection",function(){}),t("body").on("click.dtb-collection",function(e){var i=t.fn.addBack?"addBack":"andSelf";t(e.target).parents()[i]().filter(r._collection).length||(r._collection.fadeOut(r.fade,function(){r._collection.detach()}),t("div.dt-button-background").off("click.dtb-collection"),d.background(!1,r.backgroundClassName,r.fade),t("body").off("click.dtb-collection"),n.off("buttons-action.b-internal"))})},10),r.autoClose&&n.on("buttons-action.b-internal",function(){t("div.dt-button-background").click()})},background:!0,collectionLayout:"",backgroundClassName:"dt-button-background",autoClose:!1,fade:400,attr:{"aria-haspopup":!0}},copy:function(t,e){return l.copyHtml5?"copyHtml5":l.copyFlash&&l.copyFlash.available(t,e)?"copyFlash":void 0},csv:function(t,e){return l.csvHtml5&&l.csvHtml5.available(t,e)?"csvHtml5":l.csvFlash&&l.csvFlash.available(t,e)?"csvFlash":void 0},excel:function(t,e){return l.excelHtml5&&l.excelHtml5.available(t,e)?"excelHtml5":l.excelFlash&&l.excelFlash.available(t,e)?"excelFlash":void 0},pdf:function(t,e){return l.pdfHtml5&&l.pdfHtml5.available(t,e)?"pdfHtml5":l.pdfFlash&&l.pdfFlash.available(t,e)?"pdfFlash":void 0},pageLength:function(e){e=e.settings()[0].aLengthMenu;var i=t.isArray(e[0])?e[0]:e,n=t.isArray(e[0])?e[1]:e,s=function(t){return t.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},t.page.len())};return{extend:"collection",text:s,className:"buttons-page-length",autoClose:!0,buttons:t.map(i,function(t,e){return{text:n[e],className:"button-page-length",action:function(e,i){i.page.len(t).draw()},init:function(e,i,n){var s=this;i=function(){s.active(e.page.len()===t)};e.on("length.dt"+n.namespace,i),i()},destroy:function(t,e,i){t.off("length.dt"+i.namespace)}}}),init:function(t,e,i){var n=this;t.on("length.dt"+i.namespace,function(){n.text(s(t))})},destroy:function(t,e,i){t.off("length.dt"+i.namespace)}}}}),r.Api.register("buttons()",function(t,e){e===n&&(e=t,t=n),this.selector.buttonGroup=t;var i=this.iterator(!0,"table",function(i){if(i._buttons)return d.buttonSelector(d.instanceSelector(t,i._buttons),e)},!0);return i._groupSelector=t,i}),r.Api.register("button()",function(t,e){var i=this.buttons(t,e);return 1<i.length&&i.splice(1,i.length),i}),r.Api.registerPlural("buttons().active()","button().active()",function(t){return t===n?this.map(function(t){return t.inst.active(t.node)}):this.each(function(e){e.inst.active(e.node,t)})}),r.Api.registerPlural("buttons().action()","button().action()",function(t){return t===n?this.map(function(t){return t.inst.action(t.node)}):this.each(function(e){e.inst.action(e.node,t)})}),r.Api.register(["buttons().enable()","button().enable()"],function(t){return this.each(function(e){e.inst.enable(e.node,t)})}),r.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(t){t.inst.disable(t.node)})}),r.Api.registerPlural("buttons().nodes()","button().node()",function(){var e=t();return t(this.each(function(t){e=e.add(t.inst.node(t.node))})),e}),r.Api.registerPlural("buttons().processing()","button().processing()",function(t){return t===n?this.map(function(t){return t.inst.processing(t.node)}):this.each(function(e){e.inst.processing(e.node,t)})}),r.Api.registerPlural("buttons().text()","button().text()",function(t){return t===n?this.map(function(t){return t.inst.text(t.node)}):this.each(function(e){e.inst.text(e.node,t)})}),r.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(t){t.inst.node(t.node).trigger("click")})}),r.Api.registerPlural("buttons().containers()","buttons().container()",function(){var e=t(),i=this._groupSelector;return this.iterator(!0,"table",function(t){if(t._buttons)for(var n=0,s=(t=d.instanceSelector(i,t._buttons)).length;n<s;n++)e=e.add(t[n].container())}),e}),r.Api.register("button().add()",function(t,e){var i=this.context;return i.length&&((i=d.instanceSelector(this._groupSelector,i[0]._buttons)).length&&i[0].add(e,t)),this.button(this._groupSelector,t)}),r.Api.register("buttons().destroy()",function(){return this.pluck("inst").unique().each(function(t){t.destroy()}),this}),r.Api.registerPlural("buttons().remove()","buttons().remove()",function(){return this.each(function(t){t.inst.remove(t.node)}),this}),r.Api.register("buttons.info()",function(e,i,r){var o=this;return!1===e?(t("#datatables_buttons_info").fadeOut(function(){t(this).remove()}),clearTimeout(s),s=null,this):(s&&clearTimeout(s),t("#datatables_buttons_info").length&&t("#datatables_buttons_info").remove(),t('<div id="datatables_buttons_info" class="dt-button-info"/>').html(e?"<h2>"+e+"</h2>":"").append(t("<div/>")["string"==typeof i?"html":"append"](i)).css("display","none").appendTo("body").fadeIn(),r!==n&&0!==r&&(s=setTimeout(function(){o.buttons.info(!1)},r)),this)}),r.Api.register("buttons.exportData()",function(e){if(this.context.length){var i=new r.Api(this.context[0]),s=t.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(t){return o(t)},footer:function(t){return o(t)},body:function(t){return o(t)}}},e),o=function(t){return"string"!=typeof t?t:(t=t.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""),s.stripHtml&&(t=t.replace(/<[^>]*>/g,"")),s.trim&&(t=t.replace(/^\s+|\s+$/g,"")),s.stripNewlines&&(t=t.replace(/\n/g," ")),s.decodeEntities&&(c.innerHTML=t,t=c.value),t)},a=(e=i.columns(s.columns).indexes().map(function(t){var e=i.column(t).header();return s.format.header(e.innerHTML,t,e)}).toArray(),i.table().footer()?i.columns(s.columns).indexes().map(function(t){var e=i.column(t).footer();return s.format.footer(e?e.innerHTML:"",t,e)}).toArray():null),l=t.extend({},s.modifier);i.select&&"function"==typeof i.select.info&&l.selected===n&&i.rows(s.rows,t.extend({selected:!0},l)).any()&&t.extend(l,{selected:!0});l=i.rows(s.rows,l).indexes().toArray(),l=(d=i.cells(l,s.columns)).render(s.orthogonal).toArray();for(var d=d.nodes().toArray(),h=e.length,u=0<h?l.length/h:0,p=[u],f=0,m=0;m<u;m++){for(var g=[h],b=0;b<h;b++)g[b]=s.format.body(l[f],m,b,d[f]),f++;p[m]=g}return{header:e,footer:a,body:p}}}),r.Api.register("buttons.exportInfo()",function(e){var i;e||(e={});var s=e;return"function"==typeof(i="*"===s.filename&&"*"!==s.title&&s.title!==n&&null!==s.title&&""!==s.title?s.title:s.filename)&&(i=i()),i===n||null===i?i=null:(-1!==i.indexOf("*")&&(i=t.trim(i.replace("*",t("head > title").text()))),i=i.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""),(s=h(s.extension))||(s=""),i+=s),{filename:i,title:s=null===(s=h(e.title))?null:-1!==s.indexOf("*")?s.replace("*",t("head > title").text()||"Exported data"):s,messageTop:u(this,e.message||e.messageTop,"top"),messageBottom:u(this,e.messageBottom,"bottom")}});var h=function(t){return null===t||t===n?null:"function"==typeof t?t():t},u=function(e,i,n){return null===(i=h(i))?null:(e=t("caption",e.table().container()).eq(0),"*"===i?e.css("caption-side")!==n?null:e.length?e.text():"":i)},c=t("<textarea/>")[0];return t.fn.dataTable.Buttons=d,t.fn.DataTable.Buttons=d,t(i).on("init.dt plugin-init.dt",function(t,e){if("dt"===t.namespace){var i=e.oInit.buttons||r.defaults.buttons;i&&!e._buttons&&new d(e,i).container()}}),r.ext.feature.push({fnInit:function(t){var e=(t=new r.Api(t)).init().buttons||r.defaults.buttons;return new d(t,e).container()},cFeature:"B"}),d}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net-bs","datatables.net-buttons"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net-bs")(e,i).$),i.fn.dataTable.Buttons||require("datatables.net-buttons")(e,i),t(i,e.document)}:t(jQuery,window,document)}(function(t){var e=t.fn.dataTable;return t.extend(!0,e.Buttons.defaults,{dom:{container:{className:"dt-buttons btn-group"},button:{className:"btn btn-default"},collection:{tag:"ul",className:"dt-button-collection dropdown-menu",button:{tag:"li",className:"dt-button",active:"active",disabled:"disabled"},buttonLiner:{tag:"a",className:""}}}}),e.ext.buttons.collection.text=function(t){return t.i18n("buttons.collection",'Collection <span class="caret"/>')},e.Buttons}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),i.fn.dataTable.Buttons||require("datatables.net-buttons")(e,i),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){return e=t.fn.dataTable,t.extend(e.ext.buttons,{colvis:function(t,e){return{extend:"collection",text:function(t){return t.i18n("buttons.colvis","Column visibility")},className:"buttons-colvis",buttons:[{extend:"columnsToggle",columns:e.columns,columnText:e.columnText}]}},columnsToggle:function(t,e){return t.columns(e.columns).indexes().map(function(t){return{extend:"columnToggle",columns:t,columnText:e.columnText}}).toArray()},columnToggle:function(t,e){return{extend:"columnVisibility",columns:e.columns,columnText:e.columnText}},columnsVisibility:function(t,e){return t.columns(e.columns).indexes().map(function(t){return{extend:"columnVisibility",columns:t,visibility:e.visibility,columnText:e.columnText}}).toArray()},columnVisibility:{columns:n,text:function(t,e,i){return i._columnText(t,i)},className:"buttons-columnVisibility",action:function(t,e,i,s){e=(t=e.columns(s.columns)).visible(),t.visible(s.visibility!==n?s.visibility:!(e.length&&e[0]))},init:function(t,e,i){var n=this;t.on("column-visibility.dt"+i.namespace,function(e,s){!s.bDestroying&&s.nTable==t.settings()[0].nTable&&n.active(t.column(i.columns).visible())}).on("column-reorder.dt"+i.namespace,function(e,s,r){1===t.columns(i.columns).count()&&("number"==typeof i.columns&&(i.columns=r.mapping[i.columns]),e=t.column(i.columns),n.text(i._columnText(t,i)),n.active(e.visible()))}),this.active(t.column(i.columns).visible())},destroy:function(t,e,i){t.off("column-visibility.dt"+i.namespace).off("column-reorder.dt"+i.namespace)},_columnText:function(t,e){var i=t.column(e.columns).index(),n=t.settings()[0].aoColumns[i].sTitle.replace(/\n/g," ").replace(/<br\s*\/?>/gi," ").replace(/<select(.*?)<\/select>/g,"").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,"");return e.columnText?e.columnText(t,i,n):n}},colvisRestore:{className:"buttons-colvisRestore",text:function(t){return t.i18n("buttons.colvisRestore","Restore visibility")},init:function(t,e,i){i._visOriginal=t.columns().indexes().map(function(e){return t.column(e).visible()}).toArray()},action:function(t,e,i,n){e.columns().every(function(t){t=e.colReorder&&e.colReorder.transpose?e.colReorder.transpose(t,"toOriginal"):t,this.visible(n._visOriginal[t])})}},colvisGroup:{className:"buttons-colvisGroup",action:function(t,e,i,n){e.columns(n.show).visible(!0,!1),e.columns(n.hide).visible(!1,!1),e.columns.adjust()},show:[],hide:[]}}),e.Buttons}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i,n,s){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),i.fn.dataTable.Buttons||require("datatables.net-buttons")(e,i),t(i,e,e.document,n,s)}:t(jQuery,window,document)}(function(t,e,i,n,s,r){function o(t){for(var e="";0<=t;)e=String.fromCharCode(t%26+65)+e,t=Math.floor(t/26)-1;return e}function a(e,i,n){var s=e.createElement(i);return n&&(n.attr&&t(s).attr(n.attr),n.children&&t.each(n.children,function(t,e){s.appendChild(e)}),null!==n.text&&n.text!==r&&s.appendChild(e.createTextNode(n.text))),s}function l(t,e){var i,n=t.header[e].length;t.footer&&t.footer[e].length>n&&(n=t.footer[e].length);for(var s=0,o=t.body.length;s<o;s++)if(-1!==(i=null!==(i=t.body[s][e])&&i!==r?i.toString():"").indexOf("\n")?((i=i.split("\n")).sort(function(t,e){return e.length-t.length}),i=i[0].length):i=i.length,i>n&&(n=i),40<n)return 52;return 6<(n*=1.3)?n:6}var d,h=t.fn.dataTable,u="undefined"!=typeof self&&self||void 0!==e&&e||this.content;if(void 0===u||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))d=void 0;else{var c=u.document.createElementNS("http://www.w3.org/1999/xhtml","a"),p="download"in c,f=/constructor/i.test(u.HTMLElement)||u.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent),g=function(t){(u.setImmediate||u.setTimeout)(function(){throw t},0)},b=function(t){setTimeout(function(){"string"==typeof t?(u.URL||u.webkitURL||u).revokeObjectURL(t):t.remove()},4e4)},y=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},v=function(t,e,i){i||(t=y(t));var n,s=this,r=(i="application/octet-stream"===t.type,function(){for(var t,e=(t=[].concat(t=["writestart","progress","write","writeend"])).length;e--;){var i=s["on"+t[e]];if("function"==typeof i)try{i.call(s,s)}catch(t){g(t)}}});if(s.readyState=s.INIT,p)n=(u.URL||u.webkitURL||u).createObjectURL(t),setTimeout(function(){c.href=n,c.download=e;var t=new MouseEvent("click");c.dispatchEvent(t),r(),b(n),s.readyState=s.DONE});else if((m||i&&f)&&u.FileReader){var o=new FileReader;o.onloadend=function(){var t=m?o.result:o.result.replace(/^data:[^;]*;/,"data:attachment/file;");u.open(t,"_blank")||(u.location.href=t),s.readyState=s.DONE,r()},o.readAsDataURL(t),s.readyState=s.INIT}else n||(n=(u.URL||u.webkitURL||u).createObjectURL(t)),i?u.location.href=n:u.open(n,"_blank")||(u.location.href=n),s.readyState=s.DONE,r(),b(n)},_=v.prototype;"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?d=function(t,e,i){return e=e||t.name||"download",i||(t=y(t)),navigator.msSaveOrOpenBlob(t,e)}:(_.abort=function(){},_.readyState=_.INIT=0,_.WRITING=1,_.DONE=2,_.error=_.onwritestart=_.onprogress=_.onwrite=_.onabort=_.onerror=_.onwriteend=null,d=function(t,e,i){return new v(t,e||t.name||"download",i)})}h.fileSave=d;var w=function(t){return t.newline?t.newline:navigator.userAgent.match(/Windows/)?"\r\n":"\n"},x=function(t,e){for(var i=w(e),n=t.buttons.exportData(e.exportOptions),s=e.fieldBoundary,o=e.fieldSeparator,a=RegExp(s,"g"),l=e.escapeChar!==r?e.escapeChar:"\\",d=function(t){for(var e="",i=0,n=t.length;i<n;i++)0<i&&(e+=o),e+=s?s+(""+t[i]).replace(a,l+s)+s:t[i];return e},h=e.header?d(n.header)+i:"",u=e.footer&&n.footer?i+d(n.footer):"",c=[],p=0,f=n.body.length;p<f;p++)c.push(d(n.body[p]));return{str:h+c.join(i)+u,rows:c.length}},C=function(){if(-1===navigator.userAgent.indexOf("Safari")||-1!==navigator.userAgent.indexOf("Chrome")||-1!==navigator.userAgent.indexOf("Opera"))return!1;var t=navigator.userAgent.match(/AppleWebKit\/(\d+\.\d+)/);return!!(t&&1<t.length&&603.1>1*t[1])};try{var T,S=new XMLSerializer}catch(t){}var k={"_rels/.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',"xl/_rels/workbook.xml.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet1.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/></Relationships>',"[Content_Types].xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default Extension="xml" ContentType="application/xml" /><Default Extension="rels" ContentType="application/vnd.openxmlformats-package.relationships+xml" /><Default Extension="jpeg" ContentType="image/jpeg" /><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" /><Override PartName="/xl/worksheets/sheet1.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" /><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" /></Types>',"xl/workbook.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="xl" lastEdited="5" lowestEdited="5" rupBuild="24816"/><workbookPr showInkAnnotation="0" autoCompressPictures="0"/><bookViews><workbookView xWindow="0" yWindow="0" windowWidth="25600" windowHeight="19020" tabRatio="500"/></bookViews><sheets><sheet name="" sheetId="1" r:id="rId1"/></sheets></workbook>',"xl/worksheets/sheet1.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><sheetData/><mergeCells count="0"/></worksheet>',"xl/styles.xml":'<?xml version="1.0" encoding="UTF-8"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" mc:Ignorable="x14ac" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"><numFmts count="6"><numFmt numFmtId="164" formatCode="#,##0.00_- [$$-45C]"/><numFmt numFmtId="165" formatCode="&quot;£&quot;#,##0.00"/><numFmt numFmtId="166" formatCode="[$€-2] #,##0.00"/><numFmt numFmtId="167" formatCode="0.0%"/><numFmt numFmtId="168" formatCode="#,##0;(#,##0)"/><numFmt numFmtId="169" formatCode="#,##0.00;(#,##0.00)"/></numFmts><fonts count="5" x14ac:knownFonts="1"><font><sz val="11" /><name val="Calibri" /></font><font><sz val="11" /><name val="Calibri" /><color rgb="FFFFFFFF" /></font><font><sz val="11" /><name val="Calibri" /><b /></font><font><sz val="11" /><name val="Calibri" /><i /></font><font><sz val="11" /><name val="Calibri" /><u /></font></fonts><fills count="6"><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="none" /></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD9D9D9" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="FFD99795" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6efce" /><bgColor indexed="64" /></patternFill></fill><fill><patternFill patternType="solid"><fgColor rgb="ffc6cfef" /><bgColor indexed="64" /></patternFill></fill></fills><borders count="2"><border><left /><right /><top /><bottom /><diagonal /></border><border diagonalUp="false" diagonalDown="false"><left style="thin"><color auto="1" /></left><right style="thin"><color auto="1" /></right><top style="thin"><color auto="1" /></top><bottom style="thin"><color auto="1" /></bottom><diagonal /></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" /></cellStyleXfs><cellXfs count="67"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="0" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="2" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="3" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="4" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="1" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="2" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="3" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="4" fillId="5" borderId="1" applyFont="1" applyFill="1" applyBorder="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="left"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="center"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="right"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment horizontal="fill"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment textRotation="90"/></xf><xf numFmtId="0" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyAlignment="1"><alignment wrapText="1"/></xf><xf numFmtId="9"   fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="164" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="165" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="166" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="167" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="168" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="169" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="3" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="4" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="1" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/><xf numFmtId="2" fontId="0" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1" xfId="0" applyNumberFormat="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0" /></cellStyles><dxfs count="0" /><tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4" /></styleSheet>'},I=[{match:/^\-?\d+\.\d%$/,style:60,fmt:function(t){return t/100}},{match:/^\-?\d+\.?\d*%$/,style:56,fmt:function(t){return t/100}},{match:/^\-?\$[\d,]+.?\d*$/,style:57},{match:/^\-?£[\d,]+.?\d*$/,style:58},{match:/^\-?€[\d,]+.?\d*$/,style:59},{match:/^\-?\d+$/,style:65},{match:/^\-?\d+\.\d{2}$/,style:66},{match:/^\([\d,]+\)$/,style:61,fmt:function(t){return-1*t.replace(/[\(\)]/g,"")}},{match:/^\([\d,]+\.\d{2}\)$/,style:62,fmt:function(t){return-1*t.replace(/[\(\)]/g,"")}},{match:/^\-?[\d,]+$/,style:63},{match:/^\-?[\d,]+\.\d{2}$/,style:64}];return h.ext.buttons.copyHtml5={className:"buttons-copy buttons-html5",text:function(t){return t.i18n("buttons.copy","Copy")},action:function(e,n,s,r){this.processing(!0);var o=this,a=(e=x(n,r),n.buttons.exportInfo(r)),l=w(r),d=e.str;s=t("<div/>").css({height:1,width:1,overflow:"hidden",position:"fixed",top:0,left:0});if(a.title&&(d=a.title+l+l+d),a.messageTop&&(d=a.messageTop+l+l+d),a.messageBottom&&(d=d+l+l+a.messageBottom),r.customize&&(d=r.customize(d,r)),r=t("<textarea readonly/>").val(d).appendTo(s),i.queryCommandSupported("copy")){s.appendTo(n.table().container()),r[0].focus(),r[0].select();try{var h=i.execCommand("copy");if(s.remove(),h)return n.buttons.info(n.i18n("buttons.copyTitle","Copy to clipboard"),n.i18n("buttons.copySuccess",{1:"Copied one row to clipboard",_:"Copied %d rows to clipboard"},e.rows),2e3),void this.processing(!1)}catch(t){}}h=t("<span>"+n.i18n("buttons.copyKeys","Press <i>ctrl</i> or <i>⌘</i> + <i>C</i> to copy the table data<br>to your system clipboard.<br><br>To cancel, click this message or press escape.")+"</span>").append(s),n.buttons.info(n.i18n("buttons.copyTitle","Copy to clipboard"),h,0),r[0].focus(),r[0].select();var u=t(h).closest(".dt-button-info"),c=function(){u.off("click.buttons-copy"),t(i).off(".buttons-copy"),n.buttons.info(!1)};u.on("click.buttons-copy",c),t(i).on("keydown.buttons-copy",function(t){27===t.keyCode&&(c(),o.processing(!1))}).on("copy.buttons-copy cut.buttons-copy",function(){c(),o.processing(!1)})},exportOptions:{},fieldSeparator:"\t",fieldBoundary:"",header:!0,footer:!1,title:"*",messageTop:"*",messageBottom:"*"},h.ext.buttons.csvHtml5={bom:!1,className:"buttons-csv buttons-html5",available:function(){return e.FileReader!==r&&e.Blob},text:function(t){return t.i18n("buttons.csv","CSV")},action:function(t,e,n,s){this.processing(!0),t=x(e,s).str,e=e.buttons.exportInfo(s),n=s.charset,s.customize&&(t=s.customize(t,s)),!1!==n?(n||(n=i.characterSet||i.charset),n&&(n=";charset="+n)):n="",s.bom&&(t="\ufeff"+t),d(new Blob([t],{type:"text/csv"+n}),e.filename,!0),this.processing(!1)},filename:"*",extension:".csv",exportOptions:{},fieldSeparator:",",fieldBoundary:'"',escapeChar:'"',charset:null,header:!0,footer:!1},h.ext.buttons.excelHtml5={className:"buttons-excel buttons-html5",available:function(){return e.FileReader!==r&&(n||e.JSZip)!==r&&!C()&&S},text:function(t){return t.i18n("buttons.excel","Excel")},action:function(i,s,h,u){this.processing(!0);var c,p,f,m,g=this,b=0,y=(i=function(e){return t.parseXML(k[e])})("xl/worksheets/sheet1.xml"),v=y.getElementsByTagName("sheetData")[0],_=(i={_rels:{".rels":i("_rels/.rels")},xl:{_rels:{"workbook.xml.rels":i("xl/_rels/workbook.xml.rels")},"workbook.xml":i("xl/workbook.xml"),"styles.xml":i("xl/styles.xml"),worksheets:{"sheet1.xml":y}},"[Content_Types].xml":i("[Content_Types].xml")},h=s.buttons.exportData(u.exportOptions),function(e){p=a(y,"row",{attr:{r:c=b+1}});for(var i=0,n=e.length;i<n;i++){var s=o(i)+""+c,l=null;if(null===e[i]||e[i]===r||""===e[i]){if(!0!==u.createEmptyCells)continue;e[i]=""}e[i]=t.trim(e[i]);for(var d=0,h=I.length;d<h;d++){var f=I[d];if(e[i].match&&!e[i].match(/^0\d+/)&&e[i].match(f.match)){l=e[i].replace(/[^\d\.\-]/g,""),f.fmt&&(l=f.fmt(l)),l=a(y,"c",{attr:{r:s,s:f.style},children:[a(y,"v",{text:l})]});break}}l||("number"==typeof e[i]||e[i].match&&e[i].match(/^-?\d+(\.\d+)?$/)&&!e[i].match(/^0\d+/)?l=a(y,"c",{attr:{t:"n",r:s},children:[a(y,"v",{text:e[i]})]}):(f=e[i].replace?e[i].replace(/[\x00-\x09\x0B\x0C\x0E-\x1F\x7F-\x9F]/g,""):e[i],l=a(y,"c",{attr:{t:"inlineStr",r:s},children:{row:a(y,"is",{children:{row:a(y,"t",{text:f})}})}}))),p.appendChild(l)}v.appendChild(p),b++});t("sheets sheet",i.xl["workbook.xml"]).attr("name",(m="Sheet1",(f=u).sheetName&&(m=f.sheetName.replace(/[\[\]\*\/\\\?\:]/g,"")),m)),u.customizeData&&u.customizeData(h);var w=function(e,i){var n=t("mergeCells",y);n[0].appendChild(a(y,"mergeCell",{attr:{ref:"A"+e+":"+o(i)+e}})),n.attr("count",parseFloat(n.attr("count"))+1),t("row:eq("+(e-1)+") c",y).attr("s","51")},x=s.buttons.exportInfo(u);x.title&&(_([x.title],b),w(b,h.header.length-1)),x.messageTop&&(_([x.messageTop],b),w(b,h.header.length-1)),u.header&&(_(h.header,b),t("row:last c",y).attr("s","2"));s=0;for(var C=h.body.length;s<C;s++)_(h.body[s],b);for(u.footer&&h.footer&&(_(h.footer,b),t("row:last c",y).attr("s","2")),x.messageBottom&&(_([x.messageBottom],b),w(b,h.header.length-1)),s=a(y,"cols"),t("worksheet",y).prepend(s),_=0,w=h.header.length;_<w;_++)s.appendChild(a(y,"col",{attr:{min:_+1,max:_+1,width:l(h,_),customWidth:1}}));u.customize&&u.customize(i),0===t("mergeCells",y).children().length&&t("mergeCells",y).remove(),s={type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},function e(i,n){T===r&&(T=-1===S.serializeToString(t.parseXML(k["xl/worksheets/sheet1.xml"])).indexOf("xmlns:r")),t.each(n,function(n,s){if(t.isPlainObject(s))e(r=i.folder(n),s);else{if(T){var r,o,a,l=[];for(o=(r=s.childNodes[0]).attributes.length-1;0<=o;o--){a=r.attributes[o].nodeName;var d=r.attributes[o].nodeValue;-1!==a.indexOf(":")&&(l.push({name:a,value:d}),r.removeAttribute(a))}for(o=0,a=l.length;o<a;o++)(d=s.createAttribute(l[o].name.replace(":","_dt_b_namespace_token_"))).value=l[o].value,r.setAttributeNode(d)}r=S.serializeToString(s),T&&(-1===r.indexOf("<?xml")&&(r='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+r),r=r.replace(/_dt_b_namespace_token_/g,":")),r=r.replace(/<([^<>]*?) xmlns=""([^<>]*?)>/g,"<$1 $2>"),i.file(n,r)}})}(h=new(n||e.JSZip),i),h.generateAsync?h.generateAsync(s).then(function(t){d(t,x.filename),g.processing(!1)}):(d(h.generate(s),x.filename),this.processing(!1))},filename:"*",extension:".xlsx",exportOptions:{},header:!0,footer:!1,title:"*",messageTop:"*",messageBottom:"*",createEmptyCells:!1},h.ext.buttons.pdfHtml5={className:"buttons-pdf buttons-html5",available:function(){return e.FileReader!==r&&(s||e.pdfMake)},text:function(t){return t.i18n("buttons.pdf","PDF")},action:function(i,n,r,o){this.processing(!0),i=n.buttons.exportData(o.exportOptions),n=n.buttons.exportInfo(o),r=[],o.header&&r.push(t.map(i.header,function(t){return{text:"string"==typeof t?t:t+"",style:"tableHeader"}}));for(var a=0,l=i.body.length;a<l;a++)r.push(t.map(i.body[a],function(t){return{text:"string"==typeof t?t:t+"",style:a%2?"tableBodyEven":"tableBodyOdd"}}));o.footer&&i.footer&&r.push(t.map(i.footer,function(t){return{text:"string"==typeof t?t:t+"",style:"tableFooter"}})),i={pageSize:o.pageSize,pageOrientation:o.orientation,content:[{table:{headerRows:1,body:r},layout:"noBorders"}],styles:{tableHeader:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154",alignment:"center"},tableBodyEven:{},tableBodyOdd:{fillColor:"#f3f3f3"},tableFooter:{bold:!0,fontSize:11,color:"white",fillColor:"#2d4154"},title:{alignment:"center",fontSize:15},message:{}},defaultStyle:{fontSize:10}},n.messageTop&&i.content.unshift({text:n.messageTop,style:"message",margin:[0,0,0,12]}),n.messageBottom&&i.content.push({text:n.messageBottom,style:"message",margin:[0,0,0,12]}),n.title&&i.content.unshift({text:n.title,style:"title",margin:[0,0,0,12]}),o.customize&&o.customize(i,o),i=(s||e.pdfMake).createPdf(i),"open"!==o.download||C()?i.download(n.filename):i.open(),this.processing(!1)},title:"*",filename:"*",extension:".pdf",exportOptions:{},orientation:"portrait",pageSize:"A4",header:!0,footer:!1,messageTop:"*",messageBottom:"*",customize:null,download:"download"},h.Buttons}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),i.fn.dataTable.Buttons||require("datatables.net-buttons")(e,i),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i){var n=t.fn.dataTable,s=i.createElement("a"),r=function(t){return s.href=t,-1===(t=s.host).indexOf("/")&&0!==s.pathname.indexOf("/")&&(t+="/"),s.protocol+"//"+t+s.pathname+s.search};return n.ext.buttons.print={className:"buttons-print",text:function(t){return t.i18n("buttons.print","Print")},action:function(i,n,s,o){i=n.buttons.exportData(t.extend({decodeEntities:!1},o.exportOptions)),s=n.buttons.exportInfo(o);var a=function(t,e){for(var i="<tr>",n=0,s=t.length;n<s;n++)i+="<"+e+">"+t[n]+"</"+e+">";return i+"</tr>"};n='<table class="'+n.table().node().className+'">';o.header&&(n+="<thead>"+a(i.header,"th")+"</thead>");n+="<tbody>";for(var l=0,d=i.body.length;l<d;l++)n+=a(i.body[l],"td");n+="</tbody>",o.footer&&i.footer&&(n+="<tfoot>"+a(i.footer,"th")+"</tfoot>");n+="</table>";var h=e.open("","");h.document.close();var u="<title>"+s.title+"</title>";t("style, link").each(function(){var e=u,i=t(this).clone()[0];"link"===i.nodeName.toLowerCase()&&(i.href=r(i.href)),u=e+i.outerHTML});try{h.document.head.innerHTML=u}catch(e){t(h.document.head).html(u)}h.document.body.innerHTML="<h1>"+s.title+"</h1><div>"+(s.messageTop||"")+"</div>"+n+"<div>"+(s.messageBottom||"")+"</div>",t(h.document.body).addClass("dt-print-view"),t("img",h.document.body).each(function(t,e){e.setAttribute("src",r(e.getAttribute("src")))}),o.customize&&o.customize(h),setTimeout(function(){o.autoPrint&&(h.print(),h.close())},1e3)},title:"*",messageTop:"*",messageBottom:"*",exportOptions:{},header:!0,footer:!1,autoPrint:!0,customize:null},n.Buttons}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){function s(t){for(var e=[],i=0,n=t.length;i<n;i++)e[t[i]]=i;return e}function r(t,e,i){e=t.splice(e,1)[0],t.splice(i,0,e)}function o(t,e,i){for(var n=[],s=0,r=t.childNodes.length;s<r;s++)1==t.childNodes[s].nodeType&&n.push(t.childNodes[s]);e=n[e],null!==i?t.insertBefore(e,n[i]):t.appendChild(e)}var a=t.fn.dataTable;t.fn.dataTableExt.oApi.fnColReorder=function(e,i,a,l,d){var h,u,c,p,f,m,g=e.aoColumns.length;if(f=function(t,e,i){if(t[e]&&"function"!=typeof t[e]){var n=t[e].split("."),s=n.shift();isNaN(1*s)||(t[e]=i[1*s]+"."+n.join("."))}},i!=a)if(0>i||i>=g)this.oApi._fnLog(e,1,"ColReorder 'from' index is out of bounds: "+i);else if(0>a||a>=g)this.oApi._fnLog(e,1,"ColReorder 'to' index is out of bounds: "+a);else{for(c=[],h=0,u=g;h<u;h++)c[h]=h;r(c,i,a);var b=s(c);for(h=0,u=e.aaSorting.length;h<u;h++)e.aaSorting[h][0]=b[e.aaSorting[h][0]];if(null!==e.aaSortingFixed)for(h=0,u=e.aaSortingFixed.length;h<u;h++)e.aaSortingFixed[h][0]=b[e.aaSortingFixed[h][0]];for(h=0,u=g;h<u;h++){for(c=0,p=(m=e.aoColumns[h]).aDataSort.length;c<p;c++)m.aDataSort[c]=b[m.aDataSort[c]];m.idx=b[m.idx]}for(t.each(e.aLastSort,function(t,i){e.aLastSort[t].src=b[i.src]}),h=0,u=g;h<u;h++)"number"==typeof(m=e.aoColumns[h]).mData?m.mData=b[m.mData]:t.isPlainObject(m.mData)&&(f(m.mData,"_",b),f(m.mData,"filter",b),f(m.mData,"sort",b),f(m.mData,"type",b));if(e.aoColumns[i].bVisible){for(f=this.oApi._fnColumnIndexToVisible(e,i),p=null,h=a<i?a:a+1;null===p&&h<g;)p=this.oApi._fnColumnIndexToVisible(e,h),h++;for(h=0,u=(c=e.nTHead.getElementsByTagName("tr")).length;h<u;h++)o(c[h],f,p);if(null!==e.nTFoot)for(h=0,u=(c=e.nTFoot.getElementsByTagName("tr")).length;h<u;h++)o(c[h],f,p);for(h=0,u=e.aoData.length;h<u;h++)null!==e.aoData[h].nTr&&o(e.aoData[h].nTr,f,p)}for(r(e.aoColumns,i,a),h=0,u=g;h<u;h++)e.oApi._fnColumnOptions(e,h,{});for(r(e.aoPreSearchCols,i,a),h=0,u=e.aoData.length;h<u;h++){if(m=(p=e.aoData[h]).anCells)for(r(m,i,a),c=0,f=m.length;c<f;c++)m[c]&&m[c]._DT_CellIndex&&(m[c]._DT_CellIndex.column=c);"dom"!==p.src&&t.isArray(p._aData)&&r(p._aData,i,a)}for(h=0,u=e.aoHeader.length;h<u;h++)r(e.aoHeader[h],i,a);if(null!==e.aoFooter)for(h=0,u=e.aoFooter.length;h<u;h++)r(e.aoFooter[h],i,a);for((d||d===n)&&t.fn.dataTable.Api(e).rows().invalidate(),h=0,u=g;h<u;h++)t(e.aoColumns[h].nTh).off("click.DT"),this.oApi._fnSortAttachListener(e,e.aoColumns[h].nTh,h);t(e.oInstance).trigger("column-reorder.dt",[e,{from:i,to:a,mapping:b,drop:l,iFrom:i,iTo:a,aiInvertMapping:b}])}};var l=function(e,i){var n=new t.fn.dataTable.Api(e).settings()[0];if(n._colReorder)return n._colReorder;!0===i&&(i={});var s=t.fn.dataTable.camelToHungarian;return s&&(s(l.defaults,l.defaults,!0),s(l.defaults,i||{})),this.s={dt:null,init:t.extend(!0,{},l.defaults,i),fixed:0,fixedRight:0,reorderCallback:null,mouse:{startX:-1,startY:-1,offsetX:-1,offsetY:-1,target:-1,targetIndex:-1,fromIndex:-1},aoTargets:[]},this.dom={drag:null,pointer:null},this.s.dt=n,this.s.dt._colReorder=this,this._fnConstruct(),this};return t.extend(l.prototype,{fnReset:function(){return this._fnOrderColumns(this.fnOrder()),this},fnGetCurrentOrder:function(){return this.fnOrder()},fnOrder:function(e,i){var r,o,a=[],l=this.s.dt.aoColumns;if(e===n){for(r=0,o=l.length;r<o;r++)a.push(l[r]._ColReorder_iOrigCol);return a}if(i){for(l=this.fnOrder(),r=0,o=e.length;r<o;r++)a.push(t.inArray(e[r],l));e=a}return this._fnOrderColumns(s(e)),this},fnTranspose:function(e,i){i||(i="toCurrent");var n=this.fnOrder(),s=this.s.dt.aoColumns;return"toCurrent"===i?t.isArray(e)?t.map(e,function(e){return t.inArray(e,n)}):t.inArray(e,n):t.isArray(e)?t.map(e,function(t){return s[t]._ColReorder_iOrigCol}):s[e]._ColReorder_iOrigCol},_fnConstruct:function(){var e,i=this,n=this.s.dt.aoColumns.length,r=this.s.dt.nTable;for(this.s.init.iFixedColumns&&(this.s.fixed=this.s.init.iFixedColumns),this.s.init.iFixedColumnsLeft&&(this.s.fixed=this.s.init.iFixedColumnsLeft),this.s.fixedRight=this.s.init.iFixedColumnsRight?this.s.init.iFixedColumnsRight:0,this.s.init.fnReorderCallback&&(this.s.reorderCallback=this.s.init.fnReorderCallback),e=0;e<n;e++)e>this.s.fixed-1&&e<n-this.s.fixedRight&&this._fnMouseListener(e,this.s.dt.aoColumns[e].nTh),this.s.dt.aoColumns[e]._ColReorder_iOrigCol=e;this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(t,e){i._fnStateSave.call(i,e)},"ColReorder_State");var o=null;if(this.s.init.aiOrder&&(o=this.s.init.aiOrder.slice()),this.s.dt.oLoadedState&&void 0!==this.s.dt.oLoadedState.ColReorder&&this.s.dt.oLoadedState.ColReorder.length==this.s.dt.aoColumns.length&&(o=this.s.dt.oLoadedState.ColReorder),o)if(i.s.dt._bInitComplete)n=s(o),i._fnOrderColumns.call(i,n);else{var a=!1;t(r).on("draw.dt.colReorder",function(){if(!i.s.dt._bInitComplete&&!a){a=!0;var t=s(o);i._fnOrderColumns.call(i,t)}})}else this._fnSetColumnIndexes();t(r).on("destroy.dt.colReorder",function(){t(r).off("destroy.dt.colReorder draw.dt.colReorder"),t(i.s.dt.nTHead).find("*").off(".ColReorder"),t.each(i.s.dt.aoColumns,function(e,i){t(i.nTh).removeAttr("data-column-index")}),i.s.dt._colReorder=null,i.s=null})},_fnOrderColumns:function(e){var i=!1;if(e.length!=this.s.dt.aoColumns.length)this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"ColReorder - array reorder does not match known number of columns. Skipping.");else{for(var n=0,s=e.length;n<s;n++){var o=t.inArray(n,e);n!=o&&(r(e,o,n),this.s.dt.oInstance.fnColReorder(o,n,!0,!1),i=!0)}t.fn.dataTable.Api(this.s.dt).rows().invalidate(),this._fnSetColumnIndexes(),i&&((""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY)&&this.s.dt.oInstance.fnAdjustColumnSizing(!1),this.s.dt.oInstance.oApi._fnSaveState(this.s.dt),null!==this.s.reorderCallback&&this.s.reorderCallback.call(this))}},_fnStateSave:function(e){var i,n,s,r=this.s.dt.aoColumns;if(e.ColReorder=[],e.aaSorting){for(i=0;i<e.aaSorting.length;i++)e.aaSorting[i][0]=r[e.aaSorting[i][0]]._ColReorder_iOrigCol;var o=t.extend(!0,[],e.aoSearchCols);for(i=0,n=r.length;i<n;i++)s=r[i]._ColReorder_iOrigCol,e.aoSearchCols[s]=o[i],e.abVisCols[s]=r[i].bVisible,e.ColReorder.push(s)}else if(e.order){for(i=0;i<e.order.length;i++)e.order[i][0]=r[e.order[i][0]]._ColReorder_iOrigCol;for(o=t.extend(!0,[],e.columns),i=0,n=r.length;i<n;i++)s=r[i]._ColReorder_iOrigCol,e.columns[s]=o[i],e.ColReorder.push(s)}},_fnMouseListener:function(e,i){var n=this;t(i).on("mousedown.ColReorder",function(t){n._fnMouseDown.call(n,t,i)}).on("touchstart.ColReorder",function(t){n._fnMouseDown.call(n,t,i)})},_fnMouseDown:function(e,s){var r=this,o=t(e.target).closest("th, td").offset(),a=parseInt(t(s).attr("data-column-index"),10);a!==n&&(this.s.mouse.startX=this._fnCursorPosition(e,"pageX"),this.s.mouse.startY=this._fnCursorPosition(e,"pageY"),this.s.mouse.offsetX=this._fnCursorPosition(e,"pageX")-o.left,this.s.mouse.offsetY=this._fnCursorPosition(e,"pageY")-o.top,this.s.mouse.target=this.s.dt.aoColumns[a].nTh,this.s.mouse.targetIndex=a,this.s.mouse.fromIndex=a,this._fnRegions(),t(i).on("mousemove.ColReorder touchmove.ColReorder",function(t){r._fnMouseMove.call(r,t)}).on("mouseup.ColReorder touchend.ColReorder",function(t){r._fnMouseUp.call(r,t)}))},_fnMouseMove:function(t){if(null===this.dom.drag){if(5>Math.pow(Math.pow(this._fnCursorPosition(t,"pageX")-this.s.mouse.startX,2)+Math.pow(this._fnCursorPosition(t,"pageY")-this.s.mouse.startY,2),.5))return;this._fnCreateDragNode()}this.dom.drag.css({left:this._fnCursorPosition(t,"pageX")-this.s.mouse.offsetX,top:this._fnCursorPosition(t,"pageY")-this.s.mouse.offsetY});for(var e=!1,i=this.s.mouse.toIndex,n=1,s=this.s.aoTargets.length;n<s;n++)if(this._fnCursorPosition(t,"pageX")<this.s.aoTargets[n-1].x+(this.s.aoTargets[n].x-this.s.aoTargets[n-1].x)/2){this.dom.pointer.css("left",this.s.aoTargets[n-1].x),this.s.mouse.toIndex=this.s.aoTargets[n-1].to,e=!0;break}e||(this.dom.pointer.css("left",this.s.aoTargets[this.s.aoTargets.length-1].x),this.s.mouse.toIndex=this.s.aoTargets[this.s.aoTargets.length-1].to),this.s.init.bRealtime&&i!==this.s.mouse.toIndex&&(this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex,!1),this.s.mouse.fromIndex=this.s.mouse.toIndex,this._fnRegions())},_fnMouseUp:function(){t(i).off(".ColReorder"),null!==this.dom.drag&&(this.dom.drag.remove(),this.dom.pointer.remove(),this.dom.drag=null,this.dom.pointer=null,this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex,!0),this._fnSetColumnIndexes(),(""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY)&&this.s.dt.oInstance.fnAdjustColumnSizing(!1),this.s.dt.oInstance.oApi._fnSaveState(this.s.dt),null!==this.s.reorderCallback&&this.s.reorderCallback.call(this))},_fnRegions:function(){var e=this.s.dt.aoColumns;this.s.aoTargets.splice(0,this.s.aoTargets.length),this.s.aoTargets.push({x:t(this.s.dt.nTable).offset().left,to:0});for(var i=0,n=this.s.aoTargets[0].x,s=0,r=e.length;s<r;s++)s!=this.s.mouse.fromIndex&&i++,e[s].bVisible&&"none"!==e[s].nTh.style.display&&(n+=t(e[s].nTh).outerWidth(),this.s.aoTargets.push({x:n,to:i}));0!==this.s.fixedRight&&this.s.aoTargets.splice(this.s.aoTargets.length-this.s.fixedRight),0!==this.s.fixed&&this.s.aoTargets.splice(0,this.s.fixed)},_fnCreateDragNode:function(){var e=""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY,i=this.s.dt.aoColumns[this.s.mouse.targetIndex].nTh,n=i.parentNode,s=n.parentNode,r=s.parentNode,o=t(i).clone();this.dom.drag=t(r.cloneNode(!1)).addClass("DTCR_clonedTable").append(t(s.cloneNode(!1)).append(t(n.cloneNode(!1)).append(o[0]))).css({position:"absolute",top:0,left:0,width:t(i).outerWidth(),height:t(i).outerHeight()}).appendTo("body"),this.dom.pointer=t("<div></div>").addClass("DTCR_pointer").css({position:"absolute",top:e?t("div.dataTables_scroll",this.s.dt.nTableWrapper).offset().top:t(this.s.dt.nTable).offset().top,height:e?t("div.dataTables_scroll",this.s.dt.nTableWrapper).height():t(this.s.dt.nTable).height()}).appendTo("body")},_fnSetColumnIndexes:function(){t.each(this.s.dt.aoColumns,function(e,i){t(i.nTh).attr("data-column-index",e)})},_fnCursorPosition:function(t,e){return-1!==t.type.indexOf("touch")?t.originalEvent.touches[0][e]:t[e]}}),l.defaults={aiOrder:null,bRealtime:!0,iFixedColumnsLeft:0,iFixedColumnsRight:0,fnReorderCallback:null},l.version="1.4.1",t.fn.dataTable.ColReorder=l,t.fn.DataTable.ColReorder=l,"function"==typeof t.fn.dataTable&&"function"==typeof t.fn.dataTableExt.fnVersionCheck&&t.fn.dataTableExt.fnVersionCheck("1.10.8")?t.fn.dataTableExt.aoFeatures.push({fnInit:function(t){var e=t.oInstance;return t._colReorder?e.oApi._fnLog(t,1,"ColReorder attempted to initialise twice. Ignoring second"):(e=t.oInit,new l(t,e.colReorder||e.oColReorder||{})),null},cFeature:"R",sFeature:"ColReorder"}):alert("Warning: ColReorder requires DataTables 1.10.8 or greater - www.datatables.net/download"),t(i).on("preInit.dt.colReorder",function(e,i){if("dt"===e.namespace){var n=i.oInit.colReorder,s=a.defaults.colReorder;(n||s)&&(s=t.extend({},n,s),!1!==n&&new l(i,s))}}),t.fn.dataTable.Api.register("colReorder.reset()",function(){return this.iterator("table",function(t){t._colReorder.fnReset()})}),t.fn.dataTable.Api.register("colReorder.order()",function(t,e){return t?this.iterator("table",function(i){i._colReorder.fnOrder(t,e)}):this.context.length?this.context[0]._colReorder.fnOrder():null}),t.fn.dataTable.Api.register("colReorder.transpose()",function(t,e){return this.context.length&&this.context[0]._colReorder?this.context[0]._colReorder.fnTranspose(t,e):t}),t.fn.dataTable.Api.register("colReorder.move()",function(t,e,i,n){return this.context.length&&this.context[0]._colReorder.s.dt.oInstance.fnColReorder(t,e,i,n),this}),l}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){var s,r=t.fn.dataTable,o=function(e,i){var s=this;if(this instanceof o){i!==n&&!0!==i||(i={});var r=t.fn.dataTable.camelToHungarian;if(r&&(r(o.defaults,o.defaults,!0),r(o.defaults,i)),r=new t.fn.dataTable.Api(e).settings()[0],this.s={dt:r,iTableColumns:r.aoColumns.length,aiOuterWidths:[],aiInnerWidths:[],rtl:"rtl"===t(r.nTable).css("direction")},this.dom={scroller:null,header:null,body:null,footer:null,grid:{wrapper:null,dt:null,left:{wrapper:null,head:null,body:null,foot:null},right:{wrapper:null,head:null,body:null,foot:null}},clone:{left:{header:null,body:null,footer:null},right:{header:null,body:null,footer:null}}},r._oFixedColumns)throw"FixedColumns already initialised on this table";r._oFixedColumns=this,r._bInitComplete?this._fnConstruct(i):r.oApi._fnCallbackReg(r,"aoInitComplete",function(){s._fnConstruct(i)},"FixedColumns")}else alert("FixedColumns warning: FixedColumns must be initialised with the 'new' keyword.")};return t.extend(o.prototype,{fnUpdate:function(){this._fnDraw(!0)},fnRedrawLayout:function(){this._fnColCalc(),this._fnGridLayout(),this.fnUpdate()},fnRecalculateHeight:function(t){delete t._DTTC_iHeight,t.style.height="auto"},fnSetRowHeight:function(t,e){t.style.height=e+"px"},fnGetPosition:function(e){var i=this.s.dt.oInstance;if(t(e).parents(".DTFC_Cloned").length){if("tr"===e.nodeName.toLowerCase())return e=t(e).index(),i.fnGetPosition(t("tr",this.s.dt.nTBody)[e]);var n=t(e).index();e=t(e.parentNode).index();return[i.fnGetPosition(t("tr",this.s.dt.nTBody)[e]),n,i.oApi._fnVisibleToColumnIndex(this.s.dt,n)]}return i.fnGetPosition(e)},_fnConstruct:function(s){var r=this;if("function"!=typeof this.s.dt.oInstance.fnVersionCheck||!0!==this.s.dt.oInstance.fnVersionCheck("1.8.0"))alert("FixedColumns "+o.VERSION+" required DataTables 1.8.0 or later. Please upgrade your DataTables installation");else if(""===this.s.dt.oScroll.sX)this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"FixedColumns is not needed (no x-scrolling in DataTables enabled), so no action will be taken. Use 'FixedHeader' for column fixing when scrolling is not enabled");else{this.s=t.extend(!0,this.s,o.defaults,s),s=this.s.dt.oClasses,this.dom.grid.dt=t(this.s.dt.nTable).parents("div."+s.sScrollWrapper)[0],this.dom.scroller=t("div."+s.sScrollBody,this.dom.grid.dt)[0],this._fnColCalc(),this._fnGridSetup();var a,l=!1;t(this.s.dt.nTableWrapper).on("mousedown.DTFC",function(e){0===e.button&&(l=!0,t(i).one("mouseup",function(){l=!1}))}),t(this.dom.scroller).on("mouseover.DTFC touchstart.DTFC",function(){l||(a="main")}).on("scroll.DTFC",function(t){!a&&t.originalEvent&&(a="main"),"main"===a&&(0<r.s.iLeftColumns&&(r.dom.grid.left.liner.scrollTop=r.dom.scroller.scrollTop),0<r.s.iRightColumns)&&(r.dom.grid.right.liner.scrollTop=r.dom.scroller.scrollTop)});var d="onwheel"in i.createElement("div")?"wheel.DTFC":"mousewheel.DTFC";0<r.s.iLeftColumns&&t(r.dom.grid.left.liner).on("mouseover.DTFC touchstart.DTFC",function(){l||(a="left")}).on("scroll.DTFC",function(t){!a&&t.originalEvent&&(a="left"),"left"===a&&(r.dom.scroller.scrollTop=r.dom.grid.left.liner.scrollTop,0<r.s.iRightColumns&&(r.dom.grid.right.liner.scrollTop=r.dom.grid.left.liner.scrollTop))}).on(d,function(t){r.dom.scroller.scrollLeft-="wheel"===t.type?-t.originalEvent.deltaX:t.originalEvent.wheelDeltaX}),0<r.s.iRightColumns&&t(r.dom.grid.right.liner).on("mouseover.DTFC touchstart.DTFC",function(){l||(a="right")}).on("scroll.DTFC",function(t){!a&&t.originalEvent&&(a="right"),"right"===a&&(r.dom.scroller.scrollTop=r.dom.grid.right.liner.scrollTop,0<r.s.iLeftColumns&&(r.dom.grid.left.liner.scrollTop=r.dom.grid.right.liner.scrollTop))}).on(d,function(t){r.dom.scroller.scrollLeft-="wheel"===t.type?-t.originalEvent.deltaX:t.originalEvent.wheelDeltaX}),t(e).on("resize.DTFC",function(){r._fnGridLayout.call(r)});var h=!0,u=t(this.s.dt.nTable);u.on("draw.dt.DTFC",function(){r._fnColCalc(),r._fnDraw.call(r,h),h=!1}).on("column-sizing.dt.DTFC",function(){r._fnColCalc(),r._fnGridLayout(r)}).on("column-visibility.dt.DTFC",function(t,e,i,s,o){(o===n||o)&&(r._fnColCalc(),r._fnGridLayout(r),r._fnDraw(!0))}).on("select.dt.DTFC deselect.dt.DTFC",function(t){"dt"===t.namespace&&r._fnDraw(!1)}).on("destroy.dt.DTFC",function(){u.off(".DTFC"),t(r.dom.scroller).off(".DTFC"),t(e).off(".DTFC"),t(r.s.dt.nTableWrapper).off(".DTFC"),t(r.dom.grid.left.liner).off(".DTFC "+d),t(r.dom.grid.left.wrapper).remove(),t(r.dom.grid.right.liner).off(".DTFC "+d),t(r.dom.grid.right.wrapper).remove()}),this._fnGridLayout(),this.s.dt.oInstance.fnDraw(!1)}},_fnColCalc:function(){var e=this,i=0,n=0;this.s.aiInnerWidths=[],this.s.aiOuterWidths=[],t.each(this.s.dt.aoColumns,function(s,r){var o,a=t(r.nTh);if(a.filter(":visible").length){var l=a.outerWidth();0===e.s.aiOuterWidths.length&&(l+="string"==typeof(o=t(e.s.dt.nTable).css("border-left-width"))&&-1===o.indexOf("px")?1:parseInt(o,10)),e.s.aiOuterWidths.length===e.s.dt.aoColumns.length-1&&(l+="string"==typeof(o=t(e.s.dt.nTable).css("border-right-width"))&&-1===o.indexOf("px")?1:parseInt(o,10)),e.s.aiOuterWidths.push(l),e.s.aiInnerWidths.push(a.width()),s<e.s.iLeftColumns&&(i+=l),e.s.iTableColumns-e.s.iRightColumns<=s&&(n+=l)}else e.s.aiInnerWidths.push(0),e.s.aiOuterWidths.push(0)}),this.s.iLeftWidth=i,this.s.iRightWidth=n},_fnGridSetup:function(){var e,i=this._fnDTOverflow();this.dom.body=this.s.dt.nTable,this.dom.header=this.s.dt.nTHead.parentNode,this.dom.header.parentNode.parentNode.style.position="relative";var n=t('<div class="DTFC_ScrollWrapper" style="position:relative; clear:both;"><div class="DTFC_LeftWrapper" style="position:absolute; top:0; left:0;" aria-hidden="true"><div class="DTFC_LeftHeadWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div><div class="DTFC_LeftBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_LeftBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_LeftFootWrapper" style="position:relative; top:0; left:0; overflow:hidden;"></div></div><div class="DTFC_RightWrapper" style="position:absolute; top:0; right:0;" aria-hidden="true"><div class="DTFC_RightHeadWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightHeadBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div><div class="DTFC_RightBodyWrapper" style="position:relative; top:0; left:0; overflow:hidden;"><div class="DTFC_RightBodyLiner" style="position:relative; top:0; left:0; overflow-y:scroll;"></div></div><div class="DTFC_RightFootWrapper" style="position:relative; top:0; left:0;"><div class="DTFC_RightFootBlocker DTFC_Blocker" style="position:absolute; top:0; bottom:0;"></div></div></div></div>')[0],s=n.childNodes[0],r=n.childNodes[1];this.dom.grid.dt.parentNode.insertBefore(n,this.dom.grid.dt),n.appendChild(this.dom.grid.dt),this.dom.grid.wrapper=n,0<this.s.iLeftColumns&&(this.dom.grid.left.wrapper=s,this.dom.grid.left.head=s.childNodes[0],this.dom.grid.left.body=s.childNodes[1],this.dom.grid.left.liner=t("div.DTFC_LeftBodyLiner",n)[0],n.appendChild(s)),0<this.s.iRightColumns&&(this.dom.grid.right.wrapper=r,this.dom.grid.right.head=r.childNodes[0],this.dom.grid.right.body=r.childNodes[1],this.dom.grid.right.liner=t("div.DTFC_RightBodyLiner",n)[0],r.style.right=i.bar+"px",(e=t("div.DTFC_RightHeadBlocker",n)[0]).style.width=i.bar+"px",e.style.right=-i.bar+"px",this.dom.grid.right.headBlock=e,(e=t("div.DTFC_RightFootBlocker",n)[0]).style.width=i.bar+"px",e.style.right=-i.bar+"px",this.dom.grid.right.footBlock=e,n.appendChild(r)),this.s.dt.nTFoot&&(this.dom.footer=this.s.dt.nTFoot.parentNode,0<this.s.iLeftColumns&&(this.dom.grid.left.foot=s.childNodes[2]),0<this.s.iRightColumns)&&(this.dom.grid.right.foot=r.childNodes[2]),this.s.rtl&&t("div.DTFC_RightHeadBlocker",n).css({left:-i.bar+"px",right:""})},_fnGridLayout:function(){var e=this,i=this.dom.grid;t(i.wrapper).width();var n=this.s.dt.nTable.parentNode.offsetHeight,s=this.s.dt.nTable.parentNode.parentNode.offsetHeight,r=this._fnDTOverflow(),o=this.s.iLeftWidth,a=this.s.iRightWidth,l="rtl"===t(this.dom.body).css("direction"),d=function(i,n){r.bar?e._firefoxScrollError()?34<t(i).height()&&(i.style.width=n+r.bar+"px"):i.style.width=n+r.bar+"px":(i.style.width=n+20+"px",i.style.paddingRight="20px",i.style.boxSizing="border-box")};r.x&&(n-=r.bar),i.wrapper.style.height=s+"px",0<this.s.iLeftColumns&&((s=i.left.wrapper).style.width=o+"px",s.style.height="1px",l?(s.style.left="",s.style.right=0):(s.style.left=0,s.style.right=""),i.left.body.style.height=n+"px",i.left.foot&&(i.left.foot.style.top=(r.x?r.bar:0)+"px"),d(i.left.liner,o),i.left.liner.style.height=n+"px",i.left.liner.style.maxHeight=n+"px"),0<this.s.iRightColumns&&((s=i.right.wrapper).style.width=a+"px",s.style.height="1px",this.s.rtl?(s.style.left=r.y?r.bar+"px":0,s.style.right=""):(s.style.left="",s.style.right=r.y?r.bar+"px":0),i.right.body.style.height=n+"px",i.right.foot&&(i.right.foot.style.top=(r.x?r.bar:0)+"px"),d(i.right.liner,a),i.right.liner.style.height=n+"px",i.right.liner.style.maxHeight=n+"px",i.right.headBlock.style.display=r.y?"block":"none",i.right.footBlock.style.display=r.y?"block":"none")},_fnDTOverflow:function(){var t=this.s.dt.nTable,e=t.parentNode,i={x:!1,y:!1,bar:this.s.dt.oScroll.iBarWidth};return t.offsetWidth>e.clientWidth&&(i.x=!0),t.offsetHeight>e.clientHeight&&(i.y=!0),i},_fnDraw:function(e){this._fnGridLayout(),this._fnCloneLeft(e),this._fnCloneRight(e),null!==this.s.fnDrawCallback&&this.s.fnDrawCallback.call(this,this.dom.clone.left,this.dom.clone.right),t(this).trigger("draw.dtfc",{leftClone:this.dom.clone.left,rightClone:this.dom.clone.right})},_fnCloneRight:function(t){if(!(0>=this.s.iRightColumns)){var e,i=[];for(e=this.s.iTableColumns-this.s.iRightColumns;e<this.s.iTableColumns;e++)this.s.dt.aoColumns[e].bVisible&&i.push(e);this._fnClone(this.dom.clone.right,this.dom.grid.right,i,t)}},_fnCloneLeft:function(t){if(!(0>=this.s.iLeftColumns)){var e,i=[];for(e=0;e<this.s.iLeftColumns;e++)this.s.dt.aoColumns[e].bVisible&&i.push(e);this._fnClone(this.dom.clone.left,this.dom.grid.left,i,t)}},_fnCopyLayout:function(e,i,n){for(var s=[],r=[],o=[],a=0,l=e.length;a<l;a++){var d=[];d.nTr=t(e[a].nTr).clone(n,!1)[0];for(var h=0,u=this.s.iTableColumns;h<u;h++)if(-1!==t.inArray(h,i)){var c=t.inArray(e[a][h].cell,o);-1===c?(c=t(e[a][h].cell).clone(n,!1)[0],r.push(c),o.push(e[a][h].cell),d.push({cell:c,unique:e[a][h].unique})):d.push({cell:r[c],unique:e[a][h].unique})}s.push(d)}return s},_fnClone:function(e,i,s,r){var o,a,l,d,h,u,c,p,f,m=this,g=this.s.dt;if(r){for(t(e.header).remove(),e.header=t(this.dom.header).clone(!0,!1)[0],e.header.className+=" DTFC_Cloned",e.header.style.width="100%",i.head.appendChild(e.header),p=this._fnCopyLayout(g.aoHeader,s,!0),(d=t(">thead",e.header)).empty(),o=0,a=p.length;o<a;o++)d[0].appendChild(p[o].nTr);g.oApi._fnDrawHead(g,p,!0)}else for(p=this._fnCopyLayout(g.aoHeader,s,!1),f=[],g.oApi._fnDetectHeader(f,t(">thead",e.header)[0]),o=0,a=p.length;o<a;o++)for(l=0,d=p[o].length;l<d;l++)f[o][l].cell.className=p[o][l].cell.className,t("span.DataTables_sort_icon",f[o][l].cell).each(function(){this.className=t("span.DataTables_sort_icon",p[o][l].cell)[0].className});this._fnEqualiseHeights("thead",this.dom.header,e.header),"auto"==this.s.sHeightMatch&&t(">tbody>tr",m.dom.body).css("height","auto"),null!==e.body&&(t(e.body).remove(),e.body=null),e.body=t(this.dom.body).clone(!0)[0],e.body.className+=" DTFC_Cloned",e.body.style.paddingBottom=g.oScroll.iBarWidth+"px",e.body.style.marginBottom=2*g.oScroll.iBarWidth+"px",null!==e.body.getAttribute("id")&&e.body.removeAttribute("id"),t(">thead>tr",e.body).empty(),t(">tfoot",e.body).remove();var b=t("tbody",e.body)[0];if(t(b).empty(),0<g.aiDisplay.length){for(a=t(">thead>tr",e.body)[0],c=0;c<s.length;c++)h=s[c],(u=t(g.aoColumns[h].nTh).clone(!0)[0]).innerHTML="",(d=u.style).paddingTop="0",d.paddingBottom="0",d.borderTopWidth="0",d.borderBottomWidth="0",d.height=0,d.width=m.s.aiInnerWidths[h]+"px",a.appendChild(u);t(">tbody>tr",m.dom.body).each(function(e){e=!1===m.s.dt.oFeatures.bServerSide?m.s.dt.aiDisplay[m.s.dt._iDisplayStart+e]:e;var i=m.s.dt.aoData[e].anCells||t(this).children("td, th"),n=this.cloneNode(!1);for(n.removeAttribute("id"),n.setAttribute("data-dt-row",e),c=0;c<s.length;c++)h=s[c],i.length>0&&((u=t(i[h]).clone(!0,!0)[0]).removeAttribute("id"),u.setAttribute("data-dt-row",e),u.setAttribute("data-dt-column",g.oApi._fnVisibleToColumnIndex(g,h)),n.appendChild(u));b.appendChild(n)})}else t(">tbody>tr",m.dom.body).each(function(){(u=this.cloneNode(!0)).className=u.className+" DTFC_NoData",t("td",u).html(""),b.appendChild(u)});if(e.body.style.width="100%",e.body.style.margin="0",e.body.style.padding="0",g.oScroller!==n&&(a=g.oScroller.dom.force,i.forcer?i.forcer.style.height=a.style.height:(i.forcer=a.cloneNode(!0),i.liner.appendChild(i.forcer))),i.liner.appendChild(e.body),this._fnEqualiseHeights("tbody",m.dom.body,e.body),null!==g.nTFoot){if(r){for(null!==e.footer&&e.footer.parentNode.removeChild(e.footer),e.footer=t(this.dom.footer).clone(!0,!0)[0],e.footer.className+=" DTFC_Cloned",e.footer.style.width="100%",i.foot.appendChild(e.footer),p=this._fnCopyLayout(g.aoFooter,s,!0),(i=t(">tfoot",e.footer)).empty(),o=0,a=p.length;o<a;o++)i[0].appendChild(p[o].nTr);g.oApi._fnDrawHead(g,p,!0)}else for(p=this._fnCopyLayout(g.aoFooter,s,!1),i=[],g.oApi._fnDetectHeader(i,t(">tfoot",e.footer)[0]),o=0,a=p.length;o<a;o++)for(l=0,d=p[o].length;l<d;l++)i[o][l].cell.className=p[o][l].cell.className;this._fnEqualiseHeights("tfoot",this.dom.footer,e.footer)}i=g.oApi._fnGetUniqueThs(g,t(">thead",e.header)[0]),t(i).each(function(t){h=s[t],this.style.width=m.s.aiInnerWidths[h]+"px"}),null!==m.s.dt.nTFoot&&(i=g.oApi._fnGetUniqueThs(g,t(">tfoot",e.footer)[0]),t(i).each(function(t){h=s[t],this.style.width=m.s.aiInnerWidths[h]+"px"}))},_fnGetTrNodes:function(t){for(var e=[],i=0,n=t.childNodes.length;i<n;i++)"TR"==t.childNodes[i].nodeName.toUpperCase()&&e.push(t.childNodes[i]);return e},_fnEqualiseHeights:function(e,i,n){if("none"!=this.s.sHeightMatch||"thead"===e||"tfoot"===e){var s,r,o=i.getElementsByTagName(e)[0];n=n.getElementsByTagName(e)[0];(e=t(">"+e+">tr:eq(0)",i).children(":first")).outerHeight(),e.height();o=this._fnGetTrNodes(o),i=this._fnGetTrNodes(n);var a=[];for(n=0,e=i.length;n<e;n++)s=o[n].offsetHeight,s=(r=i[n].offsetHeight)>s?r:s,"semiauto"==this.s.sHeightMatch&&(o[n]._DTTC_iHeight=s),a.push(s);for(n=0,e=i.length;n<e;n++)i[n].style.height=a[n]+"px",o[n].style.height=a[n]+"px"}},_firefoxScrollError:function(){if(s===n){var e=t("<div/>").css({position:"absolute",top:0,left:0,height:10,width:50,overflow:"scroll"}).appendTo("body");s=e[0].clientWidth===e[0].offsetWidth&&0!==this._fnDTOverflow().bar,e.remove()}return s}}),o.defaults={iLeftColumns:1,iRightColumns:0,fnDrawCallback:null,sHeightMatch:"semiauto"},o.version="3.2.4",r.Api.register("fixedColumns()",function(){return this}),r.Api.register("fixedColumns().update()",function(){return this.iterator("table",function(t){t._oFixedColumns&&t._oFixedColumns.fnUpdate()})}),r.Api.register("fixedColumns().relayout()",function(){return this.iterator("table",function(t){t._oFixedColumns&&t._oFixedColumns.fnRedrawLayout()})}),r.Api.register("rows().recalcHeight()",function(){return this.iterator("row",function(t,e){t._oFixedColumns&&t._oFixedColumns.fnRecalculateHeight(this.row(e).node())})}),r.Api.register("fixedColumns().rowIndex()",function(e){return(e=t(e)).parents(".DTFC_Cloned").length?this.rows({page:"current"}).indexes()[e.index()]:this.row(e).index()}),r.Api.register("fixedColumns().cellIndex()",function(e){if((e=t(e)).parents(".DTFC_Cloned").length){var i=e.parent().index();i=this.rows({page:"current"}).indexes()[i],e=e.parents(".DTFC_LeftWrapper").length?e.index():this.columns().flatten().length-this.context[0]._oFixedColumns.s.iRightColumns+e.index();return{row:i,column:this.column.index("toData",e),columnVisible:e}}return this.cell(e).index()}),t(i).on("init.dt.fixedColumns",function(e,i){if("dt"===e.namespace){var n=i.oInit.fixedColumns,s=r.defaults.fixedColumns;(n||s)&&(s=t.extend({},n,s),!1!==n&&new o(i,s))}}),t.fn.dataTable.FixedColumns=o,t.fn.DataTable.FixedColumns=o}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){var s=t.fn.dataTable,r=0,o=function(i,n){if(!(this instanceof o))throw"FixedHeader must be initialised with the 'new' keyword.";!0===n&&(n={}),i=new s.Api(i),this.c=t.extend(!0,{},o.defaults,n),this.s={dt:i,position:{theadTop:0,tbodyTop:0,tfootTop:0,tfootBottom:0,width:0,left:0,tfootHeight:0,theadHeight:0,windowHeight:t(e).height(),visible:!0},headerMode:null,footerMode:null,autoWidth:i.settings()[0].oFeatures.bAutoWidth,namespace:".dtfc"+r++,scrollLeft:{header:-1,footer:-1},enable:!0},this.dom={floatingHeader:null,thead:t(i.table().header()),tbody:t(i.table().body()),tfoot:t(i.table().footer()),header:{host:null,floating:null,placeholder:null},footer:{host:null,floating:null,placeholder:null}},this.dom.header.host=this.dom.thead.parent(),this.dom.footer.host=this.dom.tfoot.parent();var a=i.settings()[0];if(a._fixedHeader)throw"FixedHeader already initialised on table "+a.nTable.id;a._fixedHeader=this,this._constructor()};return t.extend(o.prototype,{enable:function(t){this.s.enable=t,this.c.header&&this._modeChange("in-place","header",!0),this.c.footer&&this.dom.tfoot.length&&this._modeChange("in-place","footer",!0),this.update()},headerOffset:function(t){return t!==n&&(this.c.headerOffset=t,this.update()),this.c.headerOffset},footerOffset:function(t){return t!==n&&(this.c.footerOffset=t,this.update()),this.c.footerOffset},update:function(){this._positions(),this._scroll(!0)},_constructor:function(){var i=this,n=this.s.dt;t(e).on("scroll"+this.s.namespace,function(){i._scroll()}).on("resize"+this.s.namespace,function(){i.s.position.windowHeight=t(e).height(),i.update()});var s=t(".fh-fixedHeader");!this.c.headerOffset&&s.length&&(this.c.headerOffset=s.outerHeight()),s=t(".fh-fixedFooter"),!this.c.footerOffset&&s.length&&(this.c.footerOffset=s.outerHeight()),n.on("column-reorder.dt.dtfc column-visibility.dt.dtfc draw.dt.dtfc column-sizing.dt.dtfc",function(){i.update()}),n.on("destroy.dtfc",function(){n.off(".dtfc"),t(e).off(i.s.namespace)}),this._positions(),this._scroll()},_clone:function(e,i){var n=this.s.dt,s=this.dom[e],r="header"===e?this.dom.thead:this.dom.tfoot;!i&&s.floating?s.floating.removeClass("fixedHeader-floating fixedHeader-locked"):(s.floating&&(s.placeholder.remove(),this._unsize(e),s.floating.children().detach(),s.floating.remove()),s.floating=t(n.table().node().cloneNode(!1)).css("table-layout","fixed").removeAttr("id").append(r).appendTo("body"),s.placeholder=r.clone(!1),s.placeholder.find("*[id]").removeAttr("id"),s.host.prepend(s.placeholder),this._matchWidths(s.placeholder,s.floating))},_matchWidths:function(e,i){var n=function(e,n){t(e,i).each(function(e){t(this).css({width:n[e],minWidth:n[e]})})},s=(r=function(i){return t(i,e).map(function(){return t(this).width()}).toArray()})("th"),r=r("td");n("th",s),n("td",r)},_unsize:function(e){var i=this.dom[e].floating;i&&("footer"===e||"header"===e&&!this.s.autoWidth)?t("th, td",i).css({width:"",minWidth:""}):i&&"header"===e&&t("th, td",i).css("min-width","")},_horizontal:function(t,e){var i=this.dom[t],n=this.s.position,s=this.s.scrollLeft;i.floating&&s[t]!==e&&(i.floating.css("left",n.left-e),s[t]=e)},_modeChange:function(e,n,s){var r=this.dom[n],o=this.s.position,a=t.contains(this.dom["footer"===n?"tfoot":"thead"][0],i.activeElement)?i.activeElement:null;"in-place"===e?(r.placeholder&&(r.placeholder.remove(),r.placeholder=null),this._unsize(n),"header"===n?r.host.prepend(this.dom.thead):r.host.append(this.dom.tfoot),r.floating&&(r.floating.remove(),r.floating=null)):"in"===e?(this._clone(n,s),r.floating.addClass("fixedHeader-floating").css("header"===n?"top":"bottom",this.c[n+"Offset"]).css("left",o.left+"px").css("width",o.width+"px"),"footer"===n&&r.floating.css("top","")):"below"===e?(this._clone(n,s),r.floating.addClass("fixedHeader-locked").css("top",o.tfootTop-o.theadHeight).css("left",o.left+"px").css("width",o.width+"px")):"above"===e&&(this._clone(n,s),r.floating.addClass("fixedHeader-locked").css("top",o.tbodyTop).css("left",o.left+"px").css("width",o.width+"px")),a&&a!==i.activeElement&&a.focus(),this.s.scrollLeft.header=-1,this.s.scrollLeft.footer=-1,this.s[n+"Mode"]=e},_positions:function(){var e=this.s.dt.table(),i=this.s.position,n=this.dom,s=(e=t(e.node())).children("thead"),r=e.children("tfoot");n=n.tbody;i.visible=e.is(":visible"),i.width=e.outerWidth(),i.left=e.offset().left,i.theadTop=s.offset().top,i.tbodyTop=n.offset().top,i.theadHeight=i.tbodyTop-i.theadTop,r.length?(i.tfootTop=r.offset().top,i.tfootBottom=i.tfootTop+r.outerHeight(),i.tfootHeight=i.tfootBottom-i.tfootTop):(i.tfootTop=i.tbodyTop+n.outerHeight(),i.tfootBottom=i.tfootTop,i.tfootHeight=i.tfootTop)},_scroll:function(e){var n,s=t(i).scrollTop(),r=t(i).scrollLeft(),o=this.s.position;this.s.enable&&(this.c.header&&(n=!o.visible||s<=o.theadTop-this.c.headerOffset?"in-place":s<=o.tfootTop-o.theadHeight-this.c.headerOffset?"in":"below",(e||n!==this.s.headerMode)&&this._modeChange(n,"header",e),this._horizontal("header",r)),this.c.footer&&this.dom.tfoot.length)&&(s=!o.visible||s+o.windowHeight>=o.tfootBottom+this.c.footerOffset?"in-place":o.windowHeight+s>o.tbodyTop+o.tfootHeight+this.c.footerOffset?"in":"above",(e||s!==this.s.footerMode)&&this._modeChange(s,"footer",e),this._horizontal("footer",r))}}),o.version="3.1.3",o.defaults={header:!0,footer:!1,headerOffset:0,footerOffset:0},t.fn.dataTable.FixedHeader=o,t.fn.DataTable.FixedHeader=o,t(i).on("init.dt.dtfh",function(e,i){if("dt"===e.namespace){var n=i.oInit.fixedHeader,r=s.defaults.fixedHeader;!n&&!r||i._fixedHeader||(r=t.extend({},r,n),!1!==n&&new o(i,r))}}),s.Api.register("fixedHeader()",function(){}),s.Api.register("fixedHeader.adjust()",function(){return this.iterator("table",function(t){(t=t._fixedHeader)&&t.update()})}),s.Api.register("fixedHeader.enable()",function(t){return this.iterator("table",function(e){e=e._fixedHeader,t=t===n||t,e&&t!==e.s.enable&&e.enable(t)})}),s.Api.register("fixedHeader.disable()",function(){return this.iterator("table",function(t){(t=t._fixedHeader)&&t.s.enable&&t.enable(!1)})}),t.each(["header","footer"],function(t,e){s.Api.register("fixedHeader."+e+"Offset()",function(t){var i=this.context;return t===n?i.length&&i[0]._fixedHeader?i[0]._fixedHeader[e+"Offset"]():n:this.iterator("table",function(i){(i=i._fixedHeader)&&i[e+"Offset"](t)})})}),o}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){function s(t,e,i){var s=e+"-"+i;if(a[s]){t=t.cell(e,i).node(),e=[];for(var r=0,o=(i=a[s][0].parentNode.childNodes).length;r<o;r++)e.push(i[r]);for(i=0,r=e.length;i<r;i++)t.appendChild(e[i]);a[s]=n}}var r=t.fn.dataTable,o=function(e,i){if(!r.versionCheck||!r.versionCheck("1.10.10"))throw"DataTables Responsive requires DataTables 1.10.10 or newer";this.s={dt:new r.Api(e),columns:[],current:[]},this.s.dt.settings()[0].responsive||(i&&"string"==typeof i.details?i.details={type:i.details}:i&&!1===i.details?i.details={type:!1}:i&&!0===i.details&&(i.details={type:"inline"}),this.c=t.extend(!0,{},o.defaults,r.defaults.responsive,i),e.responsive=this,this._constructor())};t.extend(o.prototype,{_constructor:function(){var i=this,n=this.s.dt,s=n.settings()[0],o=t(e).width();n.settings()[0]._responsive=this,t(e).on("resize.dtr orientationchange.dtr",r.util.throttle(function(){var n=t(e).width();n!==o&&(i._resize(),o=n)})),s.oApi._fnCallbackReg(s,"aoRowCreatedCallback",function(e){-1!==t.inArray(!1,i.s.current)&&t(">td, >th",e).each(function(e){e=n.column.index("toData",e),!1===i.s.current[e]&&t(this).css("display","none")})}),n.on("destroy.dtr",function(){n.off(".dtr"),t(n.table().body()).off(".dtr"),t(e).off("resize.dtr orientationchange.dtr"),t.each(i.s.current,function(t,e){!1===e&&i._setColumnVis(t,!0)})}),this.c.breakpoints.sort(function(t,e){return t.width<e.width?1:t.width>e.width?-1:0}),this._classLogic(),this._resizeAuto(),!1!==(s=this.c.details).type&&(i._detailsInit(),n.on("column-visibility.dtr",function(t,e,n,s,r){r&&(i._classLogic(),i._resizeAuto(),i._resize())}),n.on("draw.dtr",function(){i._redrawChildren()}),t(n.table().node()).addClass("dtr-"+s.type)),n.on("column-reorder.dtr",function(){i._classLogic(),i._resizeAuto(),i._resize()}),n.on("column-sizing.dtr",function(){i._resizeAuto(),i._resize()}),n.on("preXhr.dtr",function(){var t=[];n.rows().every(function(){this.child.isShown()&&t.push(this.id(!0))}),n.one("draw.dtr",function(){i._resizeAuto(),i._resize(),n.rows(t).every(function(){i._detailsDisplay(this,!1)})})}),n.on("init.dtr",function(){i._resizeAuto(),i._resize(),t.inArray(!1,i.s.current)&&n.columns.adjust()}),this._resize()},_columnsVisiblity:function(e){var i,n,s=this.s.dt,r=this.s.columns,o=r.map(function(t,e){return{columnIdx:e,priority:t.priority}}).sort(function(t,e){return t.priority!==e.priority?t.priority-e.priority:t.columnIdx-e.columnIdx}),a=t.map(r,function(i){return(!i.auto||null!==i.minWidth)&&(!0===i.auto?"-":-1!==t.inArray(e,i.includeIn))}),l=0;for(i=0,n=a.length;i<n;i++)!0===a[i]&&(l+=r[i].minWidth);for(i=(i=s.settings()[0].oScroll).sY||i.sX?i.iBarWidth:0,s=s.table().container().offsetWidth-i-l,i=0,n=a.length;i<n;i++)r[i].control&&(s-=r[i].minWidth);for(l=!1,i=0,n=o.length;i<n;i++){var d=o[i].columnIdx;"-"===a[d]&&!r[d].control&&r[d].minWidth&&(l||0>s-r[d].minWidth?(l=!0,a[d]=!1):a[d]=!0,s-=r[d].minWidth)}for(o=!1,i=0,n=r.length;i<n;i++)if(!r[i].control&&!r[i].never&&!a[i]){o=!0;break}for(i=0,n=r.length;i<n;i++)r[i].control&&(a[i]=o);return-1===t.inArray(!0,a)&&(a[0]=!0),a},_classLogic:function(){var e=this,i=this.c.breakpoints,s=this.s.dt,r=s.columns().eq(0).map(function(e){var i=this.column(e),r=i.header().className;return(e=s.settings()[0].aoColumns[e].responsivePriority)===n&&(e=(i=t(i.header()).data("priority"))!==n?1*i:1e4),{className:r,includeIn:[],auto:!1,control:!1,never:!!r.match(/\bnever\b/),priority:e}}),o=function(e,i){var n=r[e].includeIn;-1===t.inArray(i,n)&&n.push(i)},a=function(t,n,s,a){if(s){if("max-"===s)for(a=e._find(n).width,n=0,s=i.length;n<s;n++)i[n].width<=a&&o(t,i[n].name);else if("min-"===s)for(a=e._find(n).width,n=0,s=i.length;n<s;n++)i[n].width>=a&&o(t,i[n].name);else if("not-"===s)for(n=0,s=i.length;n<s;n++)-1===i[n].name.indexOf(a)&&o(t,i[n].name)}else r[t].includeIn.push(n)};r.each(function(e,n){for(var s=e.className.split(" "),r=!1,o=0,l=s.length;o<l;o++){var d=t.trim(s[o]);if("all"===d)return r=!0,void(e.includeIn=t.map(i,function(t){return t.name}));if("none"===d||e.never)return void(r=!0);if("control"===d)return r=!0,void(e.control=!0);t.each(i,function(t,e){var i=e.name.split("-"),s=d.match(RegExp("(min\\-|max\\-|not\\-)?("+i[0]+")(\\-[_a-zA-Z0-9])?"));s&&(r=!0,s[2]===i[0]&&s[3]==="-"+i[1]?a(n,e.name,s[1],s[2]+s[3]):s[2]===i[0]&&!s[3]&&a(n,e.name,s[1],s[2]))})}r||(e.auto=!0)}),this.s.columns=r},_detailsDisplay:function(e,i){var n=this,s=this.s.dt,r=this.c.details;if(r&&!1!==r.type){var o=r.display(e,i,function(){return r.renderer(s,e[0],n._detailsObj(e[0]))});(!0===o||!1===o)&&t(s.table().node()).triggerHandler("responsive-display.dt",[s,e,o,i])}},_detailsInit:function(){var e=this,i=this.s.dt,n=this.c.details;"inline"===n.type&&(n.target="td:first-child, th:first-child"),i.on("draw.dtr",function(){e._tabIndexes()}),e._tabIndexes(),t(i.table().body()).on("keyup.dtr","td, th",function(e){13===e.keyCode&&t(this).data("dtr-keyboard")&&t(this).click()});var s=n.target;t(i.table().body()).on("click.dtr mousedown.dtr mouseup.dtr","string"==typeof s?s:"td, th",function(n){if(t(i.table().node()).hasClass("collapsed")&&-1!==t.inArray(t(this).closest("tr").get(0),i.rows().nodes().toArray())){if("number"==typeof s){var r=s<0?i.columns().eq(0).length+s:s;if(i.cell(this).index().column!==r)return}r=i.row(t(this).closest("tr")),"click"===n.type?e._detailsDisplay(r,!1):"mousedown"===n.type?t(this).css("outline","none"):"mouseup"===n.type&&t(this).blur().css("outline","")}})},_detailsObj:function(e){var i=this,n=this.s.dt;return t.map(this.s.columns,function(t,s){if(!t.never&&!t.control)return{title:n.settings()[0].aoColumns[s].sTitle,data:n.cell(e,s).render(i.c.orthogonal),hidden:n.column(s).visible()&&!i.s.current[s],columnIndex:s,rowIndex:e}})},_find:function(t){for(var e=this.c.breakpoints,i=0,n=e.length;i<n;i++)if(e[i].name===t)return e[i]},_redrawChildren:function(){var t=this,e=this.s.dt;e.rows({page:"current"}).iterator("row",function(i,n){e.row(n),t._detailsDisplay(e.row(n),!0)})},_resize:function(){var i,n=this,s=this.s.dt,r=t(e).width(),o=this.c.breakpoints,a=o[0].name,l=this.s.columns,d=this.s.current.slice();for(i=o.length-1;0<=i;i--)if(r<=o[i].width){a=o[i].name;break}var h=this._columnsVisiblity(a);for(this.s.current=h,o=!1,i=0,r=l.length;i<r;i++)if(!1===h[i]&&!l[i].never&&!l[i].control){o=!0;break}t(s.table().node()).toggleClass("collapsed",o);var u=!1,c=0;s.columns().eq(0).each(function(t,e){!0===h[e]&&c++,h[e]!==d[e]&&(u=!0,n._setColumnVis(t,h[e]))}),u&&(this._redrawChildren(),t(s.table().node()).trigger("responsive-resize.dt",[s,this.s.current]),0===s.page.info().recordsDisplay&&t("td",s.table().body()).eq(0).attr("colspan",c))},_resizeAuto:function(){var e=this.s.dt,i=this.s.columns;if(this.c.auto&&-1!==t.inArray(!0,t.map(i,function(t){return t.auto}))){t.isEmptyObject(a)||t.each(a,function(t){t=t.split("-"),s(e,1*t[0],1*t[1])}),e.table().node();var n=e.table().node().cloneNode(!1),r=t(e.table().header().cloneNode(!1)).appendTo(n),o=t(e.table().body()).clone(!1,!1).empty().appendTo(n),l=e.columns().header().filter(function(t){return e.column(t).visible()}).to$().clone(!1).css("display","table-cell").css("min-width",0);if(t(o).append(t(e.rows({page:"current"}).nodes()).clone(!1)).find("th, td").css("display",""),o=e.table().footer()){o=t(o.cloneNode(!1)).appendTo(n);var d=e.columns().footer().filter(function(t){return e.column(t).visible()}).to$().clone(!1).css("display","table-cell");t("<tr/>").append(d).appendTo(o)}t("<tr/>").append(l).appendTo(r),"inline"===this.c.details.type&&t(n).addClass("dtr-inline collapsed"),t(n).find("[name]").removeAttr("name"),(n=t("<div/>").css({width:1,height:1,overflow:"hidden",clear:"both"}).append(n)).insertBefore(e.table().node()),l.each(function(t){t=e.column.index("fromVisible",t),i[t].minWidth=this.offsetWidth||0}),n.remove()}},_setColumnVis:function(e,i){var n=this.s.dt,r=i?"":"none";t(n.column(e).header()).css("display",r),t(n.column(e).footer()).css("display",r),n.column(e).nodes().to$().css("display",r),t.isEmptyObject(a)||n.cells(null,e).indexes().each(function(t){s(n,t.row,t.column)})},_tabIndexes:function(){var e=this.s.dt,i=e.cells({page:"current"}).nodes().to$(),n=e.settings()[0],s=this.c.details.target;i.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]"),"td:first-child, th:first-child"===(i="number"==typeof s?":eq("+s+")":s)&&(i=">td:first-child, >th:first-child"),t(i,e.rows({page:"current"}).nodes()).attr("tabIndex",n.iTabIndex).data("dtr-keyboard",1)}}),o.breakpoints=[{name:"desktop",width:1/0},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}],o.display={childRow:function(e,i,n){return i?t(e.node()).hasClass("parent")?(e.child(n(),"child").show(),!0):void 0:e.child.isShown()?(e.child(!1),t(e.node()).removeClass("parent"),!1):(e.child(n(),"child").show(),t(e.node()).addClass("parent"),!0)},childRowImmediate:function(e,i,n){return!i&&e.child.isShown()||!e.responsive.hasHidden()?(e.child(!1),t(e.node()).removeClass("parent"),!1):(e.child(n(),"child").show(),t(e.node()).addClass("parent"),!0)},modal:function(e){return function(n,s,r){if(s)t("div.dtr-modal-content").empty().append(r());else{var o=function(){a.remove(),t(i).off("keypress.dtr")},a=t('<div class="dtr-modal"/>').append(t('<div class="dtr-modal-display"/>').append(t('<div class="dtr-modal-content"/>').append(r())).append(t('<div class="dtr-modal-close">&times;</div>').click(function(){o()}))).append(t('<div class="dtr-modal-background"/>').click(function(){o()})).appendTo("body");t(i).on("keyup.dtr",function(t){27===t.keyCode&&(t.stopPropagation(),o())})}e&&e.header&&t("div.dtr-modal-content").prepend("<h2>"+e.header(n)+"</h2>")}}};var a={};o.renderer={listHiddenNodes:function(){return function(e,i,n){var s=t('<ul data-dtr-index="'+i+'" class="dtr-details"/>'),r=!1;return t.each(n,function(i,n){n.hidden&&(t('<li data-dtr-index="'+n.columnIndex+'" data-dt-row="'+n.rowIndex+'" data-dt-column="'+n.columnIndex+'"><span class="dtr-title">'+n.title+"</span> </li>").append(t('<span class="dtr-data"/>').append(function(t,e,i){var n=e+"-"+i;if(a[n])return a[n];var s=[];for(t=t.cell(e,i).node().childNodes,e=0,i=t.length;e<i;e++)s.push(t[e]);return a[n]=s}(e,n.rowIndex,n.columnIndex))).appendTo(s),r=!0)}),!!r&&s}},listHidden:function(){return function(e,i,n){return!!(e=t.map(n,function(t){return t.hidden?'<li data-dtr-index="'+t.columnIndex+'" data-dt-row="'+t.rowIndex+'" data-dt-column="'+t.columnIndex+'"><span class="dtr-title">'+t.title+'</span> <span class="dtr-data">'+t.data+"</span></li>":""}).join(""))&&t('<ul data-dtr-index="'+i+'" class="dtr-details"/>').append(e)}},tableAll:function(e){return e=t.extend({tableClass:""},e),function(i,n,s){return i=t.map(s,function(t){return'<tr data-dt-row="'+t.rowIndex+'" data-dt-column="'+t.columnIndex+'"><td>'+t.title+":</td> <td>"+t.data+"</td></tr>"}).join(""),t('<table class="'+e.tableClass+' dtr-details" width="100%"/>').append(i)}}},o.defaults={breakpoints:o.breakpoints,auto:!0,details:{display:o.display.childRow,renderer:o.renderer.listHidden(),target:0,type:"inline"},orthogonal:"display"};var l=t.fn.dataTable.Api;return l.register("responsive()",function(){return this}),l.register("responsive.index()",function(e){return{column:(e=t(e)).data("dtr-index"),row:e.parent().data("dtr-index")}}),l.register("responsive.rebuild()",function(){return this.iterator("table",function(t){t._responsive&&t._responsive._classLogic()})}),l.register("responsive.recalc()",function(){return this.iterator("table",function(t){t._responsive&&(t._responsive._resizeAuto(),t._responsive._resize())})}),l.register("responsive.hasHidden()",function(){var e=this.context[0];return!!e._responsive&&-1!==t.inArray(!1,e._responsive.s.current)}),l.registerPlural("columns().responsiveHidden()","column().responsiveHidden()",function(){return this.iterator("column",function(t,e){return!!t._responsive&&t._responsive.s.current[e]},1)}),o.version="2.2.1",t.fn.dataTable.Responsive=o,t.fn.DataTable.Responsive=o,t(i).on("preInit.dt.dtr",function(e,i){if("dt"===e.namespace&&(t(i.nTable).hasClass("responsive")||t(i.nTable).hasClass("dt-responsive")||i.oInit.responsive||r.defaults.responsive)){var n=i.oInit.responsive;!1!==n&&new o(i,t.isPlainObject(n)?n:{})}}),o}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net-bs","datatables.net-responsive"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net-bs")(e,i).$),i.fn.dataTable.Responsive||require("datatables.net-responsive")(e,i),t(i,e.document)}:t(jQuery,window,document)}(function(t){var e=t.fn.dataTable,i=e.Responsive.display,n=i.modal,s=t('<div class="modal fade dtr-bs-modal" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body"/></div></div></div>');return i.modal=function(e){return function(i,r,o){if(t.fn.modal){if(!r){if(e&&e.header){var a=(r=s.find("div.modal-header")).find("button").detach();r.empty().append('<h4 class="modal-title">'+e.header(i)+"</h4>").prepend(a)}s.find("div.modal-body").empty().append(o()),s.appendTo("body").modal()}}else n(i,r,o)}},e.Responsive}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){var s=t.fn.dataTable,r=function(e,i){if(!s.versionCheck||!s.versionCheck("1.10.8"))throw"RowGroup requires DataTables 1.10.8 or newer";this.c=t.extend(!0,{},s.defaults.rowGroup,r.defaults,i),this.s={dt:new s.Api(e),dataFn:s.ext.oApi._fnGetObjectDataFn(this.c.dataSrc)},this.dom={};var n=this.s.dt.settings()[0],o=n.rowGroup;if(o)return o;n.rowGroup=this,this._constructor()};return t.extend(r.prototype,{dataSrc:function(e){if(e===n)return this.c.dataSrc;var i=this.s.dt;return this.c.dataSrc=e,this.s.dataFn=s.ext.oApi._fnGetObjectDataFn(this.c.dataSrc),t(i.table().node()).triggerHandler("rowgroup-datasrc.dt",[i,e]),this},disable:function(){return this.c.enable=!1,this},enable:function(t){return!1===t?this.disable():(this.c.enable=!0,this)},_constructor:function(){var t=this,e=this.s.dt;e.on("draw.dtrg",function(){t.c.enable&&t._draw()}),e.on("column-visibility.dt.dtrg responsive-resize.dt.dtrg",function(){t._adjustColspan()}),e.on("destroy",function(){e.off(".dtrg")})},_adjustColspan:function(){t("tr."+this.c.className,this.s.dt.table().body()).attr("colspan",this._colspan())},_colspan:function(){return this.s.dt.columns().visible().reduce(function(t,e){return t+e},0)},_draw:function(){var t,e,i=this,s=this.s.dt,r=[];s.rows({page:"current"}).every(function(){var e=this.data();e=i.s.dataFn(e);t!==n&&e===t||(r.push([]),t=e),r[r.length-1].push(this.index())});for(var o=0,a=r.length;o<a;o++){var l=r[o],d=s.row(l[0]),h=this.s.dataFn(d.data());this.c.startRender&&(e=this.c.startRender.call(this,s.rows(l),h),this._rowWrap(e,this.c.startClassName).insertBefore(d.node())),this.c.endRender&&(e=this.c.endRender.call(this,s.rows(l),h),this._rowWrap(e,this.c.endClassName).insertAfter(s.row(l[l.length-1]).node()))}},_rowWrap:function(e,i){return("object"==typeof e&&e.nodeName&&"tr"===e.nodeName.toLowerCase()?t(e):e instanceof t&&e.length&&"tr"===e[0].nodeName.toLowerCase()?e:t("<tr/>").append(t("<td/>").attr("colspan",this._colspan()).append(e))).addClass(this.c.className).addClass(i)}}),r.defaults={className:"group",dataSrc:0,enable:!0,endClassName:"group-end",endRender:null,startClassName:"group-start",startRender:function(t,e){return e}},r.version="1.0.2",t.fn.dataTable.RowGroup=r,t.fn.DataTable.RowGroup=r,s.Api.register("rowGroup()",function(){return this}),s.Api.register("rowGroup().disable()",function(){return this.iterator("table",function(t){t.rowGroup&&t.rowGroup.enable(!1)})}),s.Api.register("rowGroup().enable()",function(t){return this.iterator("table",function(e){e.rowGroup&&e.rowGroup.enable(t===n||t)})}),s.Api.register("rowGroup().dataSrc()",function(t){return t===n?this.context[0].rowGroup.dataSrc():this.iterator("table",function(e){e.rowGroup&&e.rowGroup.dataSrc(t)})}),t(i).on("preInit.dt.dtrg",function(e,i){if("dt"===e.namespace){var n=i.oInit.rowGroup,o=s.defaults.rowGroup;(n||o)&&(o=t.extend({},o,n),!1!==n&&new r(i,o))}}),r}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){var s=t.fn.dataTable,r=function(e,i){if(!s.versionCheck||!s.versionCheck("1.10.8"))throw"DataTables RowReorder requires DataTables 1.10.8 or newer";this.c=t.extend(!0,{},s.defaults.rowReorder,r.defaults,i),this.s={bodyTop:null,dt:new s.Api(e),getDataFn:s.ext.oApi._fnGetObjectDataFn(this.c.dataSrc),middles:null,scroll:{},scrollInterval:null,setDataFn:s.ext.oApi._fnSetObjectDataFn(this.c.dataSrc),start:{top:0,left:0,offsetTop:0,offsetLeft:0,nodes:[]},windowHeight:0,documentOuterHeight:0,domCloneOuterHeight:0},this.dom={clone:null,dtScroll:t("div.dataTables_scrollBody",this.s.dt.table().container())};var n=this.s.dt.settings()[0],o=n.rowreorder;if(o)return o;n.rowreorder=this,this._constructor()};t.extend(r.prototype,{_constructor:function(){var e=this,i=this.s.dt,n=t(i.table().node());"static"===n.css("position")&&n.css("position","relative"),t(i.table().container()).on("mousedown.rowReorder touchstart.rowReorder",this.c.selector,function(n){if(e.c.enable){var s=t(this).closest("tr"),r=i.row(s);if(r.any())return e._emitEvent("pre-row-reorder",{node:r.node(),index:r.index()}),e._mouseDown(n,s),!1}}),i.on("destroy.rowReorder",function(){t(i.table().container()).off(".rowReorder"),i.off(".rowReorder")})},_cachePositions:function(){var n=this.s.dt,s=t(n.table().node()).find("thead").outerHeight(),r=t.unique(n.rows({page:"current"}).nodes().toArray()),o=t.map(r,function(e){return t(e).position().top-s});r=t.map(o,function(e,i){return o.length<i-1?(e+o[i+1])/2:(e+e+t(n.row(":last-child").node()).outerHeight())/2});this.s.middles=r,this.s.bodyTop=t(n.table().body()).offset().top,this.s.windowHeight=t(e).height(),this.s.documentOuterHeight=t(i).outerHeight()},_clone:function(e){var i=t(this.s.dt.table().node().cloneNode(!1)).addClass("dt-rowReorder-float").append("<tbody/>").append(e.clone(!1)),n=e.outerWidth(),s=e.outerHeight(),r=e.children().map(function(){return t(this).width()});i.width(n).height(s).find("tr").children().each(function(t){this.style.width=r[t]+"px"}),i.appendTo("body"),this.dom.clone=i,this.s.domCloneOuterHeight=i.outerHeight()},_clonePosition:function(t){var e=this.s.start,i=this._eventToPage(t,"Y")-e.top,n=(t=this._eventToPage(t,"X")-e.left,this.c.snapX);i+=e.offsetTop,e=!0===n?e.offsetLeft:"number"==typeof n?e.offsetLeft+n:t+e.offsetLeft;0>i?i=0:i+this.s.domCloneOuterHeight>this.s.documentOuterHeight&&(i=this.s.documentOuterHeight-this.s.domCloneOuterHeight),this.dom.clone.css({top:i,left:e})},_emitEvent:function(e,i){this.s.dt.iterator("table",function(n){t(n.nTable).triggerHandler(e+".dt",i)})},_eventToPage:function(t,e){return-1!==t.type.indexOf("touch")?t.originalEvent.touches[0]["page"+e]:t["page"+e]},_mouseDown:function(n,s){var r=this,o=this.s.dt,a=this.s.start,l=s.offset();a.top=this._eventToPage(n,"Y"),a.left=this._eventToPage(n,"X"),a.offsetTop=l.top,a.offsetLeft=l.left,a.nodes=t.unique(o.rows({page:"current"}).nodes().toArray()),this._cachePositions(),this._clone(s),this._clonePosition(n),this.dom.target=s,s.addClass("dt-rowReorder-moving"),t(i).on("mouseup.rowReorder touchend.rowReorder",function(t){r._mouseUp(t)}).on("mousemove.rowReorder touchmove.rowReorder",function(t){r._mouseMove(t)}),t(e).width()===t(i).width()&&t(i.body).addClass("dt-rowReorder-noOverflow"),o=this.dom.dtScroll,this.s.scroll={windowHeight:t(e).height(),windowWidth:t(e).width(),dtTop:o.length?o.offset().top:null,dtLeft:o.length?o.offset().left:null,dtHeight:o.length?o.outerHeight():null,dtWidth:o.length?o.outerWidth():null}},_mouseMove:function(e){this._clonePosition(e);for(var i=this._eventToPage(e,"Y")-this.s.bodyTop,n=this.s.middles,s=null,r=this.s.dt,o=r.table().body(),a=0,l=n.length;a<l;a++)if(i<n[a]){s=a;break}null===s&&(s=n.length),null!==this.s.lastInsert&&this.s.lastInsert===s||(0===s?this.dom.target.prependTo(o):(i=t.unique(r.rows({page:"current"}).nodes().toArray()),s>this.s.lastInsert?this.dom.target.insertAfter(i[s-1]):this.dom.target.insertBefore(i[s])),this._cachePositions(),this.s.lastInsert=s),this._shiftScroll(e)},_mouseUp:function(){var e,n,s=this,r=this.s.dt,o=this.c.dataSrc;this.dom.clone.remove(),this.dom.clone=null,this.dom.target.removeClass("dt-rowReorder-moving"),t(i).off(".rowReorder"),t(i.body).removeClass("dt-rowReorder-noOverflow"),clearInterval(this.s.scrollInterval),this.s.scrollInterval=null;var a=this.s.start.nodes,l=t.unique(r.rows({page:"current"}).nodes().toArray()),d={},h=[],u=[],c=this.s.getDataFn,p=this.s.setDataFn;for(e=0,n=a.length;e<n;e++)if(a[e]!==l[e]){var f=r.row(l[e]).id(),m=r.row(l[e]).data(),g=r.row(a[e]).data();f&&(d[f]=c(g)),h.push({node:l[e],oldData:c(m),newData:c(g),newPosition:e,oldPosition:t.inArray(l[e],a)}),u.push(l[e])}var b=[h,{dataSrc:o,nodes:u,values:d,triggerRow:r.row(this.dom.target)}];this._emitEvent("row-reorder",b);var y=function(){if(s.c.update){for(e=0,n=h.length;e<n;e++){var t=r.row(h[e].node).data();p(t,h[e].newData),r.columns().every(function(){this.dataSrc()===o&&r.cell(h[e].node,this.index()).invalidate("data")})}s._emitEvent("row-reordered",b),r.draw(!1)}};this.c.editor?(this.c.enable=!1,this.c.editor.edit(u,!1,t.extend({submit:"changed"},this.c.formOptions)).multiSet(o,d).one("submitUnsuccessful.rowReorder",function(){r.draw(!1)}).one("submitSuccess.rowReorder",function(){y()}).one("submitComplete",function(){s.c.enable=!0,s.c.editor.off(".rowReorder")}).submit()):y()},_shiftScroll:function(t){var e,n,s=this,r=this.s.scroll,o=!1,a=t.pageY-i.body.scrollTop;65>a?e=-5:a>r.windowHeight-65&&(e=5),null!==r.dtTop&&t.pageY<r.dtTop+65?n=-5:null!==r.dtTop&&t.pageY>r.dtTop+r.dtHeight-65&&(n=5),e||n?(r.windowVert=e,r.dtVert=n,o=!0):this.s.scrollInterval&&(clearInterval(this.s.scrollInterval),this.s.scrollInterval=null),!this.s.scrollInterval&&o&&(this.s.scrollInterval=setInterval(function(){if(r.windowVert&&(i.body.scrollTop=i.body.scrollTop+r.windowVert),r.dtVert){var t=s.dom.dtScroll[0];r.dtVert&&(t.scrollTop=t.scrollTop+r.dtVert)}},20))}}),r.defaults={dataSrc:0,editor:null,enable:!0,formOptions:{},selector:"td:first-child",snapX:!1,update:!0};var o=t.fn.dataTable.Api;return o.register("rowReorder()",function(){return this}),o.register("rowReorder.enable()",function(t){return t===n&&(t=!0),this.iterator("table",function(e){e.rowreorder&&(e.rowreorder.c.enable=t)})}),o.register("rowReorder.disable()",function(){return this.iterator("table",function(t){t.rowreorder&&(t.rowreorder.c.enable=!1)})}),r.version="1.2.3",t.fn.dataTable.RowReorder=r,t.fn.DataTable.RowReorder=r,t(i).on("init.dt.dtr",function(e,i){if("dt"===e.namespace){var n=i.oInit.rowReorder,o=s.defaults.rowReorder;(n||o)&&(o=t.extend({},n,o),!1!==n&&new r(i,o))}}),r}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,i){return e||(e=window),i&&i.fn.dataTable||(i=require("datatables.net")(e,i).$),t(i,e,e.document)}:t(jQuery,window,document)}(function(t,e,i,n){var s=t.fn.dataTable,r=function(e,s){this instanceof r?(s===n&&(s={}),this.s={dt:t.fn.dataTable.Api(e).settings()[0],tableTop:0,tableBottom:0,redrawTop:0,redrawBottom:0,autoHeight:!0,viewportRows:0,stateTO:null,drawTO:null,heights:{jump:null,page:null,virtual:null,scroll:null,row:null,viewport:null},topRowFloat:0,scrollDrawDiff:null,loaderVisible:!1,forceReposition:!1},this.s=t.extend(this.s,r.oDefaults,s),this.s.heights.row=this.s.rowHeight,this.dom={force:i.createElement("div"),scroller:null,table:null,loader:null},this.s.dt.oScroller||(this.s.dt.oScroller=this,this._fnConstruct())):alert("Scroller warning: Scroller must be initialised with the 'new' keyword.")};t.extend(r.prototype,{fnRowToPixels:function(t,e,i){return t=i?this._domain("virtualToPhysical",t*this.s.heights.row):this.s.baseScrollTop+(t-this.s.baseRowTop)*this.s.heights.row,e||e===n?parseInt(t,10):t},fnPixelsToRow:function(t,e,i){var s=t-this.s.baseScrollTop;t=i?this._domain("physicalToVirtual",t)/this.s.heights.row:s/this.s.heights.row+this.s.baseRowTop;return e||e===n?parseInt(t,10):t},fnScrollToRow:function(e,i){var n=this,s=!1,r=this.fnRowToPixels(e),o=e-(this.s.displayBuffer-1)/2*this.s.viewportRows;0>o&&(o=0),(r>this.s.redrawBottom||r<this.s.redrawTop)&&this.s.dt._iDisplayStart!==o&&(s=!0,r=this.fnRowToPixels(e,!1,!0),this.s.redrawTop<r&&r<this.s.redrawBottom&&(this.s.forceReposition=!0,i=!1)),void 0===i||i?(this.s.ani=s,t(this.dom.scroller).animate({scrollTop:r},function(){setTimeout(function(){n.s.ani=!1},25)})):t(this.dom.scroller).scrollTop(r)},fnMeasure:function(e){this.s.autoHeight&&this._fnCalcRowHeight();var s=this.s.heights;s.row&&(s.viewport=t.contains(i,this.dom.scroller)?t(this.dom.scroller).height():this._parseHeight(t(this.dom.scroller).css("height")),s.viewport||(s.viewport=this._parseHeight(t(this.dom.scroller).css("max-height"))),this.s.viewportRows=parseInt(s.viewport/s.row,10)+1,this.s.dt._iDisplayLength=this.s.viewportRows*this.s.displayBuffer),(e===n||e)&&this.s.dt.oInstance.fnDraw(!1)},fnPageInfo:function(){var t=this.dom.scroller.scrollTop,e=this.s.dt.fnRecordsDisplay(),i=Math.ceil(this.fnPixelsToRow(t+this.s.heights.viewport,!1,this.s.ani));return{start:Math.floor(this.fnPixelsToRow(t,!1,this.s.ani)),end:e<i?e-1:i-1}},_fnConstruct:function(){var i=this;if(this.s.dt.oFeatures.bPaginate){this.dom.force.style.position="relative",this.dom.force.style.top="0px",this.dom.force.style.left="0px",this.dom.force.style.width="1px",this.dom.scroller=t("div."+this.s.dt.oClasses.sScrollBody,this.s.dt.nTableWrapper)[0],this.dom.scroller.appendChild(this.dom.force),this.dom.scroller.style.position="relative",this.dom.table=t(">table",this.dom.scroller)[0],this.dom.table.style.position="absolute",this.dom.table.style.top="0px",this.dom.table.style.left="0px",t(this.s.dt.nTableWrapper).addClass("DTS"),this.s.loadingIndicator&&(this.dom.loader=t('<div class="dataTables_processing DTS_Loading">'+this.s.dt.oLanguage.sLoadingRecords+"</div>").css("display","none"),t(this.dom.scroller.parentNode).css("position","relative").append(this.dom.loader)),this.s.heights.row&&"auto"!=this.s.heights.row&&(this.s.autoHeight=!1),this.fnMeasure(!1),this.s.ingnoreScroll=!0,this.s.stateSaveThrottle=this.s.dt.oApi._fnThrottle(function(){i.s.dt.oApi._fnSaveState(i.s.dt)},500),t(this.dom.scroller).on("scroll.DTS",function(){i._fnScroll.call(i)}),t(this.dom.scroller).on("touchstart.DTS",function(){i._fnScroll.call(i)}),this.s.dt.aoDrawCallback.push({fn:function(){i.s.dt.bInitialised&&i._fnDrawCallback.call(i)},sName:"Scroller"}),t(e).on("resize.DTS",function(){i.fnMeasure(!1),i._fnInfo()});var n=!0;this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(t,e){n&&i.s.dt.oLoadedState?(e.iScroller=i.s.dt.oLoadedState.iScroller,e.iScrollerTopRow=i.s.dt.oLoadedState.iScrollerTopRow,n=!1):(e.iScroller=i.dom.scroller.scrollTop,e.iScrollerTopRow=i.s.topRowFloat)},"Scroller_State"),this.s.dt.oLoadedState&&(this.s.topRowFloat=this.s.dt.oLoadedState.iScrollerTopRow||0),t(this.s.dt.nTable).one("init.dt",function(){i.fnMeasure()}),this.s.dt.aoDestroyCallback.push({sName:"Scroller",fn:function(){t(e).off("resize.DTS"),t(i.dom.scroller).off("touchstart.DTS scroll.DTS"),t(i.s.dt.nTableWrapper).removeClass("DTS"),t("div.DTS_Loading",i.dom.scroller.parentNode).remove(),t(i.s.dt.nTable).off("init.dt"),i.dom.table.style.position="",i.dom.table.style.top="",i.dom.table.style.left=""}})}else this.s.dt.oApi._fnLog(this.s.dt,0,"Pagination must be enabled for Scroller")},_fnScroll:function(){var e,i=this,n=this.s.heights,s=this.dom.scroller.scrollTop;if(!this.s.skip&&!this.s.ingnoreScroll)if(this.s.dt.bFiltered||this.s.dt.bSorted)this.s.lastScrollTop=0;else{if(this._fnInfo(),clearTimeout(this.s.stateTO),this.s.stateTO=setTimeout(function(){i.s.dt.oApi._fnSaveState(i.s.dt)},250),this.s.forceReposition||s<this.s.redrawTop||s>this.s.redrawBottom){var r=Math.ceil((this.s.displayBuffer-1)/2*this.s.viewportRows);Math.abs(s-this.s.lastScrollTop)>n.viewport||this.s.ani||this.s.forceReposition?(e=parseInt(this._domain("physicalToVirtual",s)/n.row,10)-r,this.s.topRowFloat=this._domain("physicalToVirtual",s)/n.row):(e=this.fnPixelsToRow(s)-r,this.s.topRowFloat=this.fnPixelsToRow(s,!1)),this.s.forceReposition=!1,0>=e?e=0:e+this.s.dt._iDisplayLength>this.s.dt.fnRecordsDisplay()?0>(e=this.s.dt.fnRecordsDisplay()-this.s.dt._iDisplayLength)&&(e=0):0!=e%2&&e++,e!=this.s.dt._iDisplayStart&&(this.s.tableTop=t(this.s.dt.nTable).offset().top,this.s.tableBottom=t(this.s.dt.nTable).height()+this.s.tableTop,n=function(){null===i.s.scrollDrawReq&&(i.s.scrollDrawReq=s),i.s.dt._iDisplayStart=e,i.s.dt.oApi._fnDraw(i.s.dt)},this.s.dt.oFeatures.bServerSide?(clearTimeout(this.s.drawTO),this.s.drawTO=setTimeout(n,this.s.serverWait)):n(),this.dom.loader&&!this.s.loaderVisible)&&(this.dom.loader.css("display","block"),this.s.loaderVisible=!0)}else this.s.topRowFloat=this._domain("physicalToVirtual",s)/n.row;this.s.lastScrollTop=s,this.s.stateSaveThrottle()}},_domain:function(t,e){var i,n=this.s.heights;if(n.virtual===n.scroll)return e;var s=(n.scroll-n.viewport)/2,r=(n.virtual-n.viewport)/2;return i=r/(s*s),"virtualToPhysical"===t?e<r?Math.pow(e/i,.5):0>(e=2*r-e)?n.scroll:2*s-Math.pow(e/i,.5):"physicalToVirtual"===t?e<s?e*e*i:0>(e=2*s-e)?n.virtual:2*r-e*e*i:void 0},_parseHeight:function(i){var n,s=/^([+-]?(?:\d+(?:\.\d+)?|\.\d+))(px|em|rem|vh)$/.exec(i);return null===s?0:(i=parseFloat(s[1]),"px"===(s=s[2])?n=i:"vh"===s?n=i/100*t(e).height():"rem"===s?n=i*parseFloat(t(":root").css("font-size")):"em"===s&&(n=i*parseFloat(t("body").css("font-size"))),n||0)},_fnDrawCallback:function(){var e=this,i=this.s.heights,n=this.dom.scroller.scrollTop,s=t(this.s.dt.nTable).height(),r=this.s.dt._iDisplayStart,o=this.s.dt._iDisplayLength,a=this.s.dt.fnRecordsDisplay();this.s.skip=!0,this._fnScrollForce(),n=0===r?this.s.topRowFloat*i.row:r+o>=a?i.scroll-(a-this.s.topRowFloat)*i.row:this._domain("virtualToPhysical",this.s.topRowFloat*i.row),this.dom.scroller.scrollTop=n,this.s.baseScrollTop=n,this.s.baseRowTop=this.s.topRowFloat;var l=n-(this.s.topRowFloat-r)*i.row;0===r?l=0:r+o>=a&&(l=i.scroll-s),this.dom.table.style.top=l+"px",this.s.tableTop=l,this.s.tableBottom=s+this.s.tableTop,s=(n-this.s.tableTop)*this.s.boundaryScale,this.s.redrawTop=n-s,this.s.redrawBottom=n+s>i.scroll-i.viewport-i.row?i.scroll-i.viewport-i.row:n+s,this.s.skip=!1,this.s.dt.oFeatures.bStateSave&&null!==this.s.dt.oLoadedState&&void 0!==this.s.dt.oLoadedState.iScroller?((n=!(!this.s.dt.sAjaxSource&&!e.s.dt.ajax||this.s.dt.oFeatures.bServerSide))&&2==this.s.dt.iDraw||!n&&1==this.s.dt.iDraw)&&setTimeout(function(){t(e.dom.scroller).scrollTop(e.s.dt.oLoadedState.iScroller),e.s.redrawTop=e.s.dt.oLoadedState.iScroller-i.viewport/2,setTimeout(function(){e.s.ingnoreScroll=!1},0)},0):e.s.ingnoreScroll=!1,this.s.dt.oFeatures.bInfo&&setTimeout(function(){e._fnInfo.call(e)},0),this.dom.loader&&this.s.loaderVisible&&(this.dom.loader.css("display","none"),this.s.loaderVisible=!1)},_fnScrollForce:function(){var t=this.s.heights;t.virtual=t.row*this.s.dt.fnRecordsDisplay(),t.scroll=t.virtual,1e6<t.scroll&&(t.scroll=1e6),this.dom.force.style.height=t.scroll>this.s.heights.row?t.scroll+"px":this.s.heights.row+"px"},_fnCalcRowHeight:function(){var e=this.s.dt,i=e.nTable,n=i.cloneNode(!1),s=t("<tbody/>").appendTo(n),r=t('<div class="'+e.oClasses.sWrapper+' DTS"><div class="'+e.oClasses.sScrollWrapper+'"><div class="'+e.oClasses.sScrollBody+'"></div></div></div>');for(t("tbody tr:lt(4)",i).clone().appendTo(s);3>t("tr",s).length;)s.append("<tr><td>&nbsp;</td></tr>");t("div."+e.oClasses.sScrollBody,r).append(n),e=this.s.dt.nHolding||i.parentNode,t(e).is(":visible")||(e="body"),r.appendTo(e),this.s.heights.row=t("tr",s).eq(1).outerHeight(),r.remove()},_fnInfo:function(){if(this.s.dt.oFeatures.bInfo){var e=this.s.dt,i=e.oLanguage,n=this.dom.scroller.scrollTop,s=Math.floor(this.fnPixelsToRow(n,!1,this.s.ani)+1),r=e.fnRecordsTotal(),o=e.fnRecordsDisplay(),a=(n=o<(n=Math.ceil(this.fnPixelsToRow(n+this.s.heights.viewport,!1,this.s.ani)))?o:n,e.fnFormatNumber(s)),l=e.fnFormatNumber(n),d=e.fnFormatNumber(r),h=e.fnFormatNumber(o);a=0===e.fnRecordsDisplay()&&e.fnRecordsDisplay()==e.fnRecordsTotal()?i.sInfoEmpty+i.sInfoPostFix:0===e.fnRecordsDisplay()?i.sInfoEmpty+" "+i.sInfoFiltered.replace("_MAX_",d)+i.sInfoPostFix:e.fnRecordsDisplay()==e.fnRecordsTotal()?i.sInfo.replace("_START_",a).replace("_END_",l).replace("_MAX_",d).replace("_TOTAL_",h)+i.sInfoPostFix:i.sInfo.replace("_START_",a).replace("_END_",l).replace("_MAX_",d).replace("_TOTAL_",h)+" "+i.sInfoFiltered.replace("_MAX_",e.fnFormatNumber(e.fnRecordsTotal()))+i.sInfoPostFix;if((i=i.fnInfoCallback)&&(a=i.call(e.oInstance,e,s,n,r,o,a)),void 0!==(s=e.aanFeatures.i))for(r=0,o=s.length;r<o;r++)t(s[r]).html(a);t(e.nTable).triggerHandler("info.dt")}}}),r.defaults={trace:!1,rowHeight:"auto",serverWait:200,displayBuffer:9,boundaryScale:.5,loadingIndicator:!1},r.oDefaults=r.defaults,r.version="1.4.4","function"==typeof t.fn.dataTable&&"function"==typeof t.fn.dataTableExt.fnVersionCheck&&t.fn.dataTableExt.fnVersionCheck("1.10.0")?t.fn.dataTableExt.aoFeatures.push({fnInit:function(t){var e=t.oInit;new r(t,e.scroller||e.oScroller||{})},cFeature:"S",sFeature:"Scroller"}):alert("Warning: Scroller requires DataTables 1.10.0 or greater - www.datatables.net/download"),t(i).on("preInit.dt.dtscroller",function(e,i){if("dt"===e.namespace){var n=i.oInit.scroller,o=s.defaults.scroller;(n||o)&&(o=t.extend({},n,o),!1!==n&&new r(i,o))}}),t.fn.dataTable.Scroller=r,t.fn.DataTable.Scroller=r;var o=t.fn.dataTable.Api;return o.register("scroller()",function(){return this}),o.register("scroller().rowToPixels()",function(t,e,i){var n=this.context;if(n.length&&n[0].oScroller)return n[0].oScroller.fnRowToPixels(t,e,i)}),o.register("scroller().pixelsToRow()",function(t,e,i){var n=this.context;if(n.length&&n[0].oScroller)return n[0].oScroller.fnPixelsToRow(t,e,i)}),o.register("scroller().scrollToRow()",function(t,e){return this.iterator("table",function(i){i.oScroller&&i.oScroller.fnScrollToRow(t,e)}),this}),o.register("row().scrollTo()",function(t){var e=this;return this.iterator("row",function(i,n){if(i.oScroller){var s=e.rows({order:"applied",search:"applied"}).indexes().indexOf(n);i.oScroller.fnScrollToRow(s,t)}}),this}),o.register("scroller.measure()",function(t){return this.iterator("table",function(e){e.oScroller&&e.oScroller.fnMeasure(t)}),this}),o.register("scroller.page()",function(){var t=this.context;if(t.length&&t[0].oScroller)return t[0].oScroller.fnPageInfo()}),r}),function(){var t,e,i;e=!1,i=/xyz/.test(function(){window.postMessage("xyz")})?/\b_super\b/:/.*/,(t=function(){}).extend=function t(n){function s(){!e&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;e=!0;var o=new this;for(var a in e=!1,n)o[a]="function"==typeof n[a]&&"function"==typeof r[a]&&i.test(n[a])?function(t,e){return function(){var i=this._super;this._super=r[t];var n=e.apply(this,arguments);return this._super=i,n}}(a,n[a]):n[a];return s.prototype=o,s.prototype.constructor=s,s.extend=t,s},function(){function t(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),i}t.prototype=window.Event.prototype,window.CustomEvent=t}(),function(){for(var t=0,e=["ms","moz","webkit","o"],i=0;i<e.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[e[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[i]+"CancelAnimationFrame"]||window[e[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,i){var n=(new Date).getTime(),s=Math.max(0,16-(n-t)),r=window.setTimeout(function(){e(n+s)},s);return t=n+s,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)})}(),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var n=function(t){var e,i,s,r;for(i=1;i<arguments.length;i++)for(s in e=arguments[i])e.hasOwnProperty(s)&&(!e[s]||("object"!=typeof(r=e[s])||r.nodeType||null!==r&&r===r.window||r.constructor&&!Object.prototype.hasOwnProperty.call(r.constructor.prototype,"isPrototypeOf"))?t[s]=e[s]:(t.hasOwnProperty(s)||(t[s]={}),n(t[s],e[s])));return t},s=function(t,e){var i;if(t&&"object"==typeof t)if(Array.isArray(t)||"number"==typeof t.length&&t.length>0&&t.length-1 in t){for(i=0;i<t.length;i++)if(!1===e(i,t[i]))return}else if(Object.keys){var n=Object.keys(t);for(i=0;i<n.length;i++)if(!1===e(n[i],t[n[i]]))return}else for(i in t)if(t.hasOwnProperty(i)&&!1===e(i,t[i]))return},r=function(t,e){var i=document.createEvent("HTMLEvents");i.initEvent(e,!0,!0),t.dispatchEvent(i)},o=function(t,e){if(!(t instanceof Element))throw new Error("element should be an instance of Element");e=n({},o.defaults.options,e||{}),this.element=t,this.options=e,this.init()};o.prototype={constructor:o,init:function(){var t=this;this.ready=!1;var e=o.defaults.themes[this.options.theme||o.defaults.theme];if(!e)throw"Unknown theme "+(this.options.theme||o.defaults.theme);this.schema=this.options.schema,this.theme=new e,this.template=this.options.template,this.refs=this.options.refs||{},this.uuid=0,this.__data={};var i=o.defaults.iconlibs[this.options.iconlib||o.defaults.iconlib];i&&(this.iconlib=new i),this.root_container=this.theme.getContainer(),this.element.appendChild(this.root_container),this.translate=this.options.translate||o.defaults.translate,this._loadExternalRefs(this.schema,function(){t._getDefinitions(t.schema);var e={};t.options.custom_validators&&(e.custom_validators=t.options.custom_validators),t.validator=new o.Validator(t,null,e);var i=t.getEditorClass(t.schema);t.root=t.createEditor(i,{jsoneditor:t,schema:t.schema,required:!0,container:t.root_container}),t.root.preBuild(),t.root.build(),t.root.postBuild(),t.options.startval&&t.root.setValue(t.options.startval),t.validation_results=t.validator.validate(t.root.getValue()),t.root.showValidationErrors(t.validation_results),t.ready=!0,window.requestAnimationFrame(function(){t.ready&&(t.validation_results=t.validator.validate(t.root.getValue()),t.root.showValidationErrors(t.validation_results),t.trigger("ready"),t.trigger("change"))})})},getValue:function(){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before getting the value";return this.root.getValue()},setValue:function(t){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before setting the value";return this.root.setValue(t),this},validate:function(t){if(!this.ready)throw"JSON Editor not ready yet.  Listen for 'ready' event before validating";return 1===arguments.length?this.validator.validate(t):this.validation_results},destroy:function(){this.destroyed||this.ready&&(this.schema=null,this.options=null,this.root.destroy(),this.root=null,this.root_container=null,this.validator=null,this.validation_results=null,this.theme=null,this.iconlib=null,this.template=null,this.__data=null,this.ready=!1,this.element.innerHTML="",this.destroyed=!0)},on:function(t,e){return this.callbacks=this.callbacks||{},this.callbacks[t]=this.callbacks[t]||[],this.callbacks[t].push(e),this},off:function(t,e){if(t&&e){this.callbacks=this.callbacks||{},this.callbacks[t]=this.callbacks[t]||[];for(var i=[],n=0;n<this.callbacks[t].length;n++)this.callbacks[t][n]!==e&&i.push(this.callbacks[t][n]);this.callbacks[t]=i}else t?(this.callbacks=this.callbacks||{},this.callbacks[t]=[]):this.callbacks={};return this},trigger:function(t){if(this.callbacks&&this.callbacks[t]&&this.callbacks[t].length)for(var e=0;e<this.callbacks[t].length;e++)this.callbacks[t][e]();return this},setOption:function(t,e){if("show_errors"!==t)throw"Option "+t+" must be set during instantiation and cannot be changed later";return this.options.show_errors=e,this.onChange(),this},getEditorClass:function(t){var e;if(t=this.expandSchema(t),s(o.defaults.resolvers,function(i,n){var s=n(t);if(s&&o.defaults.editors[s])return e=s,!1}),!e)throw"Unknown editor for schema "+JSON.stringify(t);if(!o.defaults.editors[e])throw"Unknown editor "+e;return o.defaults.editors[e]},createEditor:function(t,e){return new t(e=n({},t.options||{},e))},onChange:function(){if(this.ready&&!this.firing_change){this.firing_change=!0;var t=this;return window.requestAnimationFrame(function(){t.firing_change=!1,t.ready&&(t.validation_results=t.validator.validate(t.root.getValue()),"never"!==t.options.show_errors?t.root.showValidationErrors(t.validation_results):t.root.showValidationErrors([]),t.trigger("change"))}),this}},compileTemplate:function(t,e){var i;if("string"==typeof(e=e||o.defaults.template)){if(!o.defaults.templates[e])throw"Unknown template engine "+e;if(!(i=o.defaults.templates[e]()))throw"Template engine "+e+" missing required library."}else i=e;if(!i)throw"No template engine set";if(!i.compile)throw"Invalid template engine set";return i.compile(t)},_data:function(t,e,i){if(3!==arguments.length)return t.hasAttribute("data-jsoneditor-"+e)?this.__data[t.getAttribute("data-jsoneditor-"+e)]:null;var n;t.hasAttribute("data-jsoneditor-"+e)?n=t.getAttribute("data-jsoneditor-"+e):(n=this.uuid++,t.setAttribute("data-jsoneditor-"+e,n)),this.__data[n]=i},registerEditor:function(t){return this.editors=this.editors||{},this.editors[t.path]=t,this},unregisterEditor:function(t){return this.editors=this.editors||{},this.editors[t.path]=null,this},getEditor:function(t){if(this.editors)return this.editors[t]},watch:function(t,e){return this.watchlist=this.watchlist||{},this.watchlist[t]=this.watchlist[t]||[],this.watchlist[t].push(e),this},unwatch:function(t,e){if(!this.watchlist||!this.watchlist[t])return this;if(!e)return this.watchlist[t]=null,this;for(var i=[],n=0;n<this.watchlist[t].length;n++)this.watchlist[t][n]!==e&&i.push(this.watchlist[t][n]);return this.watchlist[t]=i.length?i:null,this},notifyWatchers:function(t){if(!this.watchlist||!this.watchlist[t])return this;for(var e=0;e<this.watchlist[t].length;e++)this.watchlist[t][e]()},isEnabled:function(){return!this.root||this.root.isEnabled()},enable:function(){this.root.enable()},disable:function(){this.root.disable()},_getDefinitions:function(t,e){if(e=e||"#/definitions/",t.definitions)for(var i in t.definitions)t.definitions.hasOwnProperty(i)&&(this.refs[e+i]=t.definitions[i],t.definitions[i].definitions&&this._getDefinitions(t.definitions[i],e+i+"/definitions/"))},_getExternalRefs:function(t){var e={},i=function(t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=!0)};for(var n in t.$ref&&"object"!=typeof t.$ref&&"#"!==t.$ref.substr(0,1)&&!this.refs[t.$ref]&&(e[t.$ref]=!0),t)if(t.hasOwnProperty(n))if(t[n]&&"object"==typeof t[n]&&Array.isArray(t[n]))for(var s=0;s<t[n].length;s++)"object"==typeof t[n][s]&&i(this._getExternalRefs(t[n][s]));else t[n]&&"object"==typeof t[n]&&i(this._getExternalRefs(t[n]));return e},_loadExternalRefs:function(t,e){var i=this,n=this._getExternalRefs(t),r=0,o=0,a=!1;s(n,function(t){if(!i.refs[t]){if(!i.options.ajax)throw"Must set ajax option to true to load external ref "+t;i.refs[t]="loading",o++;var n=new XMLHttpRequest;n.open("GET",t,!0),n.onreadystatechange=function(){if(4==n.readyState){if(200!==n.status)throw window.console.log(n),"Failed to fetch ref via ajax- "+t;var s;try{s=JSON.parse(n.responseText)}catch(e){throw window.console.log(e),"Failed to parse external ref "+t}if(!s||"object"!=typeof s)throw"External ref does not contain a valid schema - "+t;i.refs[t]=s,i._loadExternalRefs(s,function(){++r>=o&&!a&&(a=!0,e())})}},n.send()}}),o||e()},expandRefs:function(t){for(t=n({},t);t.$ref;){var e=t.$ref;delete t.$ref,this.refs[e]||(e=decodeURIComponent(e)),t=this.extendSchemas(t,this.refs[e])}return t},expandSchema:function(t){var e,i=this,r=n({},t);if("object"==typeof t.type&&(Array.isArray(t.type)?s(t.type,function(e,n){"object"==typeof n&&(t.type[e]=i.expandSchema(n))}):t.type=i.expandSchema(t.type)),"object"==typeof t.disallow&&(Array.isArray(t.disallow)?s(t.disallow,function(e,n){"object"==typeof n&&(t.disallow[e]=i.expandSchema(n))}):t.disallow=i.expandSchema(t.disallow)),t.anyOf&&s(t.anyOf,function(e,n){t.anyOf[e]=i.expandSchema(n)}),t.dependencies&&s(t.dependencies,function(e,n){"object"!=typeof n||Array.isArray(n)||(t.dependencies[e]=i.expandSchema(n))}),t.not&&(t.not=this.expandSchema(t.not)),t.allOf){for(e=0;e<t.allOf.length;e++)r=this.extendSchemas(r,this.expandSchema(t.allOf[e]));delete r.allOf}if(t.extends){if(Array.isArray(t.extends))for(e=0;e<t.extends.length;e++)r=this.extendSchemas(r,this.expandSchema(t.extends[e]));else r=this.extendSchemas(r,this.expandSchema(t.extends));delete r.extends}if(t.oneOf){var o=n({},r);for(delete o.oneOf,e=0;e<t.oneOf.length;e++)r.oneOf[e]=this.extendSchemas(this.expandSchema(t.oneOf[e]),o)}return this.expandRefs(r)},extendSchemas:function(t,e){t=n({},t),e=n({},e);var i=this,r={};return s(t,function(t,n){void 0!==e[t]?"required"!==t&&"defaultProperties"!==t||"object"!=typeof n||!Array.isArray(n)?"type"!==t||"string"!=typeof n&&!Array.isArray(n)?"object"==typeof n&&Array.isArray(n)?r[t]=n.filter(function(i){return-1!==e[t].indexOf(i)}):r[t]="object"==typeof n&&null!==n?i.extendSchemas(n,e[t]):n:("string"==typeof n&&(n=[n]),"string"==typeof e.type&&(e.type=[e.type]),e.type&&e.type.length?r.type=n.filter(function(t){return-1!==e.type.indexOf(t)}):r.type=n,1===r.type.length&&"string"==typeof r.type[0]?r.type=r.type[0]:0===r.type.length&&delete r.type):r[t]=n.concat(e[t]).reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[]):r[t]=n}),s(e,function(e,i){void 0===t[e]&&(r[e]=i)}),r}},o.defaults={themes:{},templates:{},iconlibs:{},editors:{},languages:{},resolvers:[],custom_validators:[]},o.Validator=t.extend({init:function(t,e,i){this.jsoneditor=t,this.schema=e||this.jsoneditor.schema,this.options=i||{},this.translate=this.jsoneditor.translate||o.defaults.translate},validate:function(t){return this._validateSchema(this.schema,t)},_validateSchema:function(t,e,i){var r,a,l,d=this,h=[],u=JSON.stringify(e);if(i=i||"root",(t=n({},this.jsoneditor.expandRefs(t))).required&&!0===t.required){if(void 0===e)return h.push({path:i,property:"required",message:this.translate("error_notset")}),h}else if(void 0===e){if(!this.jsoneditor.options.required_by_default)return h;h.push({path:i,property:"required",message:this.translate("error_notset")})}if(t.enum){for(r=!1,a=0;a<t.enum.length;a++)u===JSON.stringify(t.enum[a])&&(r=!0);r||h.push({path:i,property:"enum",message:this.translate("error_enum")})}if(t.extends)for(a=0;a<t.extends.length;a++)h=h.concat(this._validateSchema(t.extends[a],e,i));if(t.allOf)for(a=0;a<t.allOf.length;a++)h=h.concat(this._validateSchema(t.allOf[a],e,i));if(t.anyOf){for(r=!1,a=0;a<t.anyOf.length;a++)if(!this._validateSchema(t.anyOf[a],e,i).length){r=!0;break}r||h.push({path:i,property:"anyOf",message:this.translate("error_anyOf")})}if(t.oneOf){r=0;var c=[];for(a=0;a<t.oneOf.length;a++){var p=this._validateSchema(t.oneOf[a],e,i);for(p.length||r++,l=0;l<p.length;l++)p[l].path=i+".oneOf["+a+"]"+p[l].path.substr(i.length);c=c.concat(p)}1!==r&&(h.push({path:i,property:"oneOf",message:this.translate("error_oneOf",[r])}),h=h.concat(c))}if(t.not&&(this._validateSchema(t.not,e,i).length||h.push({path:i,property:"not",message:this.translate("error_not")})),t.type)if(Array.isArray(t.type)){for(r=!1,a=0;a<t.type.length;a++)if(this._checkType(t.type[a],e)){r=!0;break}r||h.push({path:i,property:"type",message:this.translate("error_type_union")})}else this._checkType(t.type,e)||h.push({path:i,property:"type",message:this.translate("error_type",[t.type])});if(t.disallow)if(Array.isArray(t.disallow)){for(r=!0,a=0;a<t.disallow.length;a++)if(this._checkType(t.disallow[a],e)){r=!1;break}r||h.push({path:i,property:"disallow",message:this.translate("error_disallow_union")})}else this._checkType(t.disallow,e)&&h.push({path:i,property:"disallow",message:this.translate("error_disallow",[t.disallow])});if("number"==typeof e){if(t.multipleOf||t.divisibleBy){var f=t.multipleOf||t.divisibleBy;r=e/f===Math.floor(e/f),window.math?r=window.math.mod(window.math.bignumber(e),window.math.bignumber(f)).equals(0):window.Decimal&&(r=new window.Decimal(e).mod(new window.Decimal(f)).equals(0)),r||h.push({path:i,property:t.multipleOf?"multipleOf":"divisibleBy",message:this.translate("error_multipleOf",[f])})}t.hasOwnProperty("maximum")&&(r=t.exclusiveMaximum?e<t.maximum:e<=t.maximum,window.math?r=window.math[t.exclusiveMaximum?"smaller":"smallerEq"](window.math.bignumber(e),window.math.bignumber(t.maximum)):window.Decimal&&(r=new window.Decimal(e)[t.exclusiveMaximum?"lt":"lte"](new window.Decimal(t.maximum))),r||h.push({path:i,property:"maximum",message:this.translate(t.exclusiveMaximum?"error_maximum_excl":"error_maximum_incl",[t.maximum])})),t.hasOwnProperty("minimum")&&(r=t.exclusiveMinimum?e>t.minimum:e>=t.minimum,window.math?r=window.math[t.exclusiveMinimum?"larger":"largerEq"](window.math.bignumber(e),window.math.bignumber(t.minimum)):window.Decimal&&(r=new window.Decimal(e)[t.exclusiveMinimum?"gt":"gte"](new window.Decimal(t.minimum))),r||h.push({path:i,property:"minimum",message:this.translate(t.exclusiveMinimum?"error_minimum_excl":"error_minimum_incl",[t.minimum])}))}else if("string"==typeof e)t.maxLength&&(e+"").length>t.maxLength&&h.push({path:i,property:"maxLength",message:this.translate("error_maxLength",[t.maxLength])}),t.minLength&&(e+"").length<t.minLength&&h.push({path:i,property:"minLength",message:this.translate(1===t.minLength?"error_notempty":"error_minLength",[t.minLength])}),t.pattern&&(new RegExp(t.pattern).test(e)||h.push({path:i,property:"pattern",message:this.translate("error_pattern",[t.pattern])}));else if("object"==typeof e&&null!==e&&Array.isArray(e)){if(t.items)if(Array.isArray(t.items))for(a=0;a<e.length;a++)if(t.items[a])h=h.concat(this._validateSchema(t.items[a],e[a],i+"."+a));else{if(!0===t.additionalItems)break;if(!t.additionalItems){if(!1===t.additionalItems){h.push({path:i,property:"additionalItems",message:this.translate("error_additionalItems")});break}break}h=h.concat(this._validateSchema(t.additionalItems,e[a],i+"."+a))}else for(a=0;a<e.length;a++)h=h.concat(this._validateSchema(t.items,e[a],i+"."+a));if(t.maxItems&&e.length>t.maxItems&&h.push({path:i,property:"maxItems",message:this.translate("error_maxItems",[t.maxItems])}),t.minItems&&e.length<t.minItems&&h.push({path:i,property:"minItems",message:this.translate("error_minItems",[t.minItems])}),t.uniqueItems){var m={};for(a=0;a<e.length;a++){if(m[r=JSON.stringify(e[a])]){h.push({path:i,property:"uniqueItems",message:this.translate("error_uniqueItems")});break}m[r]=!0}}}else if("object"==typeof e&&null!==e){if(t.maxProperties){for(a in r=0,e)e.hasOwnProperty(a)&&r++;r>t.maxProperties&&h.push({path:i,property:"maxProperties",message:this.translate("error_maxProperties",[t.maxProperties])})}if(t.minProperties){for(a in r=0,e)e.hasOwnProperty(a)&&r++;r<t.minProperties&&h.push({path:i,property:"minProperties",message:this.translate("error_minProperties",[t.minProperties])})}if(t.required&&Array.isArray(t.required))for(a=0;a<t.required.length;a++)void 0===e[t.required[a]]&&h.push({path:i,property:"required",message:this.translate("error_required",[t.required[a]])});var g={};if(t.properties)for(a in t.properties)t.properties.hasOwnProperty(a)&&(g[a]=!0,h=h.concat(this._validateSchema(t.properties[a],e[a],i+"."+a)));if(t.patternProperties)for(a in t.patternProperties)if(t.patternProperties.hasOwnProperty(a)){var b=new RegExp(a);for(l in e)e.hasOwnProperty(l)&&b.test(l)&&(g[l]=!0,h=h.concat(this._validateSchema(t.patternProperties[a],e[l],i+"."+l)))}if(void 0!==t.additionalProperties||!this.jsoneditor.options.no_additional_properties||t.oneOf||t.anyOf||(t.additionalProperties=!1),void 0!==t.additionalProperties)for(a in e)if(e.hasOwnProperty(a)&&!g[a]){if(!t.additionalProperties){h.push({path:i,property:"additionalProperties",message:this.translate("error_additional_properties",[a])});break}if(!0===t.additionalProperties)break;h=h.concat(this._validateSchema(t.additionalProperties,e[a],i+"."+a))}if(t.dependencies)for(a in t.dependencies)if(t.dependencies.hasOwnProperty(a)&&void 0!==e[a])if(Array.isArray(t.dependencies[a]))for(l=0;l<t.dependencies[a].length;l++)void 0===e[t.dependencies[a][l]]&&h.push({path:i,property:"dependencies",message:this.translate("error_dependency",[t.dependencies[a][l]])});else h=h.concat(this._validateSchema(t.dependencies[a],e,i))}return s(o.defaults.custom_validators,function(n,s){h=h.concat(s.call(d,t,e,i))}),this.options.custom_validators&&s(this.options.custom_validators,function(n,s){h=h.concat(s.call(d,t,e,i))}),h},_checkType:function(t,e){return"string"==typeof t?"string"===t?"string"==typeof e:"number"===t?"number"==typeof e:"integer"===t?"number"==typeof e&&e===Math.floor(e):"boolean"===t?"boolean"==typeof e:"array"===t?Array.isArray(e):"object"===t?null!==e&&!Array.isArray(e)&&"object"==typeof e:"null"!==t||null===e:!this._validateSchema(t,e).length}}),o.AbstractEditor=t.extend({onChildEditorChange:function(t){this.onChange(!0)},notify:function(){this.path&&this.jsoneditor.notifyWatchers(this.path)},change:function(){this.parent?this.parent.onChildEditorChange(this):this.jsoneditor&&this.jsoneditor.onChange()},onChange:function(t){this.notify(),this.watch_listener&&this.watch_listener(),t&&this.change()},register:function(){this.jsoneditor.registerEditor(this),this.onChange()},unregister:function(){this.jsoneditor&&this.jsoneditor.unregisterEditor(this)},getNumColumns:function(){return 12},init:function(t){this.jsoneditor=t.jsoneditor,this.theme=this.jsoneditor.theme,this.template_engine=this.jsoneditor.template,this.iconlib=this.jsoneditor.iconlib,this.translate=this.jsoneditor.translate||o.defaults.translate,this.original_schema=t.schema,this.schema=this.jsoneditor.expandSchema(this.original_schema),this.options=n({},this.options||{},t.schema.options||{},t),t.path||this.schema.id||(this.schema.id="root"),this.path=t.path||"root",this.formname=t.formname||this.path.replace(/\.([^.]+)/g,"[$1]"),this.jsoneditor.options.form_name_root&&(this.formname=this.formname.replace(/^root\[/,this.jsoneditor.options.form_name_root+"[")),this.key=this.path.split(".").pop(),this.parent=t.parent,this.link_watchers=[],t.container&&this.setContainer(t.container)},setContainer:function(t){this.container=t,this.schema.id&&this.container.setAttribute("data-schemaid",this.schema.id),this.schema.type&&"string"==typeof this.schema.type&&this.container.setAttribute("data-schematype",this.schema.type),this.container.setAttribute("data-schemapath",this.path)},preBuild:function(){},build:function(){},postBuild:function(){this.setupWatchListeners(),this.addLinks(),this.setValue(this.getDefault(),!0),this.updateHeaderText(),this.register(),this.onWatchedFieldChange()},setupWatchListeners:function(){var t,e,i,n,s,r=this;if(this.watched={},this.schema.vars&&(this.schema.watch=this.schema.vars),this.watched_values={},this.watch_listener=function(){r.refreshWatchedFieldValues()&&r.onWatchedFieldChange()},this.register(),this.schema.hasOwnProperty("watch"))for(var o in this.schema.watch)if(this.schema.watch.hasOwnProperty(o)){if(t=this.schema.watch[o],Array.isArray(t)){if(t.length<2)continue;e=[t[0]].concat(t[1].split("."))}else e=t.split("."),r.theme.closest(r.container,'[data-schemaid="'+e[0]+'"]')||e.unshift("#");if("#"===(i=e.shift())&&(i=r.jsoneditor.schema.id||"root"),!(n=r.theme.closest(r.container,'[data-schemaid="'+i+'"]')))throw"Could not find ancestor node with id "+i;s=n.getAttribute("data-schemapath")+"."+e.join("."),r.jsoneditor.watch(s,r.watch_listener),r.watched[o]=s}this.schema.headerTemplate&&(this.header_template=this.jsoneditor.compileTemplate(this.schema.headerTemplate,this.template_engine))},addLinks:function(){if(!this.no_link_holder&&(this.link_holder=this.theme.getLinksHolder(),this.container.appendChild(this.link_holder),this.schema.links))for(var t=0;t<this.schema.links.length;t++)this.addLink(this.getLink(this.schema.links[t]))},getButton:function(t,e,i){var n="json-editor-btn-"+e;!(e=this.iconlib?this.iconlib.getIcon(e):null)&&i&&(t=i,i=null);var s=this.theme.getButton(t,e,i);return s.className+=" "+n+" ",s},setButtonText:function(t,e,i,n){return!(i=this.iconlib?this.iconlib.getIcon(i):null)&&n&&(e=n,n=null),this.theme.setButtonText(t,e,i,n)},addLink:function(t){this.link_holder&&this.link_holder.appendChild(t)},getLink:function(t){var e,i,n=(t.mediaType||"application/javascript").split("/")[0],s=this.jsoneditor.compileTemplate(t.href,this.template_engine),r=null;if(t.download&&(r=t.download),r&&!0!==r&&(r=this.jsoneditor.compileTemplate(r,this.template_engine)),"image"===n){e=this.theme.getBlockLinkHolder(),(i=document.createElement("a")).setAttribute("target","_blank");var o=document.createElement("img");this.theme.createImageLink(e,i,o),this.link_watchers.push(function(e){var n=s(e);i.setAttribute("href",n),i.setAttribute("title",t.rel||n),o.setAttribute("src",n)})}else if(["audio","video"].indexOf(n)>=0){e=this.theme.getBlockLinkHolder(),(i=this.theme.getBlockLink()).setAttribute("target","_blank");var a=document.createElement(n);a.setAttribute("controls","controls"),this.theme.createMediaLink(e,i,a),this.link_watchers.push(function(e){var n=s(e);i.setAttribute("href",n),i.textContent=t.rel||n,a.setAttribute("src",n)})}else i=e=this.theme.getBlockLink(),e.setAttribute("target","_blank"),e.textContent=t.rel,this.link_watchers.push(function(i){var n=s(i);e.setAttribute("href",n),e.textContent=t.rel||n});return r&&i&&(!0===r?i.setAttribute("download",""):this.link_watchers.push(function(t){i.setAttribute("download",r(t))})),t.class&&(i.className=i.className+" "+t.class),e},refreshWatchedFieldValues:function(){if(this.watched_values){var t,e,i={},n=!1;if(this.watched)for(var s in this.watched)this.watched.hasOwnProperty(s)&&(t=(e=this.jsoneditor.getEditor(this.watched[s]))?e.getValue():null,this.watched_values[s]!==t&&(n=!0),i[s]=t);return i.self=this.getValue(),this.watched_values.self!==i.self&&(n=!0),this.watched_values=i,n}},getWatchedFieldValues:function(){return this.watched_values},updateHeaderText:function(){if(this.header)if(this.header.children.length){for(var t=0;t<this.header.childNodes.length;t++)if(3===this.header.childNodes[t].nodeType){this.header.childNodes[t].nodeValue=this.getHeaderText();break}}else this.header.textContent=this.getHeaderText()},getHeaderText:function(t){return this.header_text?this.header_text:t?this.schema.title:this.getTitle()},onWatchedFieldChange:function(){var t;if(this.header_template){t=n(this.getWatchedFieldValues(),{key:this.key,i:this.key,i0:1*this.key,i1:1*this.key+1,title:this.getTitle()});var e=this.header_template(t);e!==this.header_text&&(this.header_text=e,this.updateHeaderText(),this.notify())}if(this.link_watchers.length){t=this.getWatchedFieldValues();for(var i=0;i<this.link_watchers.length;i++)this.link_watchers[i](t)}},setValue:function(t){this.value=t},getValue:function(){return this.value},refreshValue:function(){},getChildEditors:function(){return!1},destroy:function(){var t=this;this.unregister(this),s(this.watched,function(e,i){t.jsoneditor.unwatch(i,t.watch_listener)}),this.watched=null,this.watched_values=null,this.watch_listener=null,this.header_text=null,this.header_template=null,this.value=null,this.container&&this.container.parentNode&&this.container.parentNode.removeChild(this.container),this.container=null,this.jsoneditor=null,this.schema=null,this.path=null,this.key=null,this.parent=null},getDefault:function(){if(this.schema.default)return this.schema.default;if(this.schema.enum)return this.schema.enum[0];var t=this.schema.type||this.schema.oneOf;if(t&&Array.isArray(t)&&(t=t[0]),t&&"object"==typeof t&&(t=t.type),t&&Array.isArray(t)&&(t=t[0]),"string"==typeof t){if("number"===t)return 0;if("boolean"===t)return!1;if("integer"===t)return 0;if("string"===t)return"";if("object"===t)return{};if("array"===t)return[]}return null},getTitle:function(){return this.schema.title||this.key},enable:function(){this.disabled=!1},disable:function(){this.disabled=!0},isEnabled:function(){return!this.disabled},isRequired:function(){return"boolean"==typeof this.schema.required?this.schema.required:this.parent&&this.parent.schema&&Array.isArray(this.parent.schema.required)?this.parent.schema.required.indexOf(this.key)>-1:!!this.jsoneditor.options.required_by_default},getDisplayText:function(t){var e=[],i={};s(t,function(t,e){e.title&&(i[e.title]=i[e.title]||0,i[e.title]++),e.description&&(i[e.description]=i[e.description]||0,i[e.description]++),e.format&&(i[e.format]=i[e.format]||0,i[e.format]++),e.type&&(i[e.type]=i[e.type]||0,i[e.type]++)}),s(t,function(t,n){var s;s="string"==typeof n?n:n.title&&i[n.title]<=1?n.title:n.format&&i[n.format]<=1?n.format:n.type&&i[n.type]<=1?n.type:n.description&&i[n.description]<=1?n.descripton:n.title?n.title:n.format?n.format:n.type?n.type:n.description?n.description:JSON.stringify(n).length<50?JSON.stringify(n):"type",e.push(s)});var n={};return s(e,function(t,s){n[s]=n[s]||0,n[s]++,i[s]>1&&(e[t]=s+" "+n[s])}),e},getOption:function(t){try{throw"getOption is deprecated"}catch(t){window.console.error(t)}return this.options[t]},showValidationErrors:function(t){}}),o.defaults.editors.null=o.AbstractEditor.extend({getValue:function(){return null},setValue:function(){this.onChange()},getNumColumns:function(){return 2}}),o.defaults.editors.string=o.AbstractEditor.extend({register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},setValue:function(t,e,i){if((!this.template||i)&&(null==t?t="":"object"==typeof t?t=JSON.stringify(t):"string"!=typeof t&&(t=""+t),t!==this.serialized)){var n=this.sanitize(t);if(this.input.value!==n){this.input.value=n,this.sceditor_instance?this.sceditor_instance.val(n):this.epiceditor?this.epiceditor.importFile(null,n):this.ace_editor&&this.ace_editor.setValue(n);var s=i||this.getValue()!==t;this.refreshValue(),e?this.is_dirty=!1:"change"===this.jsoneditor.options.show_errors&&(this.is_dirty=!0),this.adjust_height&&this.adjust_height(this.input),this.onChange(s)}}},getNumColumns:function(){var t,e=Math.ceil(Math.max(this.getTitle().length,this.schema.maxLength||0,this.schema.minLength||0)/5);return t="textarea"===this.input_type?6:["text","email"].indexOf(this.input_type)>=0?4:2,Math.min(12,Math.max(e,t))},build:function(){var t=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.format=this.schema.format,!this.format&&this.schema.media&&this.schema.media.type&&(this.format=this.schema.media.type.replace(/(^(application|text)\/(x-)?(script\.)?)|(-source$)/g,"")),!this.format&&this.options.default_format&&(this.format=this.options.default_format),this.options.format&&(this.format=this.options.format),this.format)if("textarea"===this.format)this.input_type="textarea",this.input=this.theme.getTextareaInput();else if("range"===this.format){this.input_type="range";var e=this.schema.minimum||0,i=this.schema.maximum||Math.max(100,e+1),n=1;this.schema.multipleOf&&(e%this.schema.multipleOf&&(e=Math.ceil(e/this.schema.multipleOf)*this.schema.multipleOf),i%this.schema.multipleOf&&(i=Math.floor(i/this.schema.multipleOf)*this.schema.multipleOf),n=this.schema.multipleOf),this.input=this.theme.getRangeInput(e,i,n)}else["actionscript","batchfile","bbcode","c","c++","cpp","coffee","csharp","css","dart","django","ejs","erlang","golang","groovy","handlebars","haskell","haxe","html","ini","jade","java","javascript","json","less","lisp","lua","makefile","markdown","matlab","mysql","objectivec","pascal","perl","pgsql","php","python","r","ruby","sass","scala","scss","smarty","sql","stylus","svg","twig","vbscript","xml","yaml"].indexOf(this.format)>=0?(this.input_type=this.format,this.source_code=!0,this.input=this.theme.getTextareaInput()):(this.input_type=this.format,this.input=this.theme.getFormInputField(this.input_type));else this.input_type="text",this.input=this.theme.getFormInputField(this.input_type);void 0!==this.schema.maxLength&&this.input.setAttribute("maxlength",this.schema.maxLength),void 0!==this.schema.pattern?this.input.setAttribute("pattern",this.schema.pattern):void 0!==this.schema.minLength&&this.input.setAttribute("pattern",".{"+this.schema.minLength+",}"),this.options.compact?this.container.className+=" compact":this.options.input_width&&(this.input.style.width=this.options.input_width),(this.schema.readOnly||this.schema.readonly||this.schema.template)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(e){if(e.preventDefault(),e.stopPropagation(),t.schema.template)this.value=t.value;else{var i=this.value,n=t.sanitize(i);i!==n&&(this.value=n),t.is_dirty=!0,t.refreshValue(),t.onChange(!0)}}),this.options.input_height&&(this.input.style.height=this.options.input_height),this.options.expand_height&&(this.adjust_height=function(t){if(t){var e,i=t.offsetHeight;if(t.offsetHeight<t.scrollHeight)for(e=0;t.offsetHeight<t.scrollHeight+3&&!(e>100);)e++,i++,t.style.height=i+"px";else{for(e=0;t.offsetHeight>=t.scrollHeight+3&&!(e>100);)e++,i--,t.style.height=i+"px";t.style.height=i+1+"px"}}},this.input.addEventListener("keyup",function(e){t.adjust_height(this)}),this.input.addEventListener("change",function(e){t.adjust_height(this)}),this.adjust_height()),this.format&&this.input.setAttribute("data-schemaformat",this.format),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),this.container.appendChild(this.control),window.requestAnimationFrame(function(){t.input.parentNode&&t.afterInputReady(),t.adjust_height&&t.adjust_height(t.input)}),this.schema.template?(this.template=this.jsoneditor.compileTemplate(this.schema.template,this.template_engine),this.refreshValue()):this.refreshValue()},enable:function(){this.always_disabled||(this.input.disabled=!1),this._super()},disable:function(){this.input.disabled=!0,this._super()},afterInputReady:function(){var t,e=this;if(this.source_code)if(this.options.wysiwyg&&["html","bbcode"].indexOf(this.input_type)>=0&&window.jQuery&&window.jQuery.fn&&window.jQuery.fn.sceditor)t=n({},{plugins:"html"===e.input_type?"xhtml":"bbcode",emoticonsEnabled:!1,width:"100%",height:300},o.plugins.sceditor,e.options.sceditor_options||{}),window.jQuery(e.input).sceditor(t),e.sceditor_instance=window.jQuery(e.input).sceditor("instance"),e.sceditor_instance.blur(function(){var t=window.jQuery("<div>"+e.sceditor_instance.val()+"</div>");window.jQuery("#sceditor-start-marker,#sceditor-end-marker,.sceditor-nlf",t).remove(),e.input.value=t.html(),e.value=e.input.value,e.is_dirty=!0,e.onChange(!0)});else if("markdown"===this.input_type&&window.EpicEditor)this.epiceditor_container=document.createElement("div"),this.input.parentNode.insertBefore(this.epiceditor_container,this.input),this.input.style.display="none",t=n({},o.plugins.epiceditor,{container:this.epiceditor_container,clientSideStorage:!1}),this.epiceditor=new window.EpicEditor(t).load(),this.epiceditor.importFile(null,this.getValue()),this.epiceditor.on("update",function(){var t=e.epiceditor.exportFile();e.input.value=t,e.value=t,e.is_dirty=!0,e.onChange(!0)});else if(window.ace){var i=this.input_type;"cpp"!==i&&"c++"!==i&&"c"!==i||(i="c_cpp"),this.ace_container=document.createElement("div"),this.ace_container.style.width="100%",this.ace_container.style.position="relative",this.ace_container.style.height="400px",this.input.parentNode.insertBefore(this.ace_container,this.input),this.input.style.display="none",this.ace_editor=window.ace.edit(this.ace_container),this.ace_editor.setValue(this.getValue()),o.plugins.ace.theme&&this.ace_editor.setTheme("ace/theme/"+o.plugins.ace.theme),(i=window.ace.require("ace/mode/"+i))&&this.ace_editor.getSession().setMode(new i.Mode),this.ace_editor.on("change",function(){var t=e.ace_editor.getValue();e.input.value=t,e.refreshValue(),e.is_dirty=!0,e.onChange(!0)})}e.theme.afterInputReady(e.input)},refreshValue:function(){this.value=this.input.value,"string"!=typeof this.value&&(this.value=""),this.serialized=this.value},destroy:function(){this.sceditor_instance?this.sceditor_instance.destroy():this.epiceditor?this.epiceditor.unload():this.ace_editor&&this.ace_editor.destroy(),this.template=null,this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this._super()},sanitize:function(t){return t},onWatchedFieldChange:function(){var t;this.template&&(t=this.getWatchedFieldValues(),this.setValue(this.template(t),!1,!0)),this._super()},showValidationErrors:function(t){var e=this;if("always"===this.jsoneditor.options.show_errors);else if(!this.is_dirty&&this.previous_error_setting===this.jsoneditor.options.show_errors)return;this.previous_error_setting=this.jsoneditor.options.show_errors;var i=[];s(t,function(t,n){n.path===e.path&&i.push(n.message)}),i.length?this.theme.addInputError(this.input,i.join(". ")+"."):this.theme.removeInputError(this.input)}}),o.defaults.editors.number=o.defaults.editors.string.extend({sanitize:function(t){return(t+"").replace(/[^0-9\.\-eE]/g,"")},getNumColumns:function(){return 2},getValue:function(){return 1*this.value}}),o.defaults.editors.integer=o.defaults.editors.number.extend({sanitize:function(t){return(t+="").replace(/[^0-9\-]/g,"")},getNumColumns:function(){return 2}}),o.defaults.editors.object=o.AbstractEditor.extend({getDefault:function(){return n({},this.schema.default||{})},getChildEditors:function(){return this.editors},register:function(){if(this._super(),this.editors)for(var t in this.editors)this.editors.hasOwnProperty(t)&&this.editors[t].register()},unregister:function(){if(this._super(),this.editors)for(var t in this.editors)this.editors.hasOwnProperty(t)&&this.editors[t].unregister()},getNumColumns:function(){return Math.max(Math.min(12,this.maxwidth),3)},enable:function(){if(this.editjson_button&&(this.editjson_button.disabled=!1),this.addproperty_button&&(this.addproperty_button.disabled=!1),this._super(),this.editors)for(var t in this.editors)this.editors.hasOwnProperty(t)&&this.editors[t].enable()},disable:function(){if(this.editjson_button&&(this.editjson_button.disabled=!0),this.addproperty_button&&(this.addproperty_button.disabled=!0),this.hideEditJSON(),this._super(),this.editors)for(var t in this.editors)this.editors.hasOwnProperty(t)&&this.editors[t].disable()},layoutEditors:function(){var t,e,i=this;if(this.row_container){var n;if(this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort(function(t,e){var n=i.editors[t].schema.propertyOrder,s=i.editors[e].schema.propertyOrder;return"number"!=typeof n&&(n=1e3),"number"!=typeof s&&(s=1e3),n-s}),"grid"===this.format){var r=[];for(s(this.property_order,function(t,e){var n=i.editors[e];if(!n.property_removed){for(var s=!1,o=n.options.hidden?0:n.options.grid_columns||n.getNumColumns(),a=n.options.hidden?0:n.container.offsetHeight,l=0;l<r.length;l++)r[l].width+o<=12&&(!a||.5*r[l].minh<a&&2*r[l].maxh>a)&&(s=l);!1===s&&(r.push({width:0,minh:999999,maxh:0,editors:[]}),s=r.length-1),r[s].editors.push({key:e,width:o,height:a}),r[s].width+=o,r[s].minh=Math.min(r[s].minh,a),r[s].maxh=Math.max(r[s].maxh,a)}}),t=0;t<r.length;t++)if(r[t].width<12){var o=!1,a=0;for(e=0;e<r[t].editors.length;e++)!1===o?o=e:r[t].editors[e].width>r[t].editors[o].width&&(o=e),r[t].editors[e].width*=12/r[t].width,r[t].editors[e].width=Math.floor(r[t].editors[e].width),a+=r[t].editors[e].width;a<12&&(r[t].editors[o].width+=12-a),r[t].width=12}if(this.layout===JSON.stringify(r))return!1;for(this.layout=JSON.stringify(r),n=document.createElement("div"),t=0;t<r.length;t++){var l=this.theme.getGridRow();for(n.appendChild(l),e=0;e<r[t].editors.length;e++){var d=r[t].editors[e].key,h=this.editors[d];h.options.hidden?h.container.style.display="none":this.theme.setGridColumnSize(h.container,r[t].editors[e].width),l.appendChild(h.container)}}}else n=document.createElement("div"),s(this.property_order,function(t,e){var s=i.editors[e];if(!s.property_removed){var r=i.theme.getGridRow();n.appendChild(r),s.options.hidden?s.container.style.display="none":i.theme.setGridColumnSize(s.container,12),r.appendChild(s.container)}});this.row_container.innerHTML="",this.row_container.appendChild(n)}},getPropertySchema:function(t){var e=this.schema.properties[t]||{};e=n({},e);var i=!!this.schema.properties[t];if(this.schema.patternProperties)for(var s in this.schema.patternProperties)if(this.schema.patternProperties.hasOwnProperty(s)){new RegExp(s).test(t)&&(e.allOf=e.allOf||[],e.allOf.push(this.schema.patternProperties[s]),i=!0)}return!i&&this.schema.additionalProperties&&"object"==typeof this.schema.additionalProperties&&(e=n({},this.schema.additionalProperties)),e},preBuild:function(){this._super(),this.editors={},this.cached_editors={};var t=this;if(this.format=this.options.layout||this.options.object_layout||this.schema.format||this.jsoneditor.options.object_layout||"normal",this.schema.properties=this.schema.properties||{},this.minwidth=0,this.maxwidth=0,this.options.table_row)s(this.schema.properties,function(e,i){var n=t.jsoneditor.getEditorClass(i);t.editors[e]=t.jsoneditor.createEditor(n,{jsoneditor:t.jsoneditor,schema:i,path:t.path+"."+e,parent:t,compact:!0,required:!0}),t.editors[e].preBuild();var s=t.editors[e].options.hidden?0:t.editors[e].options.grid_columns||t.editors[e].getNumColumns();t.minwidth+=s,t.maxwidth+=s}),this.no_link_holder=!0;else{if(this.options.table)throw"Not supported yet";this.schema.defaultProperties||(this.jsoneditor.options.display_required_only||this.options.display_required_only?(this.schema.defaultProperties=[],s(this.schema.properties,function(e,i){t.isRequired({key:e,schema:i})&&t.schema.defaultProperties.push(e)})):t.schema.defaultProperties=Object.keys(t.schema.properties)),t.maxwidth+=1,s(this.schema.defaultProperties,function(e,i){t.addObjectProperty(i,!0),t.editors[i]&&(t.minwidth=Math.max(t.minwidth,t.editors[i].options.grid_columns||t.editors[i].getNumColumns()),t.maxwidth+=t.editors[i].options.grid_columns||t.editors[i].getNumColumns())})}this.property_order=Object.keys(this.editors),this.property_order=this.property_order.sort(function(e,i){var n=t.editors[e].schema.propertyOrder,s=t.editors[i].schema.propertyOrder;return"number"!=typeof n&&(n=1e3),"number"!=typeof s&&(s=1e3),n-s})},build:function(){var t=this;if(this.options.table_row)this.editor_holder=this.container,s(this.editors,function(e,i){var n=t.theme.getTableCell();t.editor_holder.appendChild(n),i.setContainer(n),i.build(),i.postBuild(),t.editors[e].options.hidden&&(n.style.display="none"),t.editors[e].options.input_width&&(n.style.width=t.editors[e].options.input_width)});else{if(this.options.table)throw"Not supported yet";this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header),this.container.appendChild(this.title),this.container.style.position="relative",this.editjson_holder=this.theme.getModal(),this.editjson_textarea=this.theme.getTextareaInput(),this.editjson_textarea.style.height="170px",this.editjson_textarea.style.width="300px",this.editjson_textarea.style.display="block",this.editjson_save=this.getButton("Save","save","Save"),this.editjson_save.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.saveJSON()}),this.editjson_cancel=this.getButton("Cancel","cancel","Cancel"),this.editjson_cancel.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.hideEditJSON()}),this.editjson_holder.appendChild(this.editjson_textarea),this.editjson_holder.appendChild(this.editjson_save),this.editjson_holder.appendChild(this.editjson_cancel),this.addproperty_holder=this.theme.getModal(),this.addproperty_list=document.createElement("div"),this.addproperty_list.style.width="295px",this.addproperty_list.style.maxHeight="160px",this.addproperty_list.style.padding="5px 0",this.addproperty_list.style.overflowY="auto",this.addproperty_list.style.overflowX="hidden",this.addproperty_list.style.paddingLeft="5px",this.addproperty_list.setAttribute("class","property-selector"),this.addproperty_add=this.getButton("add","add","add"),this.addproperty_input=this.theme.getFormInputField("text"),this.addproperty_input.setAttribute("placeholder","Property name..."),this.addproperty_input.style.width="220px",this.addproperty_input.style.marginBottom="0",this.addproperty_input.style.display="inline-block",this.addproperty_add.addEventListener("click",function(e){if(e.preventDefault(),e.stopPropagation(),t.addproperty_input.value){if(t.editors[t.addproperty_input.value])return void window.alert("there is already a property with that name");t.addObjectProperty(t.addproperty_input.value),t.editors[t.addproperty_input.value]&&t.editors[t.addproperty_input.value].disable(),t.onChange(!0)}}),this.addproperty_holder.appendChild(this.addproperty_list),this.addproperty_holder.appendChild(this.addproperty_input),this.addproperty_holder.appendChild(this.addproperty_add);var e=document.createElement("div");e.style.clear="both",this.addproperty_holder.appendChild(e),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),this.editor_holder=this.theme.getIndentedPanel(),this.container.appendChild(this.editor_holder),this.row_container=this.theme.getGridContainer(),this.editor_holder.appendChild(this.row_container),s(this.editors,function(e,i){var n=t.theme.getGridColumn();t.row_container.appendChild(n),i.setContainer(n),i.build(),i.postBuild()}),this.title_controls=this.theme.getHeaderButtonHolder(),this.editjson_controls=this.theme.getHeaderButtonHolder(),this.addproperty_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.title.appendChild(this.editjson_controls),this.title.appendChild(this.addproperty_controls),this.collapsed=!1,this.toggle_button=this.getButton("","collapse",this.translate("button_collapse")),this.title_controls.appendChild(this.toggle_button),this.toggle_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.collapsed?(t.editor_holder.style.display="",t.collapsed=!1,t.setButtonText(t.toggle_button,"","collapse",t.translate("button_collapse"))):(t.editor_holder.style.display="none",t.collapsed=!0,t.setButtonText(t.toggle_button,"","expand",t.translate("button_expand")))}),this.options.collapsed&&r(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"),this.editjson_button=this.getButton("JSON","edit","Edit JSON"),this.editjson_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.toggleEditJSON()}),this.editjson_controls.appendChild(this.editjson_button),this.editjson_controls.appendChild(this.editjson_holder),this.schema.options&&void 0!==this.schema.options.disable_edit_json?this.schema.options.disable_edit_json&&(this.editjson_button.style.display="none"):this.jsoneditor.options.disable_edit_json&&(this.editjson_button.style.display="none"),this.addproperty_button=this.getButton("Properties","edit","Object Properties"),this.addproperty_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.toggleAddProperty()}),this.addproperty_controls.appendChild(this.addproperty_button),this.addproperty_controls.appendChild(this.addproperty_holder),this.refreshAddProperties()}this.options.table_row?(this.editor_holder=this.container,s(this.property_order,function(e,i){t.editor_holder.appendChild(t.editors[i].container)})):(this.layoutEditors(),this.layoutEditors())},showEditJSON:function(){this.editjson_holder&&(this.hideAddProperty(),this.editjson_holder.style.left=this.editjson_button.offsetLeft+"px",this.editjson_holder.style.top=this.editjson_button.offsetTop+this.editjson_button.offsetHeight+"px",this.editjson_textarea.value=JSON.stringify(this.getValue(),null,2),this.disable(),this.editjson_holder.style.display="",this.editjson_button.disabled=!1,this.editing_json=!0)},hideEditJSON:function(){this.editjson_holder&&this.editing_json&&(this.editjson_holder.style.display="none",this.enable(),this.editing_json=!1)},saveJSON:function(){if(this.editjson_holder)try{var t=JSON.parse(this.editjson_textarea.value);this.setValue(t),this.hideEditJSON()}catch(t){throw window.alert("invalid JSON"),t}},toggleEditJSON:function(){this.editing_json?this.hideEditJSON():this.showEditJSON()},insertPropertyControlUsingPropertyOrder:function(t,e,i){var n;this.schema.properties[t]&&(n=this.schema.properties[t].propertyOrder),"number"!=typeof n&&(n=1e3),e.propertyOrder=n;for(var s=0;s<i.childNodes.length;s++){var r=i.childNodes[s];if(e.propertyOrder<r.propertyOrder){this.addproperty_list.insertBefore(e,r),e=null;break}}e&&this.addproperty_list.appendChild(e)},addPropertyCheckbox:function(t){var e,i,n,s,r=this;return(e=r.theme.getCheckbox()).style.width="auto",n=this.schema.properties[t]&&this.schema.properties[t].title?this.schema.properties[t].title:t,i=r.theme.getCheckboxLabel(n),(s=r.theme.getFormControl(i,e)).style.paddingBottom=s.style.marginBottom=s.style.paddingTop=s.style.marginTop=0,s.style.height="auto",this.insertPropertyControlUsingPropertyOrder(t,s,this.addproperty_list),e.checked=t in this.editors,e.addEventListener("change",function(){e.checked?r.addObjectProperty(t):r.removeObjectProperty(t),r.onChange(!0)}),r.addproperty_checkboxes[t]=e,e},showAddProperty:function(){this.addproperty_holder&&(this.hideEditJSON(),this.addproperty_holder.style.left=this.addproperty_button.offsetLeft+"px",this.addproperty_holder.style.top=this.addproperty_button.offsetTop+this.addproperty_button.offsetHeight+"px",this.disable(),this.adding_property=!0,this.addproperty_button.disabled=!1,this.addproperty_holder.style.display="",this.refreshAddProperties())},hideAddProperty:function(){this.addproperty_holder&&this.adding_property&&(this.addproperty_holder.style.display="none",this.enable(),this.adding_property=!1)},toggleAddProperty:function(){this.adding_property?this.hideAddProperty():this.showAddProperty()},removeObjectProperty:function(t){this.editors[t]&&(this.editors[t].unregister(),delete this.editors[t],this.refreshValue(),this.layoutEditors())},addObjectProperty:function(t,e){var i=this;if(!this.editors[t]){if(this.cached_editors[t]){if(this.editors[t]=this.cached_editors[t],e)return;this.editors[t].register()}else{if(!(this.canHaveAdditionalProperties()||this.schema.properties&&this.schema.properties[t]))return;var n=i.getPropertySchema(t),s=i.jsoneditor.getEditorClass(n);if(i.editors[t]=i.jsoneditor.createEditor(s,{jsoneditor:i.jsoneditor,schema:n,path:i.path+"."+t,parent:i}),i.editors[t].preBuild(),!e){var r=i.theme.getChildEditorHolder();i.editor_holder.appendChild(r),i.editors[t].setContainer(r),i.editors[t].build(),i.editors[t].postBuild()}i.cached_editors[t]=i.editors[t]}e||(i.refreshValue(),i.layoutEditors())}},onChildEditorChange:function(t){this.refreshValue(),this._super(t)},canHaveAdditionalProperties:function(){return"boolean"==typeof this.schema.additionalProperties?this.schema.additionalProperties:!this.jsoneditor.options.no_additional_properties},destroy:function(){s(this.cached_editors,function(t,e){e.destroy()}),this.editor_holder&&(this.editor_holder.innerHTML=""),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.error_holder&&this.error_holder.parentNode&&this.error_holder.parentNode.removeChild(this.error_holder),this.editors=null,this.cached_editors=null,this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.editor_holder=null,this._super()},getValue:function(){var t=this._super();if(this.jsoneditor.options.remove_empty_properties||this.options.remove_empty_properties)for(var e in t)t.hasOwnProperty(e)&&(t[e]||delete t[e]);return t},refreshValue:function(){for(var t in this.value={},this.editors)this.editors.hasOwnProperty(t)&&(this.value[t]=this.editors[t].getValue());this.adding_property&&this.refreshAddProperties()},refreshAddProperties:function(){if(this.options.disable_properties||!1!==this.options.disable_properties&&this.jsoneditor.options.disable_properties)this.addproperty_controls.style.display="none";else{var t,e,i=0,n=!1;for(t in this.editors)this.editors.hasOwnProperty(t)&&i++;for(t in e=this.canHaveAdditionalProperties()&&!(void 0!==this.schema.maxProperties&&i>=this.schema.maxProperties),this.addproperty_checkboxes&&(this.addproperty_list.innerHTML=""),this.addproperty_checkboxes={},this.cached_editors)this.cached_editors.hasOwnProperty(t)&&(this.addPropertyCheckbox(t),this.isRequired(this.cached_editors[t])&&t in this.editors&&(this.addproperty_checkboxes[t].disabled=!0),void 0!==this.schema.minProperties&&i<=this.schema.minProperties?(this.addproperty_checkboxes[t].disabled=this.addproperty_checkboxes[t].checked,this.addproperty_checkboxes[t].checked||(n=!0)):t in this.editors?(n=!0,!0):e||this.schema.properties.hasOwnProperty(t)?(this.addproperty_checkboxes[t].disabled=!1,n=!0):this.addproperty_checkboxes[t].disabled=!0);for(t in this.canHaveAdditionalProperties()&&(n=!0),this.schema.properties)this.schema.properties.hasOwnProperty(t)&&(this.cached_editors[t]||(n=!0,this.addPropertyCheckbox(t)));n?this.canHaveAdditionalProperties()?this.addproperty_add.disabled=!e:(this.addproperty_add.style.display="none",this.addproperty_input.style.display="none"):(this.hideAddProperty(),this.addproperty_controls.style.display="none")}},isRequired:function(t){return"boolean"==typeof t.schema.required?t.schema.required:Array.isArray(this.schema.required)?this.schema.required.indexOf(t.key)>-1:!!this.jsoneditor.options.required_by_default},setValue:function(t,e){var i=this;("object"!=typeof(t=t||{})||Array.isArray(t))&&(t={}),s(this.cached_editors,function(n,s){void 0!==t[n]?(i.addObjectProperty(n),s.setValue(t[n],e)):e||i.isRequired(s)?s.setValue(s.getDefault(),e):i.removeObjectProperty(n)}),s(t,function(t,n){i.cached_editors[t]||(i.addObjectProperty(t),i.editors[t]&&i.editors[t].setValue(n,e))}),this.refreshValue(),this.layoutEditors(),this.onChange()},showValidationErrors:function(t){var e=this,i=[],n=[];s(t,function(t,s){s.path===e.path?i.push(s):n.push(s)}),this.error_holder&&(i.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",s(i,function(t,i){e.error_holder.appendChild(e.theme.getErrorMessage(i.message))})):this.error_holder.style.display="none"),this.options.table_row&&(i.length?this.theme.addTableRowError(this.container):this.theme.removeTableRowError(this.container)),s(this.editors,function(t,e){e.showValidationErrors(n)})}}),o.defaults.editors.array=o.AbstractEditor.extend({getDefault:function(){return this.schema.default||[]},register:function(){if(this._super(),this.rows)for(var t=0;t<this.rows.length;t++)this.rows[t].register()},unregister:function(){if(this._super(),this.rows)for(var t=0;t<this.rows.length;t++)this.rows[t].unregister()},getNumColumns:function(){var t=this.getItemInfo(0);return this.tabs_holder?Math.max(Math.min(12,t.width+2),4):t.width},enable:function(){if(this.add_row_button&&(this.add_row_button.disabled=!1),this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!1),this.delete_last_row_button&&(this.delete_last_row_button.disabled=!1),this.rows)for(var t=0;t<this.rows.length;t++)this.rows[t].enable(),this.rows[t].moveup_button&&(this.rows[t].moveup_button.disabled=!1),this.rows[t].movedown_button&&(this.rows[t].movedown_button.disabled=!1),this.rows[t].delete_button&&(this.rows[t].delete_button.disabled=!1);this._super()},disable:function(){if(this.add_row_button&&(this.add_row_button.disabled=!0),this.remove_all_rows_button&&(this.remove_all_rows_button.disabled=!0),this.delete_last_row_button&&(this.delete_last_row_button.disabled=!0),this.rows)for(var t=0;t<this.rows.length;t++)this.rows[t].disable(),this.rows[t].moveup_button&&(this.rows[t].moveup_button.disabled=!0),this.rows[t].movedown_button&&(this.rows[t].movedown_button.disabled=!0),this.rows[t].delete_button&&(this.rows[t].delete_button.disabled=!0);this._super()},preBuild:function(){this._super(),this.rows=[],this.row_cache=[],this.hide_delete_buttons=this.options.disable_array_delete||this.jsoneditor.options.disable_array_delete,this.hide_delete_all_rows_buttons=this.hide_delete_buttons||this.options.disable_array_delete_all_rows||this.jsoneditor.options.disable_array_delete_all_rows,this.hide_delete_last_row_buttons=this.hide_delete_buttons||this.options.disable_array_delete_last_row||this.jsoneditor.options.disable_array_delete_last_row,this.hide_move_buttons=this.options.disable_array_reorder||this.jsoneditor.options.disable_array_reorder,this.hide_add_button=this.options.disable_array_add||this.jsoneditor.options.disable_array_add},build:function(){this.options.compact?(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder)):(this.header=document.createElement("span"),this.header.textContent=this.getTitle(),this.title=this.theme.getHeader(this.header),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.error_holder=document.createElement("div"),this.container.appendChild(this.error_holder),"tabs"===this.schema.format?(this.controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.controls),this.tabs_holder=this.theme.getTabHolder(),this.container.appendChild(this.tabs_holder),this.row_holder=this.theme.getTabContentHolder(this.tabs_holder),this.active_tab=null):(this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.row_holder=document.createElement("div"),this.panel.appendChild(this.row_holder),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls))),this.addControls()},onChildEditorChange:function(t){this.refreshValue(),this.refreshTabs(!0),this._super(t)},getItemTitle:function(){if(!this.item_title)if(this.schema.items&&!Array.isArray(this.schema.items)){var t=this.jsoneditor.expandRefs(this.schema.items);this.item_title=t.title||"item"}else this.item_title="item";return this.item_title},getItemSchema:function(t){return Array.isArray(this.schema.items)?t>=this.schema.items.length?!0===this.schema.additionalItems?{}:this.schema.additionalItems?n({},this.schema.additionalItems):void 0:n({},this.schema.items[t]):this.schema.items?n({},this.schema.items):{}},getItemInfo:function(t){var e=this.getItemSchema(t);this.item_info=this.item_info||{};var i=JSON.stringify(e);return void 0!==this.item_info[i]?this.item_info[i]:(e=this.jsoneditor.expandRefs(e),this.item_info[i]={title:e.title||"item",default:e.default,width:12,child_editors:e.properties||e.items},this.item_info[i])},getElementEditor:function(t){var e=this.getItemInfo(t),i=this.getItemSchema(t);(i=this.jsoneditor.expandRefs(i)).title=e.title+" "+(t+1);var n,s=this.jsoneditor.getEditorClass(i);n=this.tabs_holder?this.theme.getTabContent():e.child_editors?this.theme.getChildEditorHolder():this.theme.getIndentedPanel(),this.row_holder.appendChild(n);var r=this.jsoneditor.createEditor(s,{jsoneditor:this.jsoneditor,schema:i,container:n,path:this.path+"."+t,parent:this,required:!0});return r.preBuild(),r.build(),r.postBuild(),r.title_controls||(r.array_controls=this.theme.getButtonHolder(),n.appendChild(r.array_controls)),r},destroy:function(){this.empty(!0),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.row_holder&&this.row_holder.parentNode&&this.row_holder.parentNode.removeChild(this.row_holder),this.controls&&this.controls.parentNode&&this.controls.parentNode.removeChild(this.controls),this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.rows=this.row_cache=this.title=this.description=this.row_holder=this.panel=this.controls=null,this._super()},empty:function(t){if(this.rows){var e=this;s(this.rows,function(i,n){t&&(n.tab&&n.tab.parentNode&&n.tab.parentNode.removeChild(n.tab),e.destroyRow(n,!0),e.row_cache[i]=null),e.rows[i]=null}),e.rows=[],t&&(e.row_cache=[])}},destroyRow:function(t,e){var i=t.container;e?(t.destroy(),i.parentNode&&i.parentNode.removeChild(i),t.tab&&t.tab.parentNode&&t.tab.parentNode.removeChild(t.tab)):(t.tab&&(t.tab.style.display="none"),i.style.display="none",t.unregister())},getMax:function(){return Array.isArray(this.schema.items)&&!1===this.schema.additionalItems?Math.min(this.schema.items.length,this.schema.maxItems||1/0):this.schema.maxItems||1/0},refreshTabs:function(t){var e=this;s(this.rows,function(i,n){n.tab&&(t?n.tab_text.textContent=n.getHeaderText():n.tab===e.active_tab?(e.theme.markTabActive(n.tab),n.container.style.display=""):(e.theme.markTabInactive(n.tab),n.container.style.display="none"))})},setValue:function(t,e){if(t=t||[],Array.isArray(t)||(t=[t]),JSON.stringify(t)!==this.serialized){if(this.schema.minItems)for(;t.length<this.schema.minItems;)t.push(this.getItemInfo(t.length).default);this.getMax()&&t.length>this.getMax()&&(t=t.slice(0,this.getMax()));var i=this;s(t,function(t,n){i.rows[t]?i.rows[t].setValue(n,e):i.row_cache[t]?(i.rows[t]=i.row_cache[t],i.rows[t].setValue(n,e),i.rows[t].container.style.display="",i.rows[t].tab&&(i.rows[t].tab.style.display=""),i.rows[t].register()):i.addRow(n,e)});for(var n=t.length;n<i.rows.length;n++)i.destroyRow(i.rows[n]),i.rows[n]=null;i.rows=i.rows.slice(0,t.length);var r=null;s(i.rows,function(t,e){if(e.tab===i.active_tab)return r=e.tab,!1}),!r&&i.rows.length&&(r=i.rows[0].tab),i.active_tab=r,i.refreshValue(e),i.refreshTabs(!0),i.refreshTabs(),i.onChange()}},refreshValue:function(t){var e=this,i=this.value?this.value.length:0;if(this.value=[],s(this.rows,function(t,i){e.value[t]=i.getValue()}),i!==this.value.length||t){var n=this.schema.minItems&&this.schema.minItems>=this.rows.length;s(this.rows,function(t,i){i.movedown_button&&(t===e.rows.length-1?i.movedown_button.style.display="none":i.movedown_button.style.display=""),i.delete_button&&(i.delete_button.style.display=n?"none":""),e.value[t]=i.getValue()});var r=!1;this.value.length?1===this.value.length?(this.remove_all_rows_button.style.display="none",n||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",r=!0)):(n||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",r=!0),n||this.hide_delete_all_rows_buttons?this.remove_all_rows_button.style.display="none":(this.remove_all_rows_button.style.display="",r=!0)):(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none"),this.getMax()&&this.getMax()<=this.rows.length||this.hide_add_button?this.add_row_button.style.display="none":(this.add_row_button.style.display="",r=!0),!this.collapsed&&r?this.controls.style.display="inline-block":this.controls.style.display="none"}},addRow:function(t,e){var i=this,n=this.rows.length;i.rows[n]=this.getElementEditor(n),i.row_cache[n]=i.rows[n],i.tabs_holder&&(i.rows[n].tab_text=document.createElement("span"),i.rows[n].tab_text.textContent=i.rows[n].getHeaderText(),i.rows[n].tab=i.theme.getTab(i.rows[n].tab_text),i.rows[n].tab.addEventListener("click",function(t){i.active_tab=i.rows[n].tab,i.refreshTabs(),t.preventDefault(),t.stopPropagation()}),i.theme.addTab(i.tabs_holder,i.rows[n].tab));var r=i.rows[n].title_controls||i.rows[n].array_controls;i.hide_delete_buttons||(i.rows[n].delete_button=this.getButton(i.getItemTitle(),"delete",this.translate("button_delete_row_title",[i.getItemTitle()])),i.rows[n].delete_button.className+=" delete",i.rows[n].delete_button.setAttribute("data-i",n),i.rows[n].delete_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var e=1*this.getAttribute("data-i"),n=i.getValue(),r=[],o=null;s(n,function(t,n){return t===e?void(i.rows[t].tab===i.active_tab&&(i.rows[t+1]?o=i.rows[t].tab:t&&(o=i.rows[t-1].tab))):void r.push(n)}),i.setValue(r),o&&(i.active_tab=o,i.refreshTabs()),i.onChange(!0)}),r&&r.appendChild(i.rows[n].delete_button)),n&&!i.hide_move_buttons&&(i.rows[n].moveup_button=this.getButton("","moveup",this.translate("button_move_up_title")),i.rows[n].moveup_button.className+=" moveup",i.rows[n].moveup_button.setAttribute("data-i",n),i.rows[n].moveup_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var e=1*this.getAttribute("data-i");if(!(e<=0)){var n=i.getValue(),s=n[e-1];n[e-1]=n[e],n[e]=s,i.setValue(n),i.active_tab=i.rows[e-1].tab,i.refreshTabs(),i.onChange(!0)}}),r&&r.appendChild(i.rows[n].moveup_button)),i.hide_move_buttons||(i.rows[n].movedown_button=this.getButton("","movedown",this.translate("button_move_down_title")),i.rows[n].movedown_button.className+=" movedown",i.rows[n].movedown_button.setAttribute("data-i",n),i.rows[n].movedown_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var e=1*this.getAttribute("data-i"),n=i.getValue();if(!(e>=n.length-1)){var s=n[e+1];n[e+1]=n[e],n[e]=s,i.setValue(n),i.active_tab=i.rows[e+1].tab,i.refreshTabs(),i.onChange(!0)}}),r&&r.appendChild(i.rows[n].movedown_button)),t&&i.rows[n].setValue(t,e),i.refreshTabs()},addControls:function(){var t=this;this.collapsed=!1,this.toggle_button=this.getButton("","collapse",this.translate("button_collapse")),this.title_controls.appendChild(this.toggle_button);var e=t.row_holder.style.display,i=t.controls.style.display;this.toggle_button.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation(),t.collapsed?(t.collapsed=!1,t.panel&&(t.panel.style.display=""),t.row_holder.style.display=e,t.tabs_holder&&(t.tabs_holder.style.display=""),t.controls.style.display=i,t.setButtonText(this,"","collapse",t.translate("button_collapse"))):(t.collapsed=!0,t.row_holder.style.display="none",t.tabs_holder&&(t.tabs_holder.style.display="none"),t.controls.style.display="none",t.panel&&(t.panel.style.display="none"),t.setButtonText(this,"","expand",t.translate("button_expand")))}),this.options.collapsed&&r(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none"),this.add_row_button=this.getButton(this.getItemTitle(),"add",this.translate("button_add_row_title",[this.getItemTitle()])),this.add_row_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=t.rows.length;t.row_cache[i]?(t.rows[i]=t.row_cache[i],t.rows[i].setValue(t.rows[i].getDefault(),!0),t.rows[i].container.style.display="",t.rows[i].tab&&(t.rows[i].tab.style.display=""),t.rows[i].register()):t.addRow(),t.active_tab=t.rows[i].tab,t.refreshTabs(),t.refreshValue(),t.onChange(!0)}),t.controls.appendChild(this.add_row_button),this.delete_last_row_button=this.getButton(this.translate("button_delete_last",[this.getItemTitle()]),"delete",this.translate("button_delete_last_title",[this.getItemTitle()])),this.delete_last_row_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=t.getValue(),n=null;t.rows.length>1&&t.rows[t.rows.length-1].tab===t.active_tab&&(n=t.rows[t.rows.length-2].tab),i.pop(),t.setValue(i),n&&(t.active_tab=n,t.refreshTabs()),t.onChange(!0)}),t.controls.appendChild(this.delete_last_row_button),this.remove_all_rows_button=this.getButton(this.translate("button_delete_all"),"delete",this.translate("button_delete_all_title")),this.remove_all_rows_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.setValue([]),t.onChange(!0)}),t.controls.appendChild(this.remove_all_rows_button),t.tabs&&(this.add_row_button.style.width="100%",this.add_row_button.style.textAlign="left",this.add_row_button.style.marginBottom="3px",this.delete_last_row_button.style.width="100%",this.delete_last_row_button.style.textAlign="left",this.delete_last_row_button.style.marginBottom="3px",this.remove_all_rows_button.style.width="100%",this.remove_all_rows_button.style.textAlign="left",this.remove_all_rows_button.style.marginBottom="3px")},showValidationErrors:function(t){var e=this,i=[],n=[];s(t,function(t,s){s.path===e.path?i.push(s):n.push(s)}),this.error_holder&&(i.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",s(i,function(t,i){e.error_holder.appendChild(e.theme.getErrorMessage(i.message))})):this.error_holder.style.display="none"),s(this.rows,function(t,e){e.showValidationErrors(n)})}}),o.defaults.editors.table=o.defaults.editors.array.extend({register:function(){if(this._super(),this.rows)for(var t=0;t<this.rows.length;t++)this.rows[t].register()},unregister:function(){if(this._super(),this.rows)for(var t=0;t<this.rows.length;t++)this.rows[t].unregister()},getNumColumns:function(){return Math.max(Math.min(12,this.width),3)},preBuild:function(){var t=this.jsoneditor.expandRefs(this.schema.items||{});this.item_title=t.title||"row",this.item_default=t.default||null,this.item_has_child_editors=t.properties||t.items,this.width=12,this._super()},build:function(){this.table=this.theme.getTable(),this.container.appendChild(this.table),this.thead=this.theme.getTableHead(),this.table.appendChild(this.thead),this.header_row=this.theme.getTableRow(),this.thead.appendChild(this.header_row),this.row_holder=this.theme.getTableBody(),this.table.appendChild(this.row_holder);var t=this.getElementEditor(0,!0);if(this.item_default=t.getDefault(),this.width=t.getNumColumns()+2,this.options.compact?(this.panel=document.createElement("div"),this.container.appendChild(this.panel)):(this.title=this.theme.getHeader(this.getTitle()),this.container.appendChild(this.title),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description),this.container.appendChild(this.description)),this.panel=this.theme.getIndentedPanel(),this.container.appendChild(this.panel),this.error_holder=document.createElement("div"),this.panel.appendChild(this.error_holder)),this.panel.appendChild(this.table),this.controls=this.theme.getButtonHolder(),this.panel.appendChild(this.controls),this.item_has_child_editors)for(var e=t.getChildEditors(),i=t.property_order||Object.keys(e),n=0;n<i.length;n++){var s=this.theme.getTableHeaderCell(e[i[n]].getTitle());e[i[n]].options.hidden&&(s.style.display="none"),this.header_row.appendChild(s)}else this.header_row.appendChild(this.theme.getTableHeaderCell(this.item_title));t.destroy(),this.row_holder.innerHTML="",this.controls_header_cell=this.theme.getTableHeaderCell(" "),this.header_row.appendChild(this.controls_header_cell),this.addControls()},onChildEditorChange:function(t){this.refreshValue(),this._super()},getItemDefault:function(){return n({},{default:this.item_default}).default},getItemTitle:function(){return this.item_title},getElementEditor:function(t,e){var i=n({},this.schema.items),s=this.jsoneditor.getEditorClass(i,this.jsoneditor),r=this.row_holder.appendChild(this.theme.getTableRow()),o=r;this.item_has_child_editors||(o=this.theme.getTableCell(),r.appendChild(o));var a=this.jsoneditor.createEditor(s,{jsoneditor:this.jsoneditor,schema:i,container:o,path:this.path+"."+t,parent:this,compact:!0,table_row:!0});return a.preBuild(),e||(a.build(),a.postBuild(),a.controls_cell=r.appendChild(this.theme.getTableCell()),a.row=r,a.table_controls=this.theme.getButtonHolder(),a.controls_cell.appendChild(a.table_controls),a.table_controls.style.margin=0,a.table_controls.style.padding=0),a},destroy:function(){this.innerHTML="",this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.row_holder&&this.row_holder.parentNode&&this.row_holder.parentNode.removeChild(this.row_holder),this.table&&this.table.parentNode&&this.table.parentNode.removeChild(this.table),this.panel&&this.panel.parentNode&&this.panel.parentNode.removeChild(this.panel),this.rows=this.title=this.description=this.row_holder=this.table=this.panel=null,this._super()},setValue:function(t,e){if(t=t||[],this.schema.minItems)for(;t.length<this.schema.minItems;)t.push(this.getItemDefault());if(this.schema.maxItems&&t.length>this.schema.maxItems&&(t=t.slice(0,this.schema.maxItems)),JSON.stringify(t)!==this.serialized){var i=!1,n=this;s(t,function(t,e){n.rows[t]?n.rows[t].setValue(e):(n.addRow(e),i=!0)});for(var r=t.length;r<n.rows.length;r++){var o=n.rows[r].container;n.item_has_child_editors||n.rows[r].row.parentNode.removeChild(n.rows[r].row),n.rows[r].destroy(),o.parentNode&&o.parentNode.removeChild(o),n.rows[r]=null,i=!0}n.rows=n.rows.slice(0,t.length),n.refreshValue(),(i||e)&&n.refreshRowButtons(),n.onChange()}},refreshRowButtons:function(){var t=this,e=this.schema.minItems&&this.schema.minItems>=this.rows.length,i=!1;s(this.rows,function(n,s){s.movedown_button&&(n===t.rows.length-1?s.movedown_button.style.display="none":(i=!0,s.movedown_button.style.display="")),s.delete_button&&(e?s.delete_button.style.display="none":(i=!0,s.delete_button.style.display="")),s.moveup_button&&(i=!0)}),s(this.rows,function(t,e){e.controls_cell.style.display=i?"":"none"}),this.controls_header_cell.style.display=i?"":"none";var n=!1;this.value.length?1===this.value.length?(this.table.style.display="",this.remove_all_rows_button.style.display="none",e||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",n=!0)):(this.table.style.display="",e||this.hide_delete_last_row_buttons?this.delete_last_row_button.style.display="none":(this.delete_last_row_button.style.display="",n=!0),e||this.hide_delete_all_rows_buttons?this.remove_all_rows_button.style.display="none":(this.remove_all_rows_button.style.display="",n=!0)):(this.delete_last_row_button.style.display="none",this.remove_all_rows_button.style.display="none",this.table.style.display="none"),this.schema.maxItems&&this.schema.maxItems<=this.rows.length||this.hide_add_button?this.add_row_button.style.display="none":(this.add_row_button.style.display="",n=!0),this.controls.style.display=n?"":"none"},refreshValue:function(){var t=this;this.value=[],s(this.rows,function(e,i){t.value[e]=i.getValue()}),this.serialized=JSON.stringify(this.value)},addRow:function(t){var e=this,i=this.rows.length;e.rows[i]=this.getElementEditor(i);var n=e.rows[i].table_controls;this.hide_delete_buttons||(e.rows[i].delete_button=this.getButton("","delete",this.translate("button_delete_row_title_short")),e.rows[i].delete_button.className+=" delete",e.rows[i].delete_button.setAttribute("data-i",i),e.rows[i].delete_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var i=1*this.getAttribute("data-i"),n=e.getValue(),r=[];s(n,function(t,e){t!==i&&r.push(e)}),e.setValue(r),e.onChange(!0)}),n.appendChild(e.rows[i].delete_button)),i&&!this.hide_move_buttons&&(e.rows[i].moveup_button=this.getButton("","moveup",this.translate("button_move_up_title")),e.rows[i].moveup_button.className+=" moveup",e.rows[i].moveup_button.setAttribute("data-i",i),e.rows[i].moveup_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var i=1*this.getAttribute("data-i");if(!(i<=0)){var n=e.getValue(),s=n[i-1];n[i-1]=n[i],n[i]=s,e.setValue(n),e.onChange(!0)}}),n.appendChild(e.rows[i].moveup_button)),this.hide_move_buttons||(e.rows[i].movedown_button=this.getButton("","movedown",this.translate("button_move_down_title")),e.rows[i].movedown_button.className+=" movedown",e.rows[i].movedown_button.setAttribute("data-i",i),e.rows[i].movedown_button.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation();var i=1*this.getAttribute("data-i"),n=e.getValue();if(!(i>=n.length-1)){var s=n[i+1];n[i+1]=n[i],n[i]=s,e.setValue(n),e.onChange(!0)}}),n.appendChild(e.rows[i].movedown_button)),t&&e.rows[i].setValue(t)},addControls:function(){var t=this;this.collapsed=!1,this.toggle_button=this.getButton("","collapse",this.translate("button_collapse")),this.title_controls&&(this.title_controls.appendChild(this.toggle_button),this.toggle_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.collapsed?(t.collapsed=!1,t.panel.style.display="",t.setButtonText(this,"","collapse",t.translate("button_collapse"))):(t.collapsed=!0,t.panel.style.display="none",t.setButtonText(this,"","expand",t.translate("button_expand")))}),this.options.collapsed&&r(this.toggle_button,"click"),this.schema.options&&void 0!==this.schema.options.disable_collapse?this.schema.options.disable_collapse&&(this.toggle_button.style.display="none"):this.jsoneditor.options.disable_collapse&&(this.toggle_button.style.display="none")),this.add_row_button=this.getButton(this.getItemTitle(),"add",this.translate("button_add_row_title",[this.getItemTitle()])),this.add_row_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.addRow(),t.refreshValue(),t.refreshRowButtons(),t.onChange(!0)}),t.controls.appendChild(this.add_row_button),this.delete_last_row_button=this.getButton(this.translate("button_delete_last",[this.getItemTitle()]),"delete",this.translate("button_delete_last_title",[this.getItemTitle()])),this.delete_last_row_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var i=t.getValue();i.pop(),t.setValue(i),t.onChange(!0)}),t.controls.appendChild(this.delete_last_row_button),this.remove_all_rows_button=this.getButton(this.translate("button_delete_all"),"delete",this.translate("button_delete_all_title")),this.remove_all_rows_button.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.setValue([]),t.onChange(!0)}),t.controls.appendChild(this.remove_all_rows_button)}}),o.defaults.editors.multiple=o.AbstractEditor.extend({register:function(){if(this.editors){for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].unregister();this.editors[this.type]&&this.editors[this.type].register()}this._super()},unregister:function(){if(this._super(),this.editors)for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].unregister()},getNumColumns:function(){return this.editors[this.type]?Math.max(this.editors[this.type].getNumColumns(),4):4},enable:function(){if(this.editors)for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].enable();this.switcher.disabled=!1,this._super()},disable:function(){if(this.editors)for(var t=0;t<this.editors.length;t++)this.editors[t]&&this.editors[t].disable();this.switcher.disabled=!0,this._super()},switchEditor:function(t){var e=this;this.editors[t]||this.buildChildEditor(t);var i=e.getValue();e.type=t,e.register(),s(e.editors,function(t,n){n&&(e.type===t?(e.keep_values&&n.setValue(i,!0),n.container.style.display=""):n.container.style.display="none")}),e.refreshValue(),e.refreshHeaderText()},buildChildEditor:function(t){var e,i=this,s=this.types[t],r=i.theme.getChildEditorHolder();i.editor_holder.appendChild(r),"string"==typeof s?(e=n({},i.schema)).type=s:(e=n({},i.schema,s),e=i.jsoneditor.expandRefs(e),s.required&&Array.isArray(s.required)&&i.schema.required&&Array.isArray(i.schema.required)&&(e.required=i.schema.required.concat(s.required)));var o=i.jsoneditor.getEditorClass(e);i.editors[t]=i.jsoneditor.createEditor(o,{jsoneditor:i.jsoneditor,schema:e,container:r,path:i.path,parent:i,required:!0}),i.editors[t].preBuild(),i.editors[t].build(),i.editors[t].postBuild(),i.editors[t].header&&(i.editors[t].header.style.display="none"),i.editors[t].option=i.switcher_options[t],r.addEventListener("change_header_text",function(){i.refreshHeaderText()}),t!==i.type&&(r.style.display="none")},preBuild:function(){if(this.types=[],this.type=0,this.editors=[],this.validators=[],this.keep_values=!0,void 0!==this.jsoneditor.options.keep_oneof_values&&(this.keep_values=this.jsoneditor.options.keep_oneof_values),void 0!==this.options.keep_oneof_values&&(this.keep_values=this.options.keep_oneof_values),this.schema.oneOf)this.oneOf=!0,this.types=this.schema.oneOf,delete this.schema.oneOf;else if(this.schema.anyOf)this.anyOf=!0,this.types=this.schema.anyOf,delete this.schema.anyOf;else{if(this.schema.type&&"any"!==this.schema.type)Array.isArray(this.schema.type)?this.types=this.schema.type:this.types=[this.schema.type];else if(this.types=["string","number","integer","boolean","object","array","null"],this.schema.disallow){var t=this.schema.disallow;"object"==typeof t&&Array.isArray(t)||(t=[t]);var e=[];s(this.types,function(i,n){-1===t.indexOf(n)&&e.push(n)}),this.types=e}delete this.schema.type}this.display_text=this.getDisplayText(this.types)},build:function(){var t=this,e=this.container;this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.container.appendChild(this.header),this.switcher=this.theme.getSwitcher(this.display_text),e.appendChild(this.switcher),this.switcher.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation(),t.switchEditor(t.display_text.indexOf(this.value)),t.onChange(!0)}),this.editor_holder=document.createElement("div"),e.appendChild(this.editor_holder);var i={};t.jsoneditor.options.custom_validators&&(i.custom_validators=t.jsoneditor.options.custom_validators),this.switcher_options=this.theme.getSwitcherOptions(this.switcher),s(this.types,function(e,s){var r;t.editors[e]=!1,"string"==typeof s?(r=n({},t.schema)).type=s:(r=n({},t.schema,s),s.required&&Array.isArray(s.required)&&t.schema.required&&Array.isArray(t.schema.required)&&(r.required=t.schema.required.concat(s.required))),t.validators[e]=new o.Validator(t.jsoneditor,r,i)}),this.switchEditor(0)},onChildEditorChange:function(t){this.editors[this.type]&&(this.refreshValue(),this.refreshHeaderText()),this._super()},refreshHeaderText:function(){var t=this.getDisplayText(this.types);s(this.switcher_options,function(e,i){i.textContent=t[e]})},refreshValue:function(){this.value=this.editors[this.type].getValue()},setValue:function(t,e){var i=this;s(this.validators,function(e,n){if(!n.validate(t).length)return i.type=e,i.switcher.value=i.display_text[e],!1}),this.switchEditor(this.type),this.editors[this.type].setValue(t,e),this.refreshValue(),i.onChange()},destroy:function(){s(this.editors,function(t,e){e&&e.destroy()}),this.editor_holder&&this.editor_holder.parentNode&&this.editor_holder.parentNode.removeChild(this.editor_holder),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),this._super()},showValidationErrors:function(t){var e=this;if(this.oneOf||this.anyOf){var i=this.oneOf?"oneOf":"anyOf";s(this.editors,function(r,o){if(o){var a=e.path+"."+i+"["+r+"]",l=[];s(t,function(t,i){if(i.path.substr(0,a.length)===a){var s=n({},i);s.path=e.path+s.path.substr(a.length),l.push(s)}}),o.showValidationErrors(l)}})}else s(this.editors,function(e,i){i&&i.showValidationErrors(t)})}}),o.defaults.editors.enum=o.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){this.container,this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.container.appendChild(this.title),this.options.enum_titles=this.options.enum_titles||[],this.enum=this.schema.enum,this.selected=0,this.select_options=[],this.html_values=[];for(var t=this,e=0;e<this.enum.length;e++)this.select_options[e]=this.options.enum_titles[e]||"Value "+(e+1),this.html_values[e]=this.getHTML(this.enum[e]);this.switcher=this.theme.getSwitcher(this.select_options),this.container.appendChild(this.switcher),this.display_area=this.theme.getIndentedPanel(),this.container.appendChild(this.display_area),this.options.hide_display&&(this.display_area.style.display="none"),this.switcher.addEventListener("change",function(){t.selected=t.select_options.indexOf(this.value),t.value=t.enum[t.selected],t.refreshValue(),t.onChange(!0)}),this.value=this.enum[0],this.refreshValue(),1===this.enum.length&&(this.switcher.style.display="none")},refreshValue:function(){var t=this;t.selected=-1;var e=JSON.stringify(this.value);return s(this.enum,function(i,n){if(e===JSON.stringify(n))return t.selected=i,!1}),t.selected<0?void t.setValue(t.enum[0]):(this.switcher.value=this.select_options[this.selected],void(this.display_area.innerHTML=this.html_values[this.selected]))},enable:function(){this.always_disabled||(this.switcher.disabled=!1),this._super()},disable:function(){this.switcher.disabled=!0,this._super()},getHTML:function(t){var e=this;if(null===t)return"<em>null</em>";if("object"==typeof t){var i="";return s(t,function(n,s){var r=e.getHTML(s);Array.isArray(t)||(r="<div><em>"+n+"</em>: "+r+"</div>"),i+="<li>"+r+"</li>"}),i=Array.isArray(t)?"<ol>"+i+"</ol>":"<ul style='margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;'>"+i+"</ul>"}return"boolean"==typeof t?t?"true":"false":"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},setValue:function(t){this.value!==t&&(this.value=t,this.refreshValue(),this.onChange())},destroy:function(){this.display_area&&this.display_area.parentNode&&this.display_area.parentNode.removeChild(this.display_area),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.switcher&&this.switcher.parentNode&&this.switcher.parentNode.removeChild(this.switcher),this._super()}}),o.defaults.editors.select=o.AbstractEditor.extend({setValue:function(t,e){var i=t=this.typecast(t||"");this.enum_values.indexOf(i)<0&&(i=this.enum_values[0]),this.value!==i&&(this.input.value=this.enum_options[this.enum_values.indexOf(i)],this.select2&&this.select2.select2("val",this.input.value),this.value=i,this.onChange())},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){if(!this.enum_options)return 3;for(var t=this.getTitle().length,e=0;e<this.enum_options.length;e++)t=Math.max(t,this.enum_options[e].length+4);return Math.min(12,Math.max(t/7,2))},typecast:function(t){return"boolean"===this.schema.type?!!t:"number"===this.schema.type?1*t:"integer"===this.schema.type?Math.floor(1*t):""+t},getValue:function(){return this.value},preBuild:function(){var t,e=this;if(this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[],this.schema.enum){var i=this.schema.options&&this.schema.options.enum_titles||[];s(this.schema.enum,function(t,n){e.enum_options[t]=""+n,e.enum_display[t]=""+(i[t]||n),e.enum_values[t]=e.typecast(n)}),this.isRequired()||(e.enum_display.unshift(" "),e.enum_options.unshift("undefined"),e.enum_values.unshift(void 0))}else if("boolean"===this.schema.type)e.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],e.enum_options=["1",""],e.enum_values=[!0,!1],this.isRequired()||(e.enum_display.unshift(" "),e.enum_options.unshift("undefined"),e.enum_values.unshift(void 0));else{if(!this.schema.enumSource)throw"'select' editor requires the enum property to be set.";if(this.enumSource=[],this.enum_display=[],this.enum_options=[],this.enum_values=[],Array.isArray(this.schema.enumSource))for(t=0;t<this.schema.enumSource.length;t++)"string"==typeof this.schema.enumSource[t]?this.enumSource[t]={source:this.schema.enumSource[t]}:Array.isArray(this.schema.enumSource[t])?this.enumSource[t]=this.schema.enumSource[t]:this.enumSource[t]=n({},this.schema.enumSource[t]);else this.schema.enumValue?this.enumSource=[{source:this.schema.enumSource,value:this.schema.enumValue}]:this.enumSource=[{source:this.schema.enumSource}];for(t=0;t<this.enumSource.length;t++)this.enumSource[t].value&&(this.enumSource[t].value=this.jsoneditor.compileTemplate(this.enumSource[t].value,this.template_engine)),this.enumSource[t].title&&(this.enumSource[t].title=this.jsoneditor.compileTemplate(this.enumSource[t].title,this.template_engine)),this.enumSource[t].filter&&(this.enumSource[t].filter=this.jsoneditor.compileTemplate(this.enumSource[t].filter,this.template_engine))}},build:function(){var t=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.options.compact&&(this.container.className+=" compact"),this.input=this.theme.getSelectInput(this.enum_options),this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation(),t.onInputChange()}),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),this.container.appendChild(this.control),this.value=this.enum_values[0]},onInputChange:function(){var t,e=this.input.value;(t=-1===this.enum_options.indexOf(e)?this.enum_values[0]:this.enum_values[this.enum_options.indexOf(e)])!==this.value&&(this.value=t,this.onChange(!0))},setupSelect2:function(){if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2&&(this.enum_options.length>2||this.enum_options.length&&this.enumSource)){var t=n({},o.plugins.select2);this.schema.options&&this.schema.options.select2_options&&(t=n(t,this.schema.options.select2_options)),this.select2=window.jQuery(this.input).select2(t);var e=this;this.select2.on("select2-blur",function(){e.input.value=e.select2.select2("val"),e.onInputChange()}),this.select2.on("change",function(){e.input.value=e.select2.select2("val"),e.onInputChange()})}else this.select2=null},postBuild:function(){this._super(),this.theme.afterInputReady(this.input),this.setupSelect2()},onWatchedFieldChange:function(){var t,e;if(this.enumSource){t=this.getWatchedFieldValues();for(var i=[],n=[],s=0;s<this.enumSource.length;s++)if(Array.isArray(this.enumSource[s]))i=i.concat(this.enumSource[s]),n=n.concat(this.enumSource[s]);else{var r=[];if(r=Array.isArray(this.enumSource[s].source)?this.enumSource[s].source:t[this.enumSource[s].source]){if(this.enumSource[s].slice&&(r=Array.prototype.slice.apply(r,this.enumSource[s].slice)),this.enumSource[s].filter){var o=[];for(e=0;e<r.length;e++)this.enumSource[s].filter({i:e,item:r[e],watched:t})&&o.push(r[e]);r=o}var a=[],l=[];for(e=0;e<r.length;e++){var d=r[e];this.enumSource[s].value?l[e]=this.enumSource[s].value({i:e,item:d}):l[e]=r[e],this.enumSource[s].title?a[e]=this.enumSource[s].title({i:e,item:d}):a[e]=l[e]}i=i.concat(l),n=n.concat(a)}}var h=this.value;this.theme.setSelectOptions(this.input,i,n),this.enum_options=i,this.enum_display=n,this.enum_values=i,this.select2&&this.select2.select2("destroy"),-1!==i.indexOf(h)?(this.input.value=h,this.value=h):(this.input.value=i[0],this.value=i[0]||"",this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange(),this.jsoneditor.notifyWatchers(this.path)),this.setupSelect2()}this._super()},enable:function(){this.always_disabled||(this.input.disabled=!1,this.select2&&this.select2.select2("enable",!0)),this._super()},disable:function(){this.input.disabled=!0,this.select2&&this.select2.select2("enable",!1),this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.select2&&(this.select2.select2("destroy"),this.select2=null),this._super()}}),o.defaults.editors.selectize=o.AbstractEditor.extend({setValue:function(t,e){var i=t=this.typecast(t||"");this.enum_values.indexOf(i)<0&&(i=this.enum_values[0]),this.value!==i&&(this.input.value=this.enum_options[this.enum_values.indexOf(i)],this.selectize&&this.selectize[0].selectize.addItem(i),this.value=i,this.onChange())},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){if(!this.enum_options)return 3;for(var t=this.getTitle().length,e=0;e<this.enum_options.length;e++)t=Math.max(t,this.enum_options[e].length+4);return Math.min(12,Math.max(t/7,2))},typecast:function(t){return"boolean"===this.schema.type?!!t:"number"===this.schema.type?1*t:"integer"===this.schema.type?Math.floor(1*t):""+t},getValue:function(){return this.value},preBuild:function(){var t,e=this;if(this.input_type="select",this.enum_options=[],this.enum_values=[],this.enum_display=[],this.schema.enum){var i=this.schema.options&&this.schema.options.enum_titles||[];s(this.schema.enum,function(t,n){e.enum_options[t]=""+n,e.enum_display[t]=""+(i[t]||n),e.enum_values[t]=e.typecast(n)})}else if("boolean"===this.schema.type)e.enum_display=this.schema.options&&this.schema.options.enum_titles||["true","false"],e.enum_options=["1","0"],e.enum_values=[!0,!1];else{if(!this.schema.enumSource)throw"'select' editor requires the enum property to be set.";if(this.enumSource=[],this.enum_display=[],this.enum_options=[],this.enum_values=[],Array.isArray(this.schema.enumSource))for(t=0;t<this.schema.enumSource.length;t++)"string"==typeof this.schema.enumSource[t]?this.enumSource[t]={source:this.schema.enumSource[t]}:Array.isArray(this.schema.enumSource[t])?this.enumSource[t]=this.schema.enumSource[t]:this.enumSource[t]=n({},this.schema.enumSource[t]);else this.schema.enumValue?this.enumSource=[{source:this.schema.enumSource,value:this.schema.enumValue}]:this.enumSource=[{source:this.schema.enumSource}];for(t=0;t<this.enumSource.length;t++)this.enumSource[t].value&&(this.enumSource[t].value=this.jsoneditor.compileTemplate(this.enumSource[t].value,this.template_engine)),this.enumSource[t].title&&(this.enumSource[t].title=this.jsoneditor.compileTemplate(this.enumSource[t].title,this.template_engine)),this.enumSource[t].filter&&(this.enumSource[t].filter=this.jsoneditor.compileTemplate(this.enumSource[t].filter,this.template_engine))}},build:function(){var t=this;this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.options.compact&&(this.container.className+=" compact"),this.input=this.theme.getSelectInput(this.enum_options),this.theme.setSelectOptions(this.input,this.enum_options,this.enum_display),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation(),t.onInputChange()}),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),this.container.appendChild(this.control),this.value=this.enum_values[0]},onInputChange:function(){var t=this.input.value;-1===this.enum_options.indexOf(t)&&this.enum_options[0],this.value=this.enum_values[this.enum_options.indexOf(t)],this.onChange(!0)},setupSelectize:function(){var t=this;if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.selectize&&(this.enum_options.length>=2||this.enum_options.length&&this.enumSource)){var e=n({},o.plugins.selectize);this.schema.options&&this.schema.options.selectize_options&&(e=n(e,this.schema.options.selectize_options)),this.selectize=window.jQuery(this.input).selectize(n(e,{create:!0,onChange:function(){t.onInputChange()}}))}else this.selectize=null},postBuild:function(){this._super(),this.theme.afterInputReady(this.input),this.setupSelectize()},onWatchedFieldChange:function(){var t,e;if(this.enumSource){t=this.getWatchedFieldValues();for(var i=[],n=[],s=0;s<this.enumSource.length;s++)if(Array.isArray(this.enumSource[s]))i=i.concat(this.enumSource[s]),n=n.concat(this.enumSource[s]);else if(t[this.enumSource[s].source]){var r=t[this.enumSource[s].source];if(this.enumSource[s].slice&&(r=Array.prototype.slice.apply(r,this.enumSource[s].slice)),this.enumSource[s].filter){var o=[];for(e=0;e<r.length;e++)this.enumSource[s].filter({i:e,item:r[e]})&&o.push(r[e]);r=o}var a=[],l=[];for(e=0;e<r.length;e++){var d=r[e];this.enumSource[s].value?l[e]=this.enumSource[s].value({i:e,item:d}):l[e]=r[e],this.enumSource[s].title?a[e]=this.enumSource[s].title({i:e,item:d}):a[e]=l[e]}i=i.concat(l),n=n.concat(a)}var h=this.value;this.theme.setSelectOptions(this.input,i,n),this.enum_options=i,this.enum_display=n,this.enum_values=i,-1!==i.indexOf(h)?(this.input.value=h,this.value=h):(this.input.value=i[0],this.value=i[0]||"",this.parent?this.parent.onChildEditorChange(this):this.jsoneditor.onChange(),this.jsoneditor.notifyWatchers(this.path)),this.selectize?this.updateSelectizeOptions(i):this.setupSelectize(),this._super()}},updateSelectizeOptions:function(t){var e=this.selectize[0].selectize,i=this;for(var n in e.off(),e.clearOptions(),t)e.addOption({value:t[n],text:t[n]});e.addItem(this.value),e.on("change",function(){i.onInputChange()})},enable:function(){this.always_disabled||(this.input.disabled=!1,this.selectize&&this.selectize[0].selectize.unlock()),this._super()},disable:function(){this.input.disabled=!0,this.selectize&&this.selectize[0].selectize.lock(),this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.selectize&&(this.selectize[0].selectize.destroy(),this.selectize=null),this._super()}}),o.defaults.editors.multiselect=o.AbstractEditor.extend({preBuild:function(){var t;this._super(),this.select_options={},this.select_values={};var e=this.jsoneditor.expandRefs(this.schema.items||{}),i=e.enum||[],n=e.options&&e.options.enum_titles||[];for(this.option_keys=[],this.option_titles=[],t=0;t<i.length;t++)this.sanitize(i[t])===i[t]&&(this.option_keys.push(i[t]+""),this.option_titles.push((n[t]||i[t])+""),this.select_values[i[t]+""]=i[t])},build:function(){var t,e=this;if(this.options.compact||(this.header=this.label=this.theme.getFormInputLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),!this.schema.format&&this.option_keys.length<8||"checkbox"===this.schema.format){for(this.input_type="checkboxes",this.inputs={},this.controls={},t=0;t<this.option_keys.length;t++){this.inputs[this.option_keys[t]]=this.theme.getCheckbox(),this.select_options[this.option_keys[t]]=this.inputs[this.option_keys[t]];var i=this.theme.getCheckboxLabel(this.option_titles[t]);this.controls[this.option_keys[t]]=this.theme.getFormControl(i,this.inputs[this.option_keys[t]])}this.control=this.theme.getMultiCheckboxHolder(this.controls,this.label,this.description)}else{for(this.input_type="select",this.input=this.theme.getSelectInput(this.option_keys),this.theme.setSelectOptions(this.input,this.option_keys,this.option_titles),this.input.multiple=!0,this.input.size=Math.min(10,this.option_keys.length),t=0;t<this.option_keys.length;t++)this.select_options[this.option_keys[t]]=this.input.children[t];(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.control=this.theme.getFormControl(this.label,this.input,this.description)}this.container.appendChild(this.control),this.control.addEventListener("change",function(i){i.preventDefault(),i.stopPropagation();var n=[];for(t=0;t<e.option_keys.length;t++)(e.select_options[e.option_keys[t]].selected||e.select_options[e.option_keys[t]].checked)&&n.push(e.select_values[e.option_keys[t]]);e.updateValue(n),e.onChange(!0)})},setValue:function(t,e){var i;for("object"!=typeof(t=t||[])?t=[t]:Array.isArray(t)||(t=[]),i=0;i<t.length;i++)"string"!=typeof t[i]&&(t[i]+="");for(i in this.select_options)this.select_options.hasOwnProperty(i)&&(this.select_options[i]["select"===this.input_type?"selected":"checked"]=-1!==t.indexOf(i));this.updateValue(t),this.onChange()},setupSelect2:function(){if(window.jQuery&&window.jQuery.fn&&window.jQuery.fn.select2){var t=window.jQuery.extend({},o.plugins.select2);this.schema.options&&this.schema.options.select2_options&&(t=n(t,this.schema.options.select2_options)),this.select2=window.jQuery(this.input).select2(t);var e=this;this.select2.on("select2-blur",function(){var t=e.select2.select2("val");e.value=t,e.onChange(!0)})}else this.select2=null},onInputChange:function(){this.value=this.input.value,this.onChange(!0)},postBuild:function(){this._super(),this.setupSelect2()},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){var t=this.getTitle().length;for(var e in this.select_values)this.select_values.hasOwnProperty(e)&&(t=Math.max(t,(this.select_values[e]+"").length+4));return Math.min(12,Math.max(t/7,2))},updateValue:function(t){for(var e=!1,i=[],n=0;n<t.length;n++)if(this.select_options[t[n]+""]){var s=this.sanitize(this.select_values[t[n]]);i.push(s),s!==t[n]&&(e=!0)}else e=!0;return this.value=i,this.select2&&this.select2.select2("val",this.value),e},sanitize:function(t){return"number"===this.schema.items.type?1*t:"integer"===this.schema.items.type?Math.floor(1*t):""+t},enable:function(){if(!this.always_disabled){if(this.input)this.input.disabled=!1;else if(this.inputs)for(var t in this.inputs)this.inputs.hasOwnProperty(t)&&(this.inputs[t].disabled=!1);this.select2&&this.select2.select2("enable",!0)}this._super()},disable:function(){if(this.input)this.input.disabled=!0;else if(this.inputs)for(var t in this.inputs)this.inputs.hasOwnProperty(t)&&(this.inputs[t].disabled=!0);this.select2&&this.select2.select2("enable",!1),this._super()},destroy:function(){this.select2&&(this.select2.select2("destroy"),this.select2=null),this._super()}}),o.defaults.editors.base64=o.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var t=this;if(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!window.FileReader)throw"FileReader required for base64 editor";this.uploader=this.theme.getFormInputField("file"),this.uploader.addEventListener("change",function(e){if(e.preventDefault(),e.stopPropagation(),this.files&&this.files.length){var i=new FileReader;i.onload=function(e){t.value=e.target.result,t.refreshPreview(),t.onChange(!0),i=null},i.readAsDataURL(this.files[0])}})}this.preview=this.theme.getFormInputDescription(this.schema.description),this.container.appendChild(this.preview),this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview,this.infoButton),this.container.appendChild(this.control)},refreshPreview:function(){if(this.last_preview!==this.value&&(this.last_preview=this.value,this.preview.innerHTML="",this.value)){var t=this.value.match(/^data:([^;,]+)[;,]/);if(t&&(t=t[1]),t){if(this.preview.innerHTML="<strong>Type:</strong> "+t+", <strong>Size:</strong> "+Math.floor((this.value.length-this.value.split(",")[0].length-1)/1.33333)+" bytes","image"===t.substr(0,5)){this.preview.innerHTML+="<br>";var e=document.createElement("img");e.style.maxWidth="100%",e.style.maxHeight="100px",e.src=this.value,this.preview.appendChild(e)}}else this.preview.innerHTML="<em>Invalid data URI</em>"}},enable:function(){this.uploader&&(this.uploader.disabled=!1),this._super()},disable:function(){this.uploader&&(this.uploader.disabled=!0),this._super()},setValue:function(t){this.value!==t&&(this.value=t,this.input.value=this.value,this.refreshPreview(),this.onChange())},destroy:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader),this._super()}}),o.defaults.editors.upload=o.AbstractEditor.extend({getNumColumns:function(){return 4},build:function(){var t=this;if(this.title=this.header=this.label=this.theme.getFormInputLabel(this.getTitle()),this.input=this.theme.getFormInputField("hidden"),this.container.appendChild(this.input),!this.schema.readOnly&&!this.schema.readonly){if(!this.jsoneditor.options.upload)throw"Upload handler required for upload editor";this.uploader=this.theme.getFormInputField("file"),this.uploader.addEventListener("change",function(e){if(e.preventDefault(),e.stopPropagation(),this.files&&this.files.length){var i=new FileReader;i.onload=function(e){t.preview_value=e.target.result,t.refreshPreview(),t.onChange(!0),i=null},i.readAsDataURL(this.files[0])}})}var e=this.schema.description;e||(e=""),this.preview=this.theme.getFormInputDescription(e),this.container.appendChild(this.preview),this.control=this.theme.getFormControl(this.label,this.uploader||this.input,this.preview),this.container.appendChild(this.control)},refreshPreview:function(){if(this.last_preview!==this.preview_value&&(this.last_preview=this.preview_value,this.preview.innerHTML="",this.preview_value)){var t=this,e=this.preview_value.match(/^data:([^;,]+)[;,]/);e&&(e=e[1]),e||(e="unknown");var i=this.uploader.files[0];if(this.preview.innerHTML="<strong>Type:</strong> "+e+", <strong>Size:</strong> "+i.size+" bytes","image"===e.substr(0,5)){this.preview.innerHTML+="<br>";var n=document.createElement("img");n.style.maxWidth="100%",n.style.maxHeight="100px",n.src=this.preview_value,this.preview.appendChild(n)}this.preview.innerHTML+="<br>";var s=this.getButton("Upload","upload","Upload");this.preview.appendChild(s),s.addEventListener("click",function(e){e.preventDefault(),s.setAttribute("disabled","disabled"),t.theme.removeInputError(t.uploader),t.theme.getProgressBar&&(t.progressBar=t.theme.getProgressBar(),t.preview.appendChild(t.progressBar)),t.jsoneditor.options.upload(t.path,i,{success:function(e){t.setValue(e),t.parent?t.parent.onChildEditorChange(t):t.jsoneditor.onChange(),t.progressBar&&t.preview.removeChild(t.progressBar),s.removeAttribute("disabled")},failure:function(e){t.theme.addInputError(t.uploader,e),t.progressBar&&t.preview.removeChild(t.progressBar),s.removeAttribute("disabled")},updateProgress:function(e){t.progressBar&&(e?t.theme.updateProgressBar(t.progressBar,e):t.theme.updateProgressBarUnknown(t.progressBar))}})})}},enable:function(){this.uploader&&(this.uploader.disabled=!1),this._super()},disable:function(){this.uploader&&(this.uploader.disabled=!0),this._super()},setValue:function(t){this.value!==t&&(this.value=t,this.input.value=this.value,this.onChange())},destroy:function(){this.preview&&this.preview.parentNode&&this.preview.parentNode.removeChild(this.preview),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this.uploader&&this.uploader.parentNode&&this.uploader.parentNode.removeChild(this.uploader),this._super()}}),o.defaults.editors.checkbox=o.AbstractEditor.extend({setValue:function(t,e){this.value=!!t,this.input.checked=this.value,this.onChange()},register:function(){this._super(),this.input&&this.input.setAttribute("name",this.formname)},unregister:function(){this._super(),this.input&&this.input.removeAttribute("name")},getNumColumns:function(){return Math.min(12,Math.max(this.getTitle().length/7,2))},build:function(){var t=this;this.options.compact||(this.label=this.header=this.theme.getCheckboxLabel(this.getTitle())),this.schema.description&&(this.description=this.theme.getFormInputDescription(this.schema.description)),this.options.infoText&&(this.infoButton=this.theme.getInfoButton(this.options.infoText)),this.options.compact&&(this.container.className+=" compact"),this.input=this.theme.getCheckbox(),this.control=this.theme.getFormControl(this.label,this.input,this.description,this.infoButton),(this.schema.readOnly||this.schema.readonly)&&(this.always_disabled=!0,this.input.disabled=!0),this.input.addEventListener("change",function(e){e.preventDefault(),e.stopPropagation(),t.value=this.checked,t.onChange(!0)}),this.container.appendChild(this.control)},enable:function(){this.always_disabled||(this.input.disabled=!1),this._super()},disable:function(){this.input.disabled=!0,this._super()},destroy:function(){this.label&&this.label.parentNode&&this.label.parentNode.removeChild(this.label),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this._super()}}),o.defaults.editors.arraySelectize=o.AbstractEditor.extend({build:function(){this.title=this.theme.getFormInputLabel(this.getTitle()),this.title_controls=this.theme.getHeaderButtonHolder(),this.title.appendChild(this.title_controls),this.error_holder=document.createElement("div"),this.schema.description&&(this.description=this.theme.getDescription(this.schema.description)),this.input=document.createElement("select"),this.input.setAttribute("multiple","multiple");var t=this.theme.getFormControl(this.title,this.input,this.description);this.container.appendChild(t),this.container.appendChild(this.error_holder),window.jQuery(this.input).selectize({delimiter:!1,createOnBlur:!0,create:!0})},postBuild:function(){var t=this;this.input.selectize.on("change",function(e){t.refreshValue(),t.onChange(!0)})},destroy:function(){this.empty(!0),this.title&&this.title.parentNode&&this.title.parentNode.removeChild(this.title),this.description&&this.description.parentNode&&this.description.parentNode.removeChild(this.description),this.input&&this.input.parentNode&&this.input.parentNode.removeChild(this.input),this._super()},empty:function(t){},setValue:function(t,e){var i=this;t=t||[],Array.isArray(t)||(t=[t]),this.input.selectize.clearOptions(),this.input.selectize.clear(!0),t.forEach(function(t){i.input.selectize.addOption({text:t,value:t})}),this.input.selectize.setValue(t),this.refreshValue(e)},refreshValue:function(t){this.value=this.input.selectize.getValue()},showValidationErrors:function(t){var e=this,i=[],n=[];s(t,function(t,s){s.path===e.path?i.push(s):n.push(s)}),this.error_holder&&(i.length?(this.error_holder.innerHTML="",this.error_holder.style.display="",s(i,function(t,i){e.error_holder.appendChild(e.theme.getErrorMessage(i.message))})):this.error_holder.style.display="none")}});var a,l=(a=document.documentElement).matches?"matches":a.webkitMatchesSelector?"webkitMatchesSelector":a.mozMatchesSelector?"mozMatchesSelector":a.msMatchesSelector?"msMatchesSelector":a.oMatchesSelector?"oMatchesSelector":void 0;o.AbstractTheme=t.extend({getContainer:function(){return document.createElement("div")},getFloatRightLinkHolder:function(){var t=document.createElement("div");return t.style=t.style||{},t.style.cssFloat="right",t.style.marginLeft="10px",t},getModal:function(){var t=document.createElement("div");return t.style.backgroundColor="white",t.style.border="1px solid black",t.style.boxShadow="3px 3px black",t.style.position="absolute",t.style.zIndex="10",t.style.display="none",t},getGridContainer:function(){return document.createElement("div")},getGridRow:function(){var t=document.createElement("div");return t.className="row",t},getGridColumn:function(){return document.createElement("div")},setGridColumnSize:function(t,e){},getLink:function(t){var e=document.createElement("a");return e.setAttribute("href","#"),e.appendChild(document.createTextNode(t)),e},disableHeader:function(t){t.style.color="#ccc"},disableLabel:function(t){t.style.color="#ccc"},enableHeader:function(t){t.style.color=""},enableLabel:function(t){t.style.color=""},getInfoButton:function(t){var e=document.createElement("span");e.innerText="ⓘ",e.style.fontSize="16px",e.style.fontWeight="bold",e.style.padding=".25rem",e.style.position="relative",e.style.display="inline-block";var i=document.createElement("span");return i.style.fontSize="12px",e.style.fontWeight="normal",i.style["font-family"]="sans-serif",i.style.visibility="hidden",i.style["background-color"]="rgba(50, 50, 50, .75)",i.style.margin="0 .25rem",i.style.color="#FAFAFA",i.style.padding=".5rem 1rem",i.style["border-radius"]=".25rem",i.style.width="20rem",i.style.position="absolute",i.innerText=t,e.onmouseover=function(){i.style.visibility="visible"},e.onmouseleave=function(){i.style.visibility="hidden"},e.appendChild(i),e},getFormInputLabel:function(t){var e=document.createElement("label");return e.appendChild(document.createTextNode(t)),e},getCheckboxLabel:function(t){var e=this.getFormInputLabel(t);return e.style.fontWeight="normal",e},getHeader:function(t){var e=document.createElement("h3");return"string"==typeof t?e.textContent=t:e.appendChild(t),e},getCheckbox:function(){var t=this.getFormInputField("checkbox");return t.style.display="inline-block",t.style.width="auto",t},getMultiCheckboxHolder:function(t,e,i){var n=document.createElement("div");for(var s in e&&(e.style.display="block",n.appendChild(e)),t)t.hasOwnProperty(s)&&(t[s].style.display="inline-block",t[s].style.marginRight="20px",n.appendChild(t[s]));return i&&n.appendChild(i),n},getSelectInput:function(t){var e=document.createElement("select");return t&&this.setSelectOptions(e,t),e},getSwitcher:function(t){var e=this.getSelectInput(t);return e.style.backgroundColor="transparent",e.style.display="inline-block",e.style.fontStyle="italic",e.style.fontWeight="normal",e.style.height="auto",e.style.marginBottom=0,e.style.marginLeft="5px",e.style.padding="0 0 0 3px",e.style.width="auto",e},getSwitcherOptions:function(t){return t.getElementsByTagName("option")},setSwitcherOptions:function(t,e,i){this.setSelectOptions(t,e,i)},setSelectOptions:function(t,e,i){i=i||[],t.innerHTML="";for(var n=0;n<e.length;n++){var s=document.createElement("option");s.setAttribute("value",e[n]),s.textContent=i[n]||e[n],t.appendChild(s)}},getTextareaInput:function(){var t=document.createElement("textarea");return t.style=t.style||{},t.style.width="100%",t.style.height="300px",t.style.boxSizing="border-box",t},getRangeInput:function(t,e,i){var n=this.getFormInputField("range");return n.setAttribute("min",t),n.setAttribute("max",e),n.setAttribute("step",i),n},getFormInputField:function(t){var e=document.createElement("input");return e.setAttribute("type",t),e},afterInputReady:function(t){},getFormControl:function(t,e,i,n){var s=document.createElement("div");return s.className="form-control",t&&s.appendChild(t),"checkbox"===e.type?(t.insertBefore(e,t.firstChild),n&&t.appendChild(n)):(n&&t.appendChild(n),s.appendChild(e)),i&&s.appendChild(i),s},getIndentedPanel:function(){var t=document.createElement("div");return t.style=t.style||{},t.style.paddingLeft="10px",t.style.marginLeft="10px",t.style.borderLeft="1px solid #ccc",t},getChildEditorHolder:function(){return document.createElement("div")},getDescription:function(t){var e=document.createElement("p");return e.innerHTML=t,e},getCheckboxDescription:function(t){return this.getDescription(t)},getFormInputDescription:function(t){return this.getDescription(t)},getHeaderButtonHolder:function(){return this.getButtonHolder()},getButtonHolder:function(){return document.createElement("div")},getButton:function(t,e,i){var n=document.createElement("button");return n.type="button",this.setButtonText(n,t,e,i),n},setButtonText:function(t,e,i,n){t.innerHTML="",i&&(t.appendChild(i),t.innerHTML+=" "),t.appendChild(document.createTextNode(e)),n&&t.setAttribute("title",n)},getTable:function(){return document.createElement("table")},getTableRow:function(){return document.createElement("tr")},getTableHead:function(){return document.createElement("thead")},getTableBody:function(){return document.createElement("tbody")},getTableHeaderCell:function(t){var e=document.createElement("th");return e.textContent=t,e},getTableCell:function(){return document.createElement("td")},getErrorMessage:function(t){var e=document.createElement("p");return e.style=e.style||{},e.style.color="red",e.appendChild(document.createTextNode(t)),e},addInputError:function(t,e){},removeInputError:function(t){},addTableRowError:function(t){},removeTableRowError:function(t){},getTabHolder:function(){var t=document.createElement("div");return t.innerHTML="<div style='float: left; width: 130px;' class='tabs'></div><div class='content' style='margin-left: 130px;'></div><div style='clear:both;'></div>",t},applyStyles:function(t,e){for(var i in t.style=t.style||{},e)e.hasOwnProperty(i)&&(t.style[i]=e[i])},closest:function(t,e){for(;t&&t!==document;){if(!t[l])return!1;if(t[l](e))return t;t=t.parentNode}return!1},getTab:function(t){var e=document.createElement("div");return e.appendChild(t),e.style=e.style||{},this.applyStyles(e,{border:"1px solid #ccc",borderWidth:"1px 0 1px 1px",textAlign:"center",lineHeight:"30px",borderRadius:"5px",borderBottomRightRadius:0,borderTopRightRadius:0,fontWeight:"bold",cursor:"pointer"}),e},getTabContentHolder:function(t){return t.children[1]},getTabContent:function(){return this.getIndentedPanel()},markTabActive:function(t){this.applyStyles(t,{opacity:1,background:"white"})},markTabInactive:function(t){this.applyStyles(t,{opacity:.5,background:""})},addTab:function(t,e){t.children[0].appendChild(e)},getBlockLink:function(){var t=document.createElement("a");return t.style.display="block",t},getBlockLinkHolder:function(){return document.createElement("div")},getLinksHolder:function(){return document.createElement("div")},createMediaLink:function(t,e,i){t.appendChild(e),i.style.width="100%",t.appendChild(i)},createImageLink:function(t,e,i){t.appendChild(e),e.appendChild(i)}}),o.defaults.themes.bootstrap2=o.AbstractTheme.extend({getRangeInput:function(t,e,i){return this._super(t,e,i)},getGridContainer:function(){var t=document.createElement("div");return t.className="container-fluid",t},getGridRow:function(){var t=document.createElement("div");return t.className="row-fluid",t},getFormInputLabel:function(t){var e=this._super(t);return e.style.display="inline-block",e.style.fontWeight="bold",e},setGridColumnSize:function(t,e){t.className="span"+e},getSelectInput:function(t){var e=this._super(t);return e.style.width="auto",e.style.maxWidth="98%",e},getFormInputField:function(t){var e=this._super(t);return e.style.width="98%",e},afterInputReady:function(t){t.controlgroup||(t.controlgroup=this.closest(t,".control-group"),t.controls=this.closest(t,".controls"),this.closest(t,".compact")&&(t.controlgroup.className=t.controlgroup.className.replace(/control-group/g,"").replace(/[ ]{2,}/g," "),t.controls.className=t.controlgroup.className.replace(/controls/g,"").replace(/[ ]{2,}/g," "),t.style.marginBottom=0))},getIndentedPanel:function(){var t=document.createElement("div");return t.className="well well-small",t.style.paddingBottom=0,t},getInfoButton:function(t){var e=document.createElement("span");e.className="icon-info-sign pull-right",e.style.padding=".25rem",e.style.position="relative",e.style.display="inline-block";var i=document.createElement("span");return i.style["font-family"]="sans-serif",i.style.visibility="hidden",i.style["background-color"]="rgba(50, 50, 50, .75)",i.style.margin="0 .25rem",i.style.color="#FAFAFA",i.style.padding=".5rem 1rem",i.style["border-radius"]=".25rem",i.style.width="25rem",i.style.transform="translateX(-27rem) translateY(-.5rem)",i.style.position="absolute",i.innerText=t,e.onmouseover=function(){i.style.visibility="visible"},e.onmouseleave=function(){i.style.visibility="hidden"},e.appendChild(i),e},getFormInputDescription:function(t){var e=document.createElement("p");return e.className="help-inline",e.textContent=t,e},getFormControl:function(t,e,i,n){var s=document.createElement("div");s.className="control-group";var r=document.createElement("div");return r.className="controls",t&&"checkbox"===e.getAttribute("type")?(s.appendChild(r),t.className+=" checkbox",t.appendChild(e),r.appendChild(t),n&&r.appendChild(n),r.style.height="30px"):(t&&(t.className+=" control-label",s.appendChild(t)),n&&r.appendChild(n),r.appendChild(e),s.appendChild(r)),i&&r.appendChild(i),s},getHeaderButtonHolder:function(){var t=this.getButtonHolder();return t.style.marginLeft="10px",t},getButtonHolder:function(){var t=document.createElement("div");return t.className="btn-group",t},getButton:function(t,e,i){var n=this._super(t,e,i);return n.className+=" btn btn-default",n},getTable:function(){var t=document.createElement("table");return t.className="table table-bordered",t.style.width="auto",t.style.maxWidth="none",t},addInputError:function(t,e){t.controlgroup&&t.controls&&(t.controlgroup.className+=" error",t.errmsg?t.errmsg.style.display="":(t.errmsg=document.createElement("p"),t.errmsg.className="help-block errormsg",t.controls.appendChild(t.errmsg)),t.errmsg.textContent=e)},removeInputError:function(t){t.errmsg&&(t.errmsg.style.display="none",t.controlgroup.className=t.controlgroup.className.replace(/\s?error/g,""))},getTabHolder:function(){var t=document.createElement("div");return t.className="tabbable tabs-left",t.innerHTML="<ul class='nav nav-tabs span2' style='margin-right: 0;'></ul><div class='tab-content span10' style='overflow:visible;'></div>",t},getTab:function(t){var e=document.createElement("li"),i=document.createElement("a");return i.setAttribute("href","#"),i.appendChild(t),e.appendChild(i),e},getTabContentHolder:function(t){return t.children[1]},getTabContent:function(){var t=document.createElement("div");return t.className="tab-pane active",t},markTabActive:function(t){t.className+=" active"},markTabInactive:function(t){t.className=t.className.replace(/\s?active/g,"")},addTab:function(t,e){t.children[0].appendChild(e)},getProgressBar:function(){var t=document.createElement("div");t.className="progress";var e=document.createElement("div");return e.className="bar",e.style.width="0%",t.appendChild(e),t},updateProgressBar:function(t,e){t&&(t.firstChild.style.width=e+"%")},updateProgressBarUnknown:function(t){t&&(t.className="progress progress-striped active",t.firstChild.style.width="100%")}}),o.defaults.themes.bootstrap3=o.AbstractTheme.extend({getSelectInput:function(t){var e=this._super(t);return e.className+="form-control",e},setGridColumnSize:function(t,e){t.className="col-md-"+e},afterInputReady:function(t){t.controlgroup||(t.controlgroup=this.closest(t,".form-group"),this.closest(t,".compact")&&(t.controlgroup.style.marginBottom=0))},getTextareaInput:function(){var t=document.createElement("textarea");return t.className="form-control",t},getRangeInput:function(t,e,i){return this._super(t,e,i)},getFormInputField:function(t){var e=this._super(t);return"checkbox"!==t&&(e.className+="form-control"),e},getFormControl:function(t,e,i,n){var s=document.createElement("div");return t&&"checkbox"===e.type?(s.className+=" checkbox",t.appendChild(e),t.style.fontSize="14px",s.style.marginTop="0",n&&s.appendChild(n),s.appendChild(t),e.style.position="relative",e.style.cssFloat="left"):(s.className+=" form-group",t&&(t.className+=" control-label",s.appendChild(t)),n&&s.appendChild(n),s.appendChild(e)),i&&s.appendChild(i),s},getIndentedPanel:function(){var t=document.createElement("div");return t.className="well well-sm",t.style.paddingBottom=0,t},getInfoButton:function(t){var e=document.createElement("span");e.className="glyphicon glyphicon-info-sign pull-right",e.style.padding=".25rem",e.style.position="relative",e.style.display="inline-block";var i=document.createElement("span");return i.style["font-family"]="sans-serif",i.style.visibility="hidden",i.style["background-color"]="rgba(50, 50, 50, .75)",i.style.margin="0 .25rem",i.style.color="#FAFAFA",i.style.padding=".5rem 1rem",i.style["border-radius"]=".25rem",i.style.width="25rem",i.style.transform="translateX(-27rem) translateY(-.5rem)",i.style.position="absolute",i.innerText=t,e.onmouseover=function(){i.style.visibility="visible"},e.onmouseleave=function(){i.style.visibility="hidden"},e.appendChild(i),e},getFormInputDescription:function(t){var e=document.createElement("p");return e.className="help-block",e.innerHTML=t,e},getHeaderButtonHolder:function(){var t=this.getButtonHolder();return t.style.marginLeft="10px",t},getButtonHolder:function(){var t=document.createElement("div");return t.className="btn-group",t},getButton:function(t,e,i){var n=this._super(t,e,i);return n.className+="btn btn-default",n},getTable:function(){var t=document.createElement("table");return t.className="table table-bordered",t.style.width="auto",t.style.maxWidth="none",t},addInputError:function(t,e){t.controlgroup&&(t.controlgroup.className+=" has-error",t.errmsg?t.errmsg.style.display="":(t.errmsg=document.createElement("p"),t.errmsg.className="help-block errormsg",t.controlgroup.appendChild(t.errmsg)),t.errmsg.textContent=e)},removeInputError:function(t){t.errmsg&&(t.errmsg.style.display="none",t.controlgroup.className=t.controlgroup.className.replace(/\s?has-error/g,""))},getTabHolder:function(){var t=document.createElement("div");return t.innerHTML="<div class='tabs list-group col-md-2'></div><div class='col-md-10'></div>",t.className="rows",t},getTab:function(t){var e=document.createElement("a");return e.className="list-group-item",e.setAttribute("href","#"),e.appendChild(t),e},markTabActive:function(t){t.className+=" active"},markTabInactive:function(t){t.className=t.className.replace(/\s?active/g,"")},getProgressBar:function(){var t=document.createElement("div");t.className="progress";var e=document.createElement("div");return e.className="progress-bar",e.setAttribute("role","progressbar"),e.setAttribute("aria-valuenow",0),e.setAttribute("aria-valuemin",0),e.setAttribute("aria-valuenax",100),e.innerHTML="0%",t.appendChild(e),t},updateProgressBar:function(t,e){if(t){var i=t.firstChild,n=e+"%";i.setAttribute("aria-valuenow",e),i.style.width=n,i.innerHTML=n}},updateProgressBarUnknown:function(t){if(t){var e=t.firstChild;t.className="progress progress-striped active",e.removeAttribute("aria-valuenow"),e.style.width="100%",e.innerHTML=""}}}),o.defaults.themes.foundation=o.AbstractTheme.extend({getChildEditorHolder:function(){var t=document.createElement("div");return t.style.marginBottom="15px",t},getSelectInput:function(t){var e=this._super(t);return e.style.minWidth="none",e.style.padding="5px",e.style.marginTop="3px",e},getSwitcher:function(t){var e=this._super(t);return e.style.paddingRight="8px",e},afterInputReady:function(t){this.closest(t,".compact")&&(t.style.marginBottom=0),t.group=this.closest(t,".form-control")},getFormInputLabel:function(t){var e=this._super(t);return e.style.display="inline-block",e},getFormInputField:function(t){var e=this._super(t);return e.style.width="100%",e.style.marginBottom="checkbox"===t?"0":"12px",e},getFormInputDescription:function(t){var e=document.createElement("p");return e.textContent=t,e.style.marginTop="-10px",e.style.fontStyle="italic",e},getIndentedPanel:function(){var t=document.createElement("div");return t.className="panel",t.style.paddingBottom=0,t},getHeaderButtonHolder:function(){var t=this.getButtonHolder();return t.style.display="inline-block",t.style.marginLeft="10px",t.style.verticalAlign="middle",t},getButtonHolder:function(){var t=document.createElement("div");return t.className="button-group",t},getButton:function(t,e,i){var n=this._super(t,e,i);return n.className+=" small button",n},addInputError:function(t,e){t.group&&(t.group.className+=" error",t.errmsg?t.errmsg.style.display="":(t.insertAdjacentHTML("afterend",'<small class="error"></small>'),t.errmsg=t.parentNode.getElementsByClassName("error")[0]),t.errmsg.textContent=e)},removeInputError:function(t){t.errmsg&&(t.group.className=t.group.className.replace(/ error/g,""),t.errmsg.style.display="none")},getProgressBar:function(){var t=document.createElement("div");t.className="progress";var e=document.createElement("span");return e.className="meter",e.style.width="0%",t.appendChild(e),t},updateProgressBar:function(t,e){t&&(t.firstChild.style.width=e+"%")},updateProgressBarUnknown:function(t){t&&(t.firstChild.style.width="100%")}}),o.defaults.themes.foundation3=o.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var t=this._super();return t.style.fontSize=".6em",t},getFormInputLabel:function(t){var e=this._super(t);return e.style.fontWeight="bold",e},getTabHolder:function(){var t=document.createElement("div");return t.className="row",t.innerHTML="<dl class='tabs vertical two columns'></dl><div class='tabs-content ten columns'></div>",t},setGridColumnSize:function(t,e){t.className="columns "+["zero","one","two","three","four","five","six","seven","eight","nine","ten","eleven","twelve"][e]},getTab:function(t){var e=document.createElement("dd"),i=document.createElement("a");return i.setAttribute("href","#"),i.appendChild(t),e.appendChild(i),e},getTabContentHolder:function(t){return t.children[1]},getTabContent:function(){var t=document.createElement("div");return t.className="content active",t.style.paddingLeft="5px",t},markTabActive:function(t){t.className+=" active"},markTabInactive:function(t){t.className=t.className.replace(/\s*active/g,"")},addTab:function(t,e){t.children[0].appendChild(e)}}),o.defaults.themes.foundation4=o.defaults.themes.foundation.extend({getHeaderButtonHolder:function(){var t=this._super();return t.style.fontSize=".6em",t},setGridColumnSize:function(t,e){t.className="columns large-"+e},getFormInputDescription:function(t){var e=this._super(t);return e.style.fontSize=".8rem",e},getFormInputLabel:function(t){var e=this._super(t);return e.style.fontWeight="bold",e}}),o.defaults.themes.foundation5=o.defaults.themes.foundation.extend({getFormInputDescription:function(t){var e=this._super(t);return e.style.fontSize=".8rem",e},setGridColumnSize:function(t,e){t.className="columns medium-"+e},getButton:function(t,e,i){var n=this._super(t,e,i);return n.className=n.className.replace(/\s*small/g,"")+" tiny",n},getTabHolder:function(){var t=document.createElement("div");return t.innerHTML="<dl class='tabs vertical'></dl><div class='tabs-content vertical'></div>",t},getTab:function(t){var e=document.createElement("dd"),i=document.createElement("a");return i.setAttribute("href","#"),i.appendChild(t),e.appendChild(i),e},getTabContentHolder:function(t){return t.children[1]},getTabContent:function(){var t=document.createElement("div");return t.className="content active",t.style.paddingLeft="5px",t},markTabActive:function(t){t.className+=" active"},markTabInactive:function(t){t.className=t.className.replace(/\s*active/g,"")},addTab:function(t,e){t.children[0].appendChild(e)}}),o.defaults.themes.foundation6=o.defaults.themes.foundation5.extend({getIndentedPanel:function(){var t=document.createElement("div");return t.className="callout secondary",t},getButtonHolder:function(){var t=document.createElement("div");return t.className="button-group tiny",t.style.marginBottom=0,t},getFormInputLabel:function(t){var e=this._super(t);return e.style.display="block",e},getFormControl:function(t,e,i,n){var s=document.createElement("div");return s.className="form-control",t&&s.appendChild(t),"checkbox"===e.type?t.insertBefore(e,t.firstChild):t?(n&&t.appendChild(n),t.appendChild(e)):(n&&s.appendChild(n),s.appendChild(e)),i&&t.appendChild(i),s},addInputError:function(t,e){if(t.group){if(t.group.className+=" error",t.errmsg)t.errmsg.style.display="",t.className="";else{var i=document.createElement("span");i.className="form-error is-visible",t.group.getElementsByTagName("label")[0].appendChild(i),t.className=t.className+" is-invalid-input",t.errmsg=i}t.errmsg.textContent=e}},removeInputError:function(t){t.errmsg&&(t.className=t.className.replace(/ is-invalid-input/g,""),t.errmsg.parentNode&&t.errmsg.parentNode.removeChild(t.errmsg))}}),o.defaults.themes.html=o.AbstractTheme.extend({getFormInputLabel:function(t){var e=this._super(t);return e.style.display="block",e.style.marginBottom="3px",e.style.fontWeight="bold",e},getFormInputDescription:function(t){var e=this._super(t);return e.style.fontSize=".8em",e.style.margin=0,e.style.display="inline-block",e.style.fontStyle="italic",e},getIndentedPanel:function(){var t=this._super();return t.style.border="1px solid #ddd",t.style.padding="5px",t.style.margin="5px",t.style.borderRadius="3px",t},getChildEditorHolder:function(){var t=this._super();return t.style.marginBottom="8px",t},getHeaderButtonHolder:function(){var t=this.getButtonHolder();return t.style.display="inline-block",t.style.marginLeft="10px",t.style.fontSize=".8em",t.style.verticalAlign="middle",t},getTable:function(){var t=this._super();return t.style.borderBottom="1px solid #ccc",t.style.marginBottom="5px",t},addInputError:function(t,e){if(t.style.borderColor="red",t.errmsg)t.errmsg.style.display="block";else{var i=this.closest(t,".form-control");t.errmsg=document.createElement("div"),t.errmsg.setAttribute("class","errmsg"),t.errmsg.style=t.errmsg.style||{},t.errmsg.style.color="red",i.appendChild(t.errmsg)}t.errmsg.innerHTML="",t.errmsg.appendChild(document.createTextNode(e))},removeInputError:function(t){t.style.borderColor="",t.errmsg&&(t.errmsg.style.display="none")},getProgressBar:function(){var t=document.createElement("progress");return t.setAttribute("max",100),t.setAttribute("value",0),t},updateProgressBar:function(t,e){t&&t.setAttribute("value",e)},updateProgressBarUnknown:function(t){t&&t.removeAttribute("value")}}),o.defaults.themes.jqueryui=o.AbstractTheme.extend({getTable:function(){var t=this._super();return t.setAttribute("cellpadding",5),t.setAttribute("cellspacing",0),t},getTableHeaderCell:function(t){var e=this._super(t);return e.className="ui-state-active",e.style.fontWeight="bold",e},getTableCell:function(){var t=this._super();return t.className="ui-widget-content",t},getHeaderButtonHolder:function(){var t=this.getButtonHolder();return t.style.marginLeft="10px",t.style.fontSize=".6em",t.style.display="inline-block",t},getFormInputDescription:function(t){var e=this.getDescription(t);return e.style.marginLeft="10px",e.style.display="inline-block",e},getFormControl:function(t,e,i,n){var s=this._super(t,e,i,n);return"checkbox"===e.type?(s.style.lineHeight="25px",s.style.padding="3px 0"):s.style.padding="4px 0 8px 0",s},getDescription:function(t){var e=document.createElement("span");return e.style.fontSize=".8em",e.style.fontStyle="italic",e.textContent=t,e},getButtonHolder:function(){var t=document.createElement("div");return t.className="ui-buttonset",t.style.fontSize=".7em",t},getFormInputLabel:function(t){var e=document.createElement("label");return e.style.fontWeight="bold",e.style.display="block",e.textContent=t,e},getButton:function(t,e,i){var n=document.createElement("button");n.className="ui-button ui-widget ui-state-default ui-corner-all",e&&!t?(n.className+=" ui-button-icon-only",e.className+=" ui-button-icon-primary ui-icon-primary",n.appendChild(e)):e?(n.className+=" ui-button-text-icon-primary",e.className+=" ui-button-icon-primary ui-icon-primary",n.appendChild(e)):n.className+=" ui-button-text-only";var s=document.createElement("span");return s.className="ui-button-text",s.textContent=t||i||".",n.appendChild(s),n.setAttribute("title",i),n},setButtonText:function(t,e,i,n){t.innerHTML="",t.className="ui-button ui-widget ui-state-default ui-corner-all",i&&!e?(t.className+=" ui-button-icon-only",i.className+=" ui-button-icon-primary ui-icon-primary",t.appendChild(i)):i?(t.className+=" ui-button-text-icon-primary",i.className+=" ui-button-icon-primary ui-icon-primary",t.appendChild(i)):t.className+=" ui-button-text-only";var s=document.createElement("span");s.className="ui-button-text",s.textContent=e||n||".",t.appendChild(s),t.setAttribute("title",n)},getIndentedPanel:function(){var t=document.createElement("div");return t.className="ui-widget-content ui-corner-all",t.style.padding="1em 1.4em",t.style.marginBottom="20px",t},afterInputReady:function(t){t.controls||(t.controls=this.closest(t,".form-control"))},addInputError:function(t,e){t.controls&&(t.errmsg?t.errmsg.style.display="":(t.errmsg=document.createElement("div"),t.errmsg.className="ui-state-error",t.controls.appendChild(t.errmsg)),t.errmsg.textContent=e)},removeInputError:function(t){t.errmsg&&(t.errmsg.style.display="none")},markTabActive:function(t){t.className=t.className.replace(/\s*ui-widget-header/g,"")+" ui-state-active"},markTabInactive:function(t){t.className=t.className.replace(/\s*ui-state-active/g,"")+" ui-widget-header"}}),o.defaults.themes.barebones=o.AbstractTheme.extend({getFormInputLabel:function(t){return this._super(t)},getFormInputDescription:function(t){return this._super(t)},getIndentedPanel:function(){return this._super()},getChildEditorHolder:function(){return this._super()},getHeaderButtonHolder:function(){return this.getButtonHolder()},getTable:function(){return this._super()},addInputError:function(t,e){if(t.errmsg)t.errmsg.style.display="block";else{var i=this.closest(t,".form-control");t.errmsg=document.createElement("div"),t.errmsg.setAttribute("class","errmsg"),i.appendChild(t.errmsg)}t.errmsg.innerHTML="",t.errmsg.appendChild(document.createTextNode(e))},removeInputError:function(t){t.style.borderColor="",t.errmsg&&(t.errmsg.style.display="none")},getProgressBar:function(){var t=document.createElement("progress");return t.setAttribute("max",100),t.setAttribute("value",0),t},updateProgressBar:function(t,e){t&&t.setAttribute("value",e)},updateProgressBarUnknown:function(t){t&&t.removeAttribute("value")}}),o.AbstractIconLib=t.extend({mapping:{collapse:"",expand:"",delete:"",edit:"",add:"",cancel:"",save:"",moveup:"",movedown:""},icon_prefix:"",getIconClass:function(t){return this.mapping[t]?this.icon_prefix+this.mapping[t]:null},getIcon:function(t){var e=this.getIconClass(t);if(!e)return null;var i=document.createElement("i");return i.className=e,i}}),o.defaults.iconlibs.bootstrap2=o.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-up",delete:"trash",edit:"pencil",add:"plus",cancel:"ban-circle",save:"ok",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"icon-"}),o.defaults.iconlibs.bootstrap3=o.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right",delete:"remove",edit:"pencil",add:"plus",cancel:"floppy-remove",save:"floppy-saved",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"glyphicon glyphicon-"}),o.defaults.iconlibs.fontawesome3=o.AbstractIconLib.extend({mapping:{collapse:"chevron-down",expand:"chevron-right",delete:"remove",edit:"pencil",add:"plus",cancel:"ban-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"icon-"}),o.defaults.iconlibs.fontawesome4=o.AbstractIconLib.extend({mapping:{collapse:"caret-square-o-down",expand:"caret-square-o-right",delete:"times",edit:"pencil",add:"plus",cancel:"ban",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fa fa-"}),o.defaults.iconlibs.foundation2=o.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus",delete:"remove",edit:"edit",add:"add-doc",cancel:"error",save:"checkmark",moveup:"up-arrow",movedown:"down-arrow"},icon_prefix:"foundicon-"}),o.defaults.iconlibs.foundation3=o.AbstractIconLib.extend({mapping:{collapse:"minus",expand:"plus",delete:"x",edit:"pencil",add:"page-add",cancel:"x-circle",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fi-"}),o.defaults.iconlibs.jqueryui=o.AbstractIconLib.extend({mapping:{collapse:"triangle-1-s",expand:"triangle-1-e",delete:"trash",edit:"pencil",add:"plusthick",cancel:"closethick",save:"disk",moveup:"arrowthick-1-n",movedown:"arrowthick-1-s"},icon_prefix:"ui-icon ui-icon-"}),o.defaults.templates.default=function(){return{compile:function(t){var e=t.match(/{{\s*([a-zA-Z0-9\-_ \.]+)\s*}}/g),i=e&&e.length;if(!i)return function(){return t};for(var n=[],s=function(t){var i,s,r=e[t].replace(/[{}]+/g,"").trim().split("."),o=r.length;o>1?i=function(e){for(s=e,t=0;t<o&&(s=s[r[t]]);t++);return s}:(r=r[0],i=function(t){return t[r]});n.push({s:e[t],r:i})},r=0;r<i;r++)s(r);return function(e){var s,o=t+"";for(r=0;r<i;r++)s=n[r],o=o.replace(s.s,s.r(e));return o}}}},o.defaults.templates.ejs=function(){return!!window.EJS&&{compile:function(t){var e=new window.EJS({text:t});return function(t){return e.render(t)}}}},o.defaults.templates.handlebars=function(){return window.Handlebars},o.defaults.templates.hogan=function(){return!!window.Hogan&&{compile:function(t){var e=window.Hogan.compile(t);return function(t){return e.render(t)}}}},o.defaults.templates.markup=function(){return!(!window.Mark||!window.Mark.up)&&{compile:function(t){return function(e){return window.Mark.up(t,e)}}}},o.defaults.templates.mustache=function(){return!!window.Mustache&&{compile:function(t){return function(e){return window.Mustache.render(t,e)}}}},o.defaults.templates.swig=function(){return window.swig},o.defaults.templates.underscore=function(){return!!window._&&{compile:function(t){return function(e){return window._.template(t,e)}}}},o.defaults.theme="html",o.defaults.template="default",o.defaults.options={},o.defaults.translate=function(t,e){var i=o.defaults.languages[o.defaults.language];if(!i)throw"Unknown language "+o.defaults.language;var n=i[t]||o.defaults.languages[o.defaults.default_language][t];if(void 0===n)throw"Unknown translate string "+t;if(e)for(var s=0;s<e.length;s++)n=n.replace(new RegExp("\\{\\{"+s+"}}","g"),e[s]);return n},o.defaults.default_language="en",o.defaults.language=o.defaults.default_language,o.defaults.languages.en={error_notset:"Property must be set",error_notempty:"Value required",error_enum:"Value must be one of the enumerated values",error_anyOf:"Value must validate against at least one of the provided schemas",error_oneOf:"Value must validate against exactly one of the provided schemas. It currently validates against {{0}} of the schemas.",error_not:"Value must not validate against the provided schema",error_type_union:"Value must be one of the provided types",error_type:"Value must be of type {{0}}",error_disallow_union:"Value must not be one of the provided disallowed types",error_disallow:"Value must not be of type {{0}}",error_multipleOf:"Value must be a multiple of {{0}}",error_maximum_excl:"Value must be less than {{0}}",error_maximum_incl:"Value must be at most {{0}}",error_minimum_excl:"Value must be greater than {{0}}",error_minimum_incl:"Value must be at least {{0}}",error_maxLength:"Value must be at most {{0}} characters long",error_minLength:"Value must be at least {{0}} characters long",error_pattern:"Value must match the pattern {{0}}",error_additionalItems:"No additional items allowed in this array",error_maxItems:"Value must have at most {{0}} items",error_minItems:"Value must have at least {{0}} items",error_uniqueItems:"Array must have unique items",error_maxProperties:"Object must have at most {{0}} properties",error_minProperties:"Object must have at least {{0}} properties",error_required:"Object is missing the required property '{{0}}'",error_additional_properties:"No additional properties allowed, but property {{0}} is set",error_dependency:"Must have property {{0}}",button_delete_all:"All",button_delete_all_title:"Delete All",button_delete_last:"Last {{0}}",button_delete_last_title:"Delete Last {{0}}",button_add_row_title:"Add {{0}}",button_move_down_title:"Move down",button_move_up_title:"Move up",button_delete_row_title:"Delete {{0}}",button_delete_row_title_short:"Delete",button_collapse:"Collapse",button_expand:"Expand"},o.plugins={ace:{theme:""},epiceditor:{},sceditor:{},select2:{},selectize:{}},s(o.defaults.editors,function(t,e){o.defaults.editors[t].options=e.options||{}}),o.defaults.resolvers.unshift(function(t){if("string"!=typeof t.type)return"multiple"}),o.defaults.resolvers.unshift(function(t){if(!t.type&&t.properties)return"object"}),o.defaults.resolvers.unshift(function(t){if("string"==typeof t.type)return t.type}),o.defaults.resolvers.unshift(function(t){if("boolean"===t.type)return"checkbox"===t.format||t.options&&t.options.checkbox?"checkbox":o.plugins.selectize.enable?"selectize":"select"}),o.defaults.resolvers.unshift(function(t){if("any"===t.type)return"multiple"}),o.defaults.resolvers.unshift(function(t){if("string"===t.type&&t.media&&"base64"===t.media.binaryEncoding)return"base64"}),o.defaults.resolvers.unshift(function(t){if("string"===t.type&&"url"===t.format&&t.options&&!0===t.options.upload&&window.FileReader)return"upload"}),o.defaults.resolvers.unshift(function(t){if("array"==t.type&&"table"==t.format)return"table"}),o.defaults.resolvers.unshift(function(t){if(t.enumSource)return o.plugins.selectize.enable?"selectize":"select"}),o.defaults.resolvers.unshift(function(t){if(t.enum){if("array"===t.type||"object"===t.type)return"enum";if("number"===t.type||"integer"===t.type||"string"===t.type)return o.plugins.selectize.enable?"selectize":"select"}}),o.defaults.resolvers.unshift(function(t){if("array"===t.type&&t.items&&!Array.isArray(t.items)&&t.uniqueItems&&["string","number","integer"].indexOf(t.items.type)>=0){if(t.items.enum)return"multiselect";if(o.plugins.selectize.enable&&"string"===t.items.type)return"arraySelectize"}}),o.defaults.resolvers.unshift(function(t){if(t.oneOf||t.anyOf)return"multiple"}),function(){if(window.jQuery||window.Zepto){var t=window.jQuery||window.Zepto;t.jsoneditor=o.defaults,t.fn.jsoneditor=function(t){var e=this,i=this.data("jsoneditor");if("value"===t){if(!i)throw"Must initialize jsoneditor before getting/setting the value";if(!(arguments.length>1))return i.getValue();i.setValue(arguments[1])}else{if("validate"===t){if(!i)throw"Must initialize jsoneditor before validating";return arguments.length>1?i.validate(arguments[1]):i.validate()}"destroy"===t?i&&(i.destroy(),this.data("jsoneditor",null)):(i&&i.destroy(),i=new o(this.get(0),t),this.data("jsoneditor",i),i.on("change",function(){e.trigger("change")}),i.on("ready",function(){e.trigger("ready")}))}return this}}}(),window.JSONEditor=o}(),function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)}(function(t){t.defineMode("yaml",function(){var t=new RegExp("\\b(("+["true","false","on","off","yes","no"].join(")|(")+"))$","i");return{token:function(e,i){var n=e.peek(),s=i.escaped;if(i.escaped=!1,"#"==n&&(0==e.pos||/\s/.test(e.string.charAt(e.pos-1))))return e.skipToEnd(),"comment";if(e.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(i.literal&&e.indentation()>i.keyCol)return e.skipToEnd(),"string";if(i.literal&&(i.literal=!1),e.sol()){if(i.keyCol=0,i.pair=!1,i.pairStart=!1,e.match(/---/))return"def";if(e.match(/\.\.\./))return"def";if(e.match(/\s*-\s+/))return"meta"}if(e.match(/^(\{|\}|\[|\])/))return"{"==n?i.inlinePairs++:"}"==n?i.inlinePairs--:"["==n?i.inlineList++:i.inlineList--,"meta";if(i.inlineList>0&&!s&&","==n)return e.next(),"meta";if(i.inlinePairs>0&&!s&&","==n)return i.keyCol=0,i.pair=!1,i.pairStart=!1,e.next(),"meta";if(i.pairStart){if(e.match(/^\s*(\||\>)\s*/))return i.literal=!0,"meta";if(e.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(0==i.inlinePairs&&e.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(i.inlinePairs>0&&e.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(e.match(t))return"keyword"}return!i.pair&&e.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(i.pair=!0,i.keyCol=e.indentation(),"atom"):i.pair&&e.match(/^:\s*/)?(i.pairStart=!0,"meta"):(i.pairStart=!1,i.escaped="\\"==n,e.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}}}}),t.defineMIME("text/x-yaml","yaml"),t.defineMIME("text/yaml","yaml")}),JSONEditor.defaults.themes.custom=JSONEditor.defaults.themes.bootstrap3.extend({getRangeInput:function(t,e,i){var n=this._super(t,e,i);return n.className=n.className.replace("form-control",""),n},getButton:function(t,e,i){var n=this._super(t,e,i);return-1!==i.indexOf("Delete")?n.className=n.className.replace("btn-default","btn-sm btn-xs btn-danger"):-1!==i.indexOf("Add")?n.className=n.className.replace("btn-default","btn-md btn-primary"):n.className=n.className.replace("btn-default","btn-sm btn-xs btn-secondary"),n},getHeaderButtonHolder:function(){var t=this.getButtonHolder();return t.className="btn-group btn-group-sm btn-right",t},getButtonHolder:function(){var t=document.createElement("div");return t.className="btn-group btn-left",t},getHeader:function(t){var e=document.createElement("h3");return e.onclick=function(t){t.preventDefault(),t.stopPropagation();var e=mQuery(this).find("> div.btn-group > button.json-editor-btn-collapse:first:visible");if(e.length){var i=e[0];if(i){var n=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0});i.dispatchEvent(n)}}},"string"==typeof t?e.textContent=t:e.appendChild(t),e}}),JSONEditor.defaults.iconlibs.custom=JSONEditor.AbstractIconLib.extend({mapping:{collapse:"caret-down",expand:"caret-right",delete:"times",edit:"pencil",add:"plus",cancel:"ban",save:"save",moveup:"arrow-up",movedown:"arrow-down"},icon_prefix:"fa fa-"}),JSONEditor.defaults.options.ajax=!1,JSONEditor.defaults.options.theme="custom",JSONEditor.defaults.options.iconlib="custom",JSONEditor.defaults.options.disable_edit_json=!0,JSONEditor.defaults.options.disable_properties=!0,JSONEditor.defaults.options.disable_array_delete_all_rows=!0,JSONEditor.defaults.options.disable_array_delete_last_row=!0,JSONEditor.defaults.options.remove_empty_properties=!1,JSONEditor.defaults.options.required_by_default=!0,JSONEditor.defaults.options.expand_height=!0,JSONEditor.defaults.options.keep_oneof_values=!1,JSONEditor.defaults.custom_validators.push(function(t,e,i){var n=[];if("textarea"===t.format&&void 0!==t.options&&!0===t.options.queryBuilder&&mQuery("textarea[name='"+i.replace("root.","root[").split(".").join("][")+"]']:first").each(function(){var t,e=mQuery(this),s=e.val(),r={},o=!1,a=e.hasClass("queryBuilder-checked");if(s.length){try{"object"!=typeof(r=mQuery.parseJSON(s))&&(o=!0,n.push({path:i,property:"format",message:"This Query Builder field does not contain an object."}))}catch(t){o=!0,n.push({path:i,property:"format",message:"Could not parse the JSON in this Query Builder field."})}if(!o)if(a){var l=e.next(".query-builder"),d=l.queryBuilder("getRules",Mautic.contactclientQBDefaultGet);if(s!==JSON.stringify(d,null,2))try{l.queryBuilder("setRules",r)}catch(t){o=!0,n.push({path:i,property:"format",message:"This Query Builder field is invalid."})}}else mQuery("<div>",{id:"success-definition-"+i.split(".")[2],class:"query-builder"}).insertAfter(e).queryBuilder(Mautic.contactclientQBDefaultSettings).on("rulesChanged.queryBuilder",function(){var i=mQuery(this);clearTimeout(t),t=setTimeout(function(){r=i.queryBuilder("getRules",Mautic.contactclientQBDefaultGet);var t=JSON.stringify(r,null,2);if(e.val()!==t)if(e.val(t),"createEvent"in document){var n=document.createEvent("HTMLEvents");n.initEvent("change",!1,!0),e[0].dispatchEvent(n)}else e[0].fireEvent("onchange")},50)}),e.addClass("queryBuilder-checked")}}).addClass("hide"),void 0!==t.options&&!0===t.options.codeMirror){var s="[name='"+i.replace("root.","root[").split(".").join("][")+"]']:first:not(.codeMirror-checked)";mQuery("input"+s+", textarea"+s).first().each(function(){if("undefined"!==t.options.tokenSource&&t.options.tokenSource.length)var e=t.options.tokenSource;var i=mQuery(this),n=i.is("textarea"),s="  ",r=function(t,i){return new Promise(function(i){clearTimeout(r);var n=function(t,i,n,r){if(n=i===n?"{{ "+i+" }}":"{{ "+i+" }}"+s+n,void 0!==window.JSONEditor.tokenCacheTypes[e][i]){var o=window.JSONEditor.tokenCacheTypes[e][i];n+="  ("+o.charAt(0).toUpperCase()+o.slice(1).toLowerCase()+")"}-1===t.indexOf(n)&&(void 0!==r&&r?t.unshift(n):t.push(n))},r=setTimeout(function(){if(t.getSelection())return i(null);if(void 0!==window.JSONEditor.tokenCache[e]){var r=t.getCursor(),a=t.getLine(r.line),l=r.ch,d=r.ch,h=!1,u=new RegExp("[\\s|\\w|{|\\.|\\|]"),c=new RegExp("[\\s|\\w|}|\\.|\\|]"),p=0;if(l&&/[}]/.test(a.charAt(l-1)))for(--l&&/[}]/.test(a.charAt(l-1))&&--l;l&&/[\s]/.test(a.charAt(l-1));)--l;for(;l&&p<2&&(u.test(a.charAt(l-1))||" "===a.charAt(l-1)&&u.test(a.charAt(l-2)));)"{"===a.charAt(l-1)&&++p,--l;for(p=0;d<a.length&&p<2&&c.test(a.charAt(d));)"}"===a.charAt(d)&&++p,++d;var f=a.slice(l,d).split("|"),m=f[0].replace(/[\s|{|}]/g,""),g=m.length,b=[];return g>=2&&(mQuery.each(window.JSONEditor.tokenCache[e],function(t,i){if(t.length===g&&t===m){n(b,t,i);var r=2===f.length?f[1].replace(/[\s|{|}]/g,""):"";if(void 0!==window.JSONEditor.tokenCacheTypes[e][m]){var o=window.JSONEditor.tokenCacheTypes[e][m];void 0!==window.JSONEditor.tokenCacheFormats[e][o]&&mQuery.each(window.JSONEditor.tokenCacheFormats[e][o],function(t,e){if("date"===o||"datetime"===o||"time"===o)if("PT1S"===e)e="Example: 59  ("+e+")";else if("PT1M"===e)e="Example: 45  ("+e+")";else if("PT1H"===e)e="Example: 12  ("+e+")";else if("P1D"===e)e="Example: 7  ("+e+")";else if("P1W"===e)e="Example: 4  ("+e+")";else if("P1M"===e)e="Example: 6  ("+e+")";else if("P1Y"===e)e="Example: 55  ("+e+")";else{e="Example: "+(new Date).format(e)+s+"("+e.replace(/\\/g,"")+")"}var i=-1!==t.indexOf(".")?t:o+"."+t;n(b,m+" | "+i,e,r.length&&i.substr(0,r.length)===r),h=!0}),h||console.log("No token formatting suggestions provided for field type: "+o)}if(b.length>=10)return!1}}),b.length<10&&mQuery.each(window.JSONEditor.tokenCache[e],function(t,e){t.length>g&&t.substr(0,g)===m&&n(b,t,e)}),b.length<10&&mQuery.each(window.JSONEditor.tokenCache[e],function(t,e){if(e.length>g&&e.substr(0,g)===m&&(n(b,t,e),10===b.length))return!1}),b.length<10&&mQuery.each(window.JSONEditor.tokenCache[e],function(t,e){if(t.length>g&&(-1!==t.indexOf(m)||-1!==m.indexOf(t))&&(n(b,t,e),10===b.length))return!1}),b.length<10&&mQuery.each(window.JSONEditor.tokenCache[e],function(t,e){if(e.length>g&&(-1!==e.indexOf(m)||-1!==m.indexOf(e))&&(n(b,t,e),10===b.length))return!1}),b.length<5&&mQuery.each(window.JSONEditor.tokenCache[e],function(t,e){if(t.length>=g&&levenshtein(m,t)<5&&(n(b,t,e),5===b.length))return!1}),b.length<5&&mQuery.each(window.JSONEditor.tokenCache[e],function(t,e){if(e.length>=g&&levenshtein(m,e)<5&&(n(b,t,e),5===b.length))return!1}),b.length)?(setTimeout(function(){o(t,e)},100),i({list:b,from:CodeMirror.Pos(r.line,l),to:CodeMirror.Pos(r.line,d)})):i(null)}},250)})},o=function(t,e){if(null!==t.state.completionActive&&void 0!==t.state.completionActive.data&&t.state.completionActive.data){var i=t.state.completionActive.data;CodeMirror.on(t.state.completionActive.data,"pick",function(e,n){var r=e.split(s);if(r.length>1){var o=t.state.completionActive&&void 0!==t.state.completionActive.data?t.state.completionActive.data:i;t.replaceRange(r[0],o.from,{ch:o.from.ch+e.length,line:o.from.line},"complete")}})}},a=n?{mode:"json/mustache",lint:"json",theme:"cc",gutters:["CodeMirror-lint-markers"],lintOnChange:!0,matchBrackets:!1,autoCloseBrackets:!0,lineNumbers:!0,lineWrapping:!0,hintOptions:{hint:function(t,e){return r(t)}}}:{mode:"yaml/mustache",theme:"cc",gutters:[],lintOnChange:!1,matchBrackets:!1,autoCloseBrackets:!0,lineNumbers:!1,lineWrapping:!1,extraKeys:{Tab:!1,"Shift-Tab":!1},hintOptions:{hint:function(t,e){return r(t)}}},l=setInterval(function(){if(i.length){if(i.is(":visible")){clearInterval(l);var t=CodeMirror.fromTextArea(i[0],a);t.on("change",function(t){if(i.val(t.getValue()),"createEvent"in document){var e=document.createEvent("HTMLEvents");e.initEvent("change",!1,!0),i[0].dispatchEvent(e)}else i[0].fireEvent("onchange")}),t.on("cursorActivity",function(t,e){CodeMirror.commands.autocomplete(t,null,{completeSingle:!1})}),i.addClass("codeMirror-active"),n&&i.parent().parent().parent().parent().find('div[data-schemaid="requestFormat"]:first select:first').trigger("change")}}else clearInterval(l)},300)}).addClass("codeMirror-checked")}return"datestring"===t.format&&(/^[0-9|yY]{4}-[0-9]{1,2}-[0-9]{1,2}$/.test(e)||/^[0-9]{1,2}-[0-9]{1,2}$/.test(e)||n.push({path:i,property:"format",message:"Dates should be in ISO format as YYYY-MM-DD or MM-DD for repeating dates"})),"date"===t.format&&mQuery("input[name='"+i.replace("root.","root[").split(".").join("][")+"]']:not(.date-checked)").each(function(){Mautic.activateDateTimeInputs(mQuery(this),"date");var t=!1;mQuery(this).on("change",function(e){if(t)t=!1;else if("createEvent"in document){t=!0;var i=document.createEvent("HTMLEvents");i.initEvent("change",!1,!0),mQuery(this)[0].dispatchEvent(i)}else mQuery(this)[0].fireEvent("onchange")})}).addClass("date-checked"),"select"===t.format&&mQuery("select[name='"+i.replace("root.","root[").split(".").join("][")+"]']").each(function(){var t=mQuery(this),e=!1;t.children("option").length>8?t.hasClass("chosen-checked")?t.trigger("chosen:updated"):t.chosen({width:"100%",allow_single_deselect:!1,include_group_label_in_selected:!1,search_contains:!0}).change(function(i){if(e)e=!1;else if(i.stopPropagation(),i.preventDefault(),"createEvent"in document){e=!0;var n=document.createEvent("HTMLEvents");n.initEvent("change",!1,!0),t[0].dispatchEvent(n)}else t[0].fireEvent("onchange")}):t.trigger("chosen:updated")}).addClass("chosen-checked"),"range"===t.format&&mQuery("input[type='range'][name='"+i.replace("root.","root[").split(".").join("][")+"]']:not(.slider-checked)").each(function(){var t=mQuery(this),e=parseInt(mQuery(this).attr("min")),i=parseInt(mQuery(this).attr("max")),n=parseInt(mQuery(this).attr("step")),s=parseInt(mQuery(this).val()),r={min:e,max:i,value:s,step:n};0===e&&100===i&&(r.formatter=function(t){return t+"%"});var o=mQuery('<span class="slidervalue">'+s+"%</span>").insertAfter(t.parent().find("span:first"));new Slider(mQuery(this)[0],r).on("change",function(e){if("createEvent"in document){var i=document.createEvent("HTMLEvents");i.initEvent("change",!1,!0),t[0].dispatchEvent(i)}else t[0].fireEvent("onchange");o.text(e.newValue+"%")})}).addClass("slider-checked"),"string"===t.type&&void 0!==t.options&&void 0!==t.options.notBlank&&!0===t.options.notBlank&&""===e.replace(/^\s+|\s+$/gm,"")&&n.push({path:i,property:"format",message:"This field cannot be left blank"}),"string"===t.type&&void 0!==t.options&&void 0!==t.options.placeholder&&mQuery("input[type='text'][name='"+i.replace("root.","root[").split(".").join("][")+"]']:first:not([placeholder])").each(function(){mQuery(this).prop("placeholder",t.options.placeholder)}),n}),Mautic.contactsourceCampaigns=function(){var t=mQuery("#contactsource_campaign_settings:first:not(.campaigns-checked)");if(t.length){var e,i={};mQuery.ajax({url:mauticAjaxUrl,type:"POST",data:{action:"plugin:mauticContactSource:getCampaignList"},dataType:"json",success:function(t){void 0!==t.array&&(i=t.array)},error:function(t,e,i){Mautic.processAjaxError(t,e,i)},complete:function(){mQuery.ajax({dataType:"json",cache:!0,url:mauticBasePath+"/"+mauticAssetPrefix+"plugins/MauticContactSourceBundle/Assets/json/campaigns.json",success:function(n){var s=n;window.tmpa=s.definitions.campaign.properties.campaignId.enumSource[0].source,window.tmpb=i,i.length&&(s.definitions.campaign.properties.campaignId.enumSource[0].source=i);var r=mQuery("<div>",{class:"contactsource_jsoneditor"}).insertBefore(t);e=new JSONEditor(r[0],{schema:s,disable_collapse:!0}),t.change(function(){var t,i=mQuery(this).val();if(i.length)try{"object"==typeof(t=mQuery.parseJSON(i))&&e.setValue(t)}catch(t){console.warn(t)}}).trigger("change"),e.on("change",function(i){var n=e.getValue();if("object"==typeof n){var s=JSON.stringify(n,null,"  ");s.length&&(t.val(s),mQuery('select[name$="[scope]"]:not(.scope-checked)').off("change").on("change",function(){var t=mQuery(this).parent().parent().parent().find('input[name$="[value]"]');1===parseInt(mQuery(this).val())?t.addClass("hide"):t.removeClass("hide")}).addClass("scope-checked").trigger("change"))}r.find('div[data-schematype="string"][data-schemapath*=".campaignId"] .control-label').each(function(){var t=mQuery(this).parent().find("select:first").val(),e="Campaign";null!==t&&0<t&&(e+=" "+t,mQuery(this).html('<a href="'+mauticBasePath+"/s/campaigns/edit/"+t+'" target="_blank">'+e+"</a>"))})}),t.addClass("campaigns-checked"),r.show()}})}})}},Mautic.contactsourceDocumentation=function(){var t=mQuery('input[name="contactsource[documentation]"]:not(.docs-checked)');if(t.length){t.change(function(){var t=mQuery('input[name="contactsource[documentation]"]:checked').val(),e=mQuery(".description-public");"1"===t?e.removeClass("hide"):e.addClass("hide")}).first().parent().parent().find("label.active input:first").trigger("change");var e="#details";mQuery(".contactsource-tab").click(function(){var t=mQuery(this).attr("href");t!==e&&("#campaigns"===(e=t)?(mQuery(".contactsource-left").addClass("col-md-12").removeClass("col-md-9"),mQuery(".contactsource-right").addClass("hide")):(mQuery(".contactsource-left").removeClass("col-md-12").addClass("col-md-9"),mQuery(".contactsource-right").removeClass("hide")))}),t.addClass("docs-checked")}},Mautic.contactsourceLoadCampaignBudgetsWidget=function(){function t(t,e){return'<a href="'+e+'">'+t+"</a>"}mQuery("#budgets-widget").length&&mQuery("#budgets-widget:first:not(.table-initialized)").addClass("table-initialized").each(function(){var e=mQuery("#budgets-widget-wrqpper").data("height");mQuery.ajax({url:mauticAjaxUrl,type:"POST",data:{action:"plugin:mauticContactSource:campaignBudgetsDashboard"},cache:!0,dataType:"json",success:function(i){var n=Math.floor((e-140)/40);mQuery("#budgets-widget").DataTable({language:{emptyTable:"No results found for this date range and filters."},data:i.rows,autoFill:!0,columns:i.columns,order:[[2,"asc"],[4,"asc"]],bLengthChange:!1,lengthMenu:[[n]],dom:"<<lBf>rtip>",buttons:["excelHtml5","csvHtml5"],columnDefs:[{render:function(t,e,i){return function(t){var e="#cb4641";"fa-heartbeat"==t&&(e="#2a84c5");return'<i style="color:'+e+';" class="fa '+t+'"></i>'}(i[0])},targets:0},{render:function(e,i,n){return t(n[1],n[2])},targets:1},{render:function(e,i,n){return t(n[3],n[4])},targets:3},{render:function(t,e,i){return function(t,e){var i="success";parseInt(e)>=90&&(i="danger");return'<span class="label label-'+i+'">'+t+'</span>&nbsp;<span class="label label-'+i+'">'+e+"</span>"}(i[8],i[9])},targets:8},{visible:!1,targets:[2,4,9]},{width:"5%",targets:[0]},{width:"45%",targets:[5]}]}),mQuery("#budget-widget-overlay").hide(),mQuery("#budgets-widget_wrapper .dt-buttons").css({float:"right",marginLeft:"10px"})}})})},Mautic.contactsourceTimelineTable=function(t){var e=mQuery("#timeline-table");e.length&&!e.hasClass("table-initialized")&&mQuery.ajax({url:mauticAjaxUrl,type:"POST",data:{action:"plugin:mauticContactSource:ajaxTimeline",objectId:t},cache:!0,dataType:"json",success:function(t){t.success>0&&(mQuery("#sourceTransactions-builder-overlay").hide(),e.append(t.html),mQuery("#timeline-table").addClass("table-initialized"),Mautic.contactsourceTimelineOnLoad())}})},Mautic.contactsourceTimelineOnLoad=function(t,e){var i=function(t){if(!t.hasClass("codemirror-active")){var e=t.find("textarea.codeMirror-json");e.length&&CodeMirror.fromTextArea(e[0],{mode:{name:"javascript",json:!0},theme:"cc",gutters:[],lineNumbers:!1,lineWrapping:!0,readOnly:!0}),t.addClass("codemirror-active")}};mQuery("#contactsource-timeline a[data-activate-details='all']").on("click",function(){mQuery(this).find("span").first().hasClass("fa-level-down")?(mQuery("#contactsource-timeline a[data-activate-details!='all']").each(function(){var t=mQuery(this).data("activate-details"),e=mQuery("#timeline-details-"+t);t&&e.length&&(e.removeClass("hide"),i(e),mQuery(this).addClass("active"))}),mQuery(this).find("span").first().removeClass("fa-level-down").addClass("fa-level-up")):(mQuery("#contactsource-timeline a[data-activate-details!='all']").each(function(){var t=mQuery(this).data("activate-details"),e=mQuery("#timeline-details-"+t);t&&e.length&&(e.addClass("hide"),mQuery(this).removeClass("active"))}),mQuery(this).find("span").first().removeClass("fa-level-up").addClass("fa-level-down"))}),mQuery("#contactsource-timeline .timeline-icon a[data-activate-details!='all']").on("click",function(){var t=mQuery(this).data("activate-details");if(t&&mQuery("#timeline-details-"+t).length){var e=mQuery(this).hasClass("active"),n=mQuery("#timeline-details-"+t);e?(n.addClass("hide"),mQuery(this).removeClass("active")):(n.removeClass("hide"),i(n),mQuery(this).addClass("active"))}}),mQuery("span#TimelineCount").html(contactSource.transactionsTotal),mQuery("#transactions-filter-btn").unbind("click").click(function(){mQuery(".transaction-filter").toggle()}),mQuery("#timeline-table .pagination-wrapper .pagination a").not(".disabled a").click(function(t){t.preventDefault();var e=this.href.split("?")[0],i=e.substr(e.lastIndexOf("page/")+5),n=mQuery("#transactions-filters");mQuery("#transactions_page").val(i),Mautic.startPageLoadingBar(),n.submit()}),mQuery(".timeline-header-sort").click(function(t){var e=mQuery("#transactions-filters");mQuery("#orderby").val(mQuery(this).data("sort")),mQuery("#orderbydir").val(mQuery(this).data("sort_dir")),Mautic.startPageLoadingBar(),e.submit()}),mQuery(".transaction-filter").change(function(t){var e=mQuery("#transactions-filters");mQuery("#transactions_page").val(1),Mautic.startPageLoadingBar(),e.submit()}),mQuery("#transactions-filters").submit(function(t){t.preventDefault(),Mautic.contactSourceTransactionFormSubmit(this)})},Mautic.contactSourceTransactionFormSubmit=function(t){mQuery("#transactions_dateFrom").val(mQuery("#sourcechartfilter_date_from").val()),mQuery("#transactions_dateTo").val(mQuery("#sourcechartfilter_date_to").val()),mQuery("#transactions_campaignId").val(mQuery("#sourcechartfilter_campaign").val()),mQuery("#transaction_message").val(mQuery("#filter-message").val()),mQuery("#transaction_contact_id").val(mQuery("#filter-contact_id").val()),mQuery("#transaction_type").val(mQuery("#filter-type").val());t=$(t);mQuery.ajax({type:t.attr("method"),url:mauticAjaxUrl,data:{action:"plugin:mauticContactSource:ajaxTimeline",filters:t.serializeArray(),objectId:contactSource.id}}).done(function(t){mQuery("div#timeline-table").html(t.html),mQuery("span#TimelineCount").html(t.total),Mautic.contactsourceTimelineOnLoad(),Mautic.stopPageLoadingBar()}).fail(function(t){alert("Ooops! Something went wrong")})},Mautic.contactsourceOnLoad=function(){Mautic.contactsourceDocumentation(),Mautic.contactsourceCampaigns();var t="#details";mQuery(".contactsource-tab").click(function(){var e=mQuery(this).attr("href");e!==t&&("#campaigns"===(t=e)?(mQuery(".contactsource-left").addClass("col-md-12").removeClass("col-md-9"),mQuery(".contactsource-right").addClass("hide")):(mQuery(".contactsource-left").removeClass("col-md-12").addClass("col-md-9"),mQuery(".contactsource-right").removeClass("hide")))}),mQuery("#contactsource-timeline").length&&Mautic.contactsourceTimelineOnLoad(),mQuery("#budgets-widget").length&&Mautic.contactsourceLoadCampaignBudgetsWidget()},Mautic.contactSourceUtmSourceConfirm=function(){var t=mQuery("#contactsource_utmSource").val();mQuery.ajax({url:mauticAjaxUrl,type:"POST",data:{action:"plugin:mauticContactSource:confirmUtmSource",utmSource:t},cache:!0,dataType:"json",success:function(t){1==t?mQuery("#contactsource_utmSource").parent().addClass("has-warning").append('<div id="utm-warning" class="help-block">This UTM Source is used by other Contact Sources.</div>'):(mQuery("#contactsource_utmSource").parent().removeClass("has-warning"),mQuery("#utm-warning").remove())}})};